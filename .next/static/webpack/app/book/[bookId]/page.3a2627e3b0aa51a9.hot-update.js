"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/book/[bookId]/page",{

/***/ "(app-pages-browser)/./app/book/[bookId]/page.tsx":
/*!************************************!*\
  !*** ./app/book/[bookId]/page.tsx ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @swc/helpers/_/_async_to_generator */ \"(app-pages-browser)/./node_modules/next/node_modules/@swc/helpers/esm/_async_to_generator.js\");\n/* harmony import */ var _swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @swc/helpers/_/_object_spread */ \"(app-pages-browser)/./node_modules/next/node_modules/@swc/helpers/esm/_object_spread.js\");\n/* harmony import */ var _swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @swc/helpers/_/_object_spread_props */ \"(app-pages-browser)/./node_modules/next/node_modules/@swc/helpers/esm/_object_spread_props.js\");\n/* harmony import */ var _swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @swc/helpers/_/_sliced_to_array */ \"(app-pages-browser)/./node_modules/next/node_modules/@swc/helpers/esm/_sliced_to_array.js\");\n/* harmony import */ var _swc_helpers_to_consumable_array__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @swc/helpers/_/_to_consumable_array */ \"(app-pages-browser)/./node_modules/next/node_modules/@swc/helpers/esm/_to_consumable_array.js\");\n/* harmony import */ var _swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @swc/helpers/_/_ts_generator */ \"(app-pages-browser)/./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_FaHeart_FaShare_react_icons_fa__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=FaHeart,FaShare!=!react-icons/fa */ \"(app-pages-browser)/./node_modules/react-icons/fa/index.mjs\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ \"(app-pages-browser)/./node_modules/react-redux/es/index.js\");\n/* harmony import */ var uniqid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uniqid */ \"(app-pages-browser)/./node_modules/uniqid/index.js\");\n/* harmony import */ var uniqid__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(uniqid__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var use_clipboard_copy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! use-clipboard-copy */ \"(app-pages-browser)/./node_modules/use-clipboard-copy/dist/index.js\");\n/* harmony import */ var use_clipboard_copy__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(use_clipboard_copy__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _assets_translations_AlertMessages_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../assets/translations/AlertMessages.json */ \"(app-pages-browser)/./assets/translations/AlertMessages.json\");\n/* harmony import */ var _components_Loader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../components/Loader */ \"(app-pages-browser)/./components/Loader.tsx\");\n/* harmony import */ var _context_SnackBarContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../context/SnackBarContext */ \"(app-pages-browser)/./context/SnackBarContext.tsx\");\n/* harmony import */ var _hooks_useAuthContext__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../hooks/useAuthContext */ \"(app-pages-browser)/./hooks/useAuthContext.tsx\");\n/* harmony import */ var _hooks_useGetDocument__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../hooks/useGetDocument */ \"(app-pages-browser)/./hooks/useGetDocument.tsx\");\n/* harmony import */ var _hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../hooks/useGetDocuments */ \"(app-pages-browser)/./hooks/useGetDocuments.tsx\");\n/* harmony import */ var _hooks_useRealDatabase__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../hooks/useRealDatabase */ \"(app-pages-browser)/./hooks/useRealDatabase.tsx\");\n/* harmony import */ var _hooks_useRealtimeDocument__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../hooks/useRealtimeDocument */ \"(app-pages-browser)/./hooks/useRealtimeDocument.tsx\");\n/* harmony import */ var _hooks_useRealtimeDocuments__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../hooks/useRealtimeDocuments */ \"(app-pages-browser)/./hooks/useRealtimeDocuments.tsx\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var components_buttons_BlueButton__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! components/buttons/BlueButton */ \"(app-pages-browser)/./components/buttons/BlueButton.tsx\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! react-hot-toast */ \"(app-pages-browser)/./node_modules/react-hot-toast/dist/index.mjs\");\n/* harmony import */ var _nextui_org_react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @nextui-org/react */ \"(app-pages-browser)/./node_modules/@nextui-org/tabs/dist/chunk-LVAJRTWU.mjs\");\n/* harmony import */ var _nextui_org_react__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @nextui-org/react */ \"(app-pages-browser)/./node_modules/@nextui-org/tabs/dist/chunk-FXLYF44B.mjs\");\n/* harmony import */ var _nextui_org_react__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @nextui-org/react */ \"(app-pages-browser)/./node_modules/@nextui-org/chip/dist/chunk-YOZJQNDF.mjs\");\n/* harmony import */ var _barrel_optimize_names_IoChatbubbleSharp_react_icons_io5__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! __barrel_optimize__?names=IoChatbubbleSharp!=!react-icons/io5 */ \"(app-pages-browser)/./node_modules/react-icons/io5/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_FaBookBookmark_FaStar_react_icons_fa6__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! __barrel_optimize__?names=FaBookBookmark,FaStar!=!react-icons/fa6 */ \"(app-pages-browser)/./node_modules/react-icons/fa6/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n// import CompetitionMembers\n//   from '../../components/CommunityComponents/CompetitionMembers';\n\n\n\n\n\n\n\n\n// import EditBook from '../Forms&FormsPages/EditBook';\n\n\n\n\n\n\n\nfunction Book(param) {\n    var params = param.params;\n    _s();\n    var id = params.bookId;\n    var dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useDispatch)();\n    var navigate = (0,next_navigation__WEBPACK_IMPORTED_MODULE_15__.useRouter)();\n    var user = (0,_hooks_useAuthContext__WEBPACK_IMPORTED_MODULE_8__.useAuthContext)().user;\n    var _useState = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_18__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), isPending = _useState[0], setIsPending = _useState[1];\n    var getDocument = (0,_hooks_useRealtimeDocument__WEBPACK_IMPORTED_MODULE_12__[\"default\"])().getDocument;\n    var getDocuments = (0,_hooks_useRealtimeDocuments__WEBPACK_IMPORTED_MODULE_13__[\"default\"])().getDocuments;\n    var isDarkModed = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(function(state) {\n        return state.mode.isDarkMode;\n    });\n    var _useRealDatabase = (0,_hooks_useRealDatabase__WEBPACK_IMPORTED_MODULE_11__.useRealDatabase)(), removeFromDataBase = _useRealDatabase.removeFromDataBase, addToDataBase = _useRealDatabase.addToDataBase, updateDatabase = _useRealDatabase.updateDatabase;\n    var _useState1 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_18__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), isLiked = _useState1[0], setIsLiked = _useState1[1];\n    var _useState2 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_18__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), bookReaderForm = _useState2[0], setBookReaderForm = _useState2[1];\n    var _useState3 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_18__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), updateReaderStatus = _useState3[0], setUpdateReaderStatus = _useState3[1];\n    var _useState4 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_18__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), showLikers = _useState4[0], setShowLikers = _useState4[1];\n    var _useState5 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_18__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), expanded = _useState5[0], setExpanded = _useState5[1];\n    var handleOpenAccord = function(panel) {\n        return function(event, isExpanded) {\n            setExpanded(isExpanded ? panel : false);\n        };\n    };\n    var showAllLikers = function() {\n        setShowLikers(true);\n    };\n    var hideAllLikers = function() {\n        setShowLikers(false);\n    };\n    var _useGetDocuments = (0,_hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(\"lovedBooks\"), likers = _useGetDocuments.documents;\n    var _useGetDocuments1 = (0,_hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(\"bookRecensions\"), recensionObjects = _useGetDocuments1.documents;\n    var recensions = recensionObjects.map(function(bookReader) {\n        if (bookReader.recensions) {\n            return bookReader.recensions;\n        } else {\n            return [];\n        }\n    }).map(function(obj) {\n        if (obj !== null && obj !== undefined) {\n            var nestedObject = Object.values(obj);\n            return nestedObject;\n        } else {\n            return;\n        }\n    }).flat();\n    var showIfLiked = function() {\n        var _ref = (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_19__._)(function() {\n            var docElement;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_20__.__generator)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!user) return [\n                            3,\n                            2\n                        ];\n                        return [\n                            4,\n                            getDocument(\"lovedBooks\", \"\".concat(id, \"-\").concat(user.uid))\n                        ];\n                    case 1:\n                        docElement = _state.sent();\n                        if (docElement) {\n                            setIsLiked(true);\n                        } else {\n                            setIsLiked(false);\n                        }\n                        _state.label = 2;\n                    case 2:\n                        return [\n                            2\n                        ];\n                }\n            });\n        });\n        return function showIfLiked() {\n            return _ref.apply(this, arguments);\n        };\n    }();\n    var document = (0,_hooks_useGetDocument__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(\"books\", id).document;\n    var _useGetDocuments2 = (0,_hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(\"bookReaders\"), readersObjects = _useGetDocuments2.documents;\n    var readers = readersObjects.map(function(bookReader) {\n        return bookReader.readers;\n    }).map(function(obj) {\n        var nestedObject = Object.values(obj);\n        return nestedObject;\n    }).flat();\n    var publishRecension = function(recension, bookRate) {\n        if (user) {\n            if (recension.trim(\"\").length < 10) {\n                dispatch(_context_SnackBarContext__WEBPACK_IMPORTED_MODULE_7__.snackbarActions.showMessage({\n                    message: \"\".concat(_assets_translations_AlertMessages_json__WEBPACK_IMPORTED_MODULE_5__.notifications.wrong.recensionLonger[selectedLanguage]),\n                    alertType: \"error\"\n                }));\n                return;\n            }\n            addToDataBase(\"bookRecensions\", \"\".concat(id, \"/recensions/\").concat(user.uid), {\n                recensionedBook: id,\n                bookRate: bookRate,\n                recension: recension,\n                displayName: user.displayName,\n                email: user.email,\n                id: user.uid,\n                photoURL: user.photoURL,\n                dateOfFinish: new Date().getTime()\n            });\n            var readerObject = readers.find(function(reader) {\n                return reader.id === user.uid && reader.bookReadingId === id;\n            });\n            updateDatabase((0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_21__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_22__._)({}, readerObject), {\n                recension: recension\n            }), \"bookReaders\", \"\".concat(id, \"/readers/\").concat(user.uid));\n        }\n    };\n    var _useGetDocuments3 = (0,_hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(\"communityMembers\"), membersObjects = _useGetDocuments3.documents;\n    var competitionsMembers = membersObjects.map(function(communityMember) {\n        return communityMember.users;\n    }).map(function(member) {\n        return Object.values(member);\n    }).flat();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function() {\n        showIfLiked();\n    }, [\n        showIfLiked\n    ]);\n    var selectedLanguage = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(function(state) {\n        return state.languageSelection.selectedLangugage;\n    });\n    var getCompetitionMembers = function() {\n        if (user) {\n            var _loop = function() {\n                var currentCompetition = userCompetitions.pop();\n                if (!visitedCompetitions.includes(currentCompetition)) {\n                    var _userCompetitions;\n                    var membersInCurrentCompetition = competitionsMembers.filter(function(member) {\n                        return member.belongsTo === currentCompetition;\n                    });\n                    result = result.concat(membersInCurrentCompetition);\n                    var newMembersCompetitions = membersInCurrentCompetition.filter(function(member) {\n                        return !visitedCompetitions.includes(member.belongsTo);\n                    }).map(function(member) {\n                        return member.belongsTo;\n                    });\n                    (_userCompetitions = userCompetitions).push.apply(_userCompetitions, (0,_swc_helpers_to_consumable_array__WEBPACK_IMPORTED_MODULE_23__._)(newMembersCompetitions));\n                    visitedCompetitions.push(currentCompetition);\n                }\n            };\n            var userCompetitions = competitionsMembers.filter(function(doc) {\n                return doc.value.id === user.uid;\n            }).map(function(communityMember) {\n                return communityMember.belongsTo;\n            });\n            var result = [];\n            var visitedCompetitions = [];\n            while(userCompetitions.length > 0)_loop();\n            result = result.filter(function(value, index, self) {\n                return self.findIndex(function(m) {\n                    return m.value.id === value.value.id;\n                }) === index;\n            });\n            return result.filter(function(member) {\n                return member.value.id !== user.uid;\n            });\n        }\n    };\n    var changeLoveState = function() {\n        var _ref = (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_19__._)(function() {\n            var likerDoc;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_20__.__generator)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!user) return [\n                            3,\n                            2\n                        ];\n                        return [\n                            4,\n                            getDocument(\"lovedBooks\", \"\".concat(id, \"-\").concat(user.uid))\n                        ];\n                    case 1:\n                        likerDoc = _state.sent();\n                        if (!likerDoc) {\n                            addToDataBase(\"lovedBooks\", \"\".concat(id, \"-\").concat(user.uid), {\n                                displayName: user.displayName,\n                                lovedBookId: id,\n                                lovedBy: user.uid,\n                                photoURL: user.photoURL\n                            });\n                            getDocument(\"likesData\", id).then(function(data) {\n                                updateDatabase({\n                                    likesAmount: data.likesAmount + 1\n                                }, \"likesData\", id);\n                            });\n                        } else {\n                            removeFromDataBase(\"lovedBooks\", \"\".concat(id, \"-\").concat(user.uid));\n                            getDocument(\"likesData\", id).then(function(data) {\n                                updateDatabase({\n                                    likesAmount: data.likesAmount - 1\n                                }, \"likesData\", id);\n                            });\n                        }\n                        _state.label = 2;\n                    case 2:\n                        return [\n                            2\n                        ];\n                }\n            });\n        });\n        return function changeLoveState() {\n            return _ref.apply(this, arguments);\n        };\n    }();\n    var clickDelete = function() {\n        setIsPending(true);\n        removeFromDataBase(\"books\", id);\n        dispatch(_context_SnackBarContext__WEBPACK_IMPORTED_MODULE_7__.snackbarActions.showMessage({\n            message: \"\".concat(_assets_translations_AlertMessages_json__WEBPACK_IMPORTED_MODULE_5__.notifications.successfull.remove[selectedLanguage]),\n            alertType: \"success\"\n        }));\n        setIsPending(false);\n        navigate.push(\"/\");\n    };\n    var isOpened = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(function(state) {\n        return state.modal.isOpened;\n    });\n    var clipboard = (0,use_clipboard_copy__WEBPACK_IMPORTED_MODULE_4__.useClipboard)();\n    var copyPathName = function() {\n        clipboard.copy(window.location.href);\n        react_hot_toast__WEBPACK_IMPORTED_MODULE_17__[\"default\"].success(\"Successfully copied !\");\n        dispatch(_context_SnackBarContext__WEBPACK_IMPORTED_MODULE_7__.snackbarActions.showMessage({\n            message: \"\".concat(_assets_translations_AlertMessages_json__WEBPACK_IMPORTED_MODULE_5__.notifications.successfull.copied[selectedLanguage]),\n            alertType: \"success\"\n        }));\n    };\n    var openBookReaderForm = function() {\n        setBookReaderForm(true);\n    };\n    var openUpdateReaderForm = function() {\n        setUpdateReaderStatus(true);\n    };\n    var closeBookReaderForm = function() {\n        setBookReaderForm(false);\n    };\n    var closeUpdateReaderForm = function() {\n        setUpdateReaderStatus(false);\n    };\n    var removeFromShelf = function() {\n        if (user) {\n            if (readers.filter(function(doc) {\n                return doc.bookReadingId === id;\n            }).length === 1) {\n                removeFromDataBase(\"bookReaders\", \"\".concat(id));\n            } else {\n                removeFromDataBase(\"bookReaders\", \"\".concat(id, \"/readers/\").concat(user.uid));\n                removeFromDataBase(\"bookRecensions\", \"\".concat(id, \"/recensions/\").concat(user.uid));\n            }\n        }\n    };\n    var addToShelf = function(hasStarted, hasFinished, readPages) {\n        if (user) {\n            addToDataBase(\"bookReaders\", \"\".concat(id, \"/readers/\").concat(user.uid), {\n                bookRate: 0,\n                bookReadingId: id,\n                displayName: user.displayName,\n                email: user.email,\n                hasFinished: hasFinished,\n                id: user.uid,\n                pagesRead: readPages,\n                startedReading: hasStarted,\n                dateOfFinish: hasFinished ? new Date().getTime() : null,\n                recension: \"\",\n                photoURL: user.photoURL\n            });\n        }\n        var updateReaderState = function(hasStarted, hasFinished, readPages) {\n            if (user) {\n                if (document.pagesNumber > readPages) {\n                    removeFromDataBase(\"bookRecensions\", \"\".concat(id, \"/recensions/\").concat(user.uid));\n                }\n                addToDataBase(\"bookReaders\", \"\".concat(id, \"/readers/\").concat(user.uid), {\n                    bookRate: 0,\n                    bookReadingId: id,\n                    displayName: user.displayName,\n                    email: user.email,\n                    hasFinished: hasFinished,\n                    id: user.uid,\n                    pagesRead: readPages,\n                    startedReading: hasStarted,\n                    dateOfFinish: hasFinished ? new Date().getTime() : null,\n                    recension: \"\",\n                    photoURL: user.photoURL\n                });\n            }\n        };\n    };\n    var _useState6 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_18__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), showList = _useState6[0], setShowList = _useState6[1];\n    var showListsOfUsers = function() {\n        setShowList(true);\n    };\n    var closeListsOfUsers = function() {\n        setShowList(false);\n    };\n    var recommendToUser = function() {\n        var _ref = (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_19__._)(function(receiverId) {\n            var firstPossibility, secondPossibility, existingChat1, existingChat2, chatId, messageId;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_20__.__generator)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!user) return [\n                            3,\n                            3\n                        ];\n                        firstPossibility = \"\".concat(user.uid, \"-\").concat(receiverId);\n                        secondPossibility = \"\".concat(receiverId, \"-\").concat(user.uid);\n                        return [\n                            4,\n                            getDocument(\"usersChats\", firstPossibility)\n                        ];\n                    case 1:\n                        existingChat1 = _state.sent();\n                        return [\n                            4,\n                            getDocument(\"usersChats\", secondPossibility)\n                        ];\n                    case 2:\n                        existingChat2 = _state.sent();\n                        if (existingChat1 || existingChat2) {\n                            chatId = existingChat1 ? firstPossibility : secondPossibility;\n                        } else {\n                            chatId = firstPossibility;\n                            addToDataBase(\"usersChats\", firstPossibility, {\n                                chatId: firstPossibility,\n                                createdAt: new Date().getTime()\n                            });\n                            addToDataBase(\"entitledToChat\", \"\".concat(firstPossibility, \"/\").concat(user.uid), {\n                                entitledUserId: user.uid,\n                                entitledChatId: firstPossibility\n                            });\n                            addToDataBase(\"entitledToChat\", \"\".concat(firstPossibility, \"/\").concat(receiverId), {\n                                entitledUserId: receiverId,\n                                entitledChatId: firstPossibility\n                            });\n                        }\n                        messageId = \"\".concat(chatId, \"/\").concat(new Date().getTime()).concat(uniqid__WEBPACK_IMPORTED_MODULE_3___default()());\n                        addToDataBase(\"usersChatMessages\", messageId, {\n                            content: document.photoURL,\n                            message: \"Hi, I want to recommend you the book \".concat(document.title, \" written by \").concat(document.author, \".\"),\n                            chatId: chatId,\n                            sender: {\n                                id: user.uid\n                            },\n                            receiver: {\n                                id: receiverId\n                            },\n                            sentAt: new Date().getTime()\n                        });\n                        addToDataBase(\"recommendations\", messageId, {\n                            content: document.photoURL,\n                            message: \"Hi, I want to recommend you the book \".concat(document.title, \" written by \").concat(document.author, \".\"),\n                            chatId: chatId,\n                            messageId: messageId,\n                            sender: {\n                                id: user.uid\n                            },\n                            receiver: {\n                                id: receiverId\n                            },\n                            sentAt: new Date().getTime()\n                        });\n                        dispatch(_context_SnackBarContext__WEBPACK_IMPORTED_MODULE_7__.snackbarActions.showMessage({\n                            message: \"\".concat(_assets_translations_AlertMessages_json__WEBPACK_IMPORTED_MODULE_5__.notifications.successfull.send[selectedLanguage]),\n                            alertType: \"success\"\n                        }));\n                        _state.label = 3;\n                    case 3:\n                        return [\n                            2\n                        ];\n                }\n            });\n        });\n        return function recommendToUser(receiverId) {\n            return _ref.apply(this, arguments);\n        };\n    }();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen h-full overflow-x-hidden\",\n        children: [\n            document && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex max-w-7xl justify-around gap-4 mx-auto m-0 w-full xl:p-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-72 w-52\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                src: document.photoURL,\n                                alt: \"\",\n                                className: \"w-full object-cover h-full rounded-xl\",\n                                width: 80,\n                                height: 80\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                lineNumber: 420,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                            lineNumber: 419,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col gap-2 max-w-3xl w-full\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-white text-3xl\",\n                                    children: document.title\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                    lineNumber: 424,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex gap-6 items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: changeLoveState,\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FaHeart_FaShare_react_icons_fa__WEBPACK_IMPORTED_MODULE_24__.FaHeart, {\n                                                        className: \"transition-all duration-400 \".concat(isLiked ? \"text-red-400\" : \"text-white\"),\n                                                        size: 24\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                                        lineNumber: 428,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                                    lineNumber: 427,\n                                                    columnNumber: 19\n                                                }, this),\n                                                likers && likers.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-white\",\n                                                    children: [\n                                                        likers.filter(function(item) {\n                                                            return item.lovedBookId === id;\n                                                        })[0].displayName,\n                                                        \" and other \",\n                                                        likers.filter(function(item) {\n                                                            return item.lovedBookId === id;\n                                                        }).length - 1,\n                                                        \" loves it\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                                    lineNumber: 430,\n                                                    columnNumber: 51\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                            lineNumber: 426,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(components_buttons_BlueButton__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                            additionalClasses: \"flex items-center gap-2\",\n                                            onClick: copyPathName,\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FaHeart_FaShare_react_icons_fa__WEBPACK_IMPORTED_MODULE_24__.FaShare, {\n                                                    size: 24,\n                                                    className: \"text-white\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                                    lineNumber: 434,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \"Share\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                            lineNumber: 433,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                    lineNumber: 425,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_nextui_org_react__WEBPACK_IMPORTED_MODULE_25__.tabs_default, {\n                                    \"aria-label\": \"Options\",\n                                    color: \"primary\",\n                                    variant: \"underlined\",\n                                    classNames: {\n                                        tabList: \"gap-6 w-full relative rounded-none p-0 border-b border-divider\",\n                                        cursor: \"w-full bg-[#22d3ee]\",\n                                        tab: \"max-w-fit px-0 h-12\",\n                                        tabContent: \"group-data-[selected=true]:text-[#06b6d4]\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_nextui_org_react__WEBPACK_IMPORTED_MODULE_26__.tab_item_base_default, {\n                                            title: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center space-x-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_IoChatbubbleSharp_react_icons_io5__WEBPACK_IMPORTED_MODULE_27__.IoChatbubbleSharp, {}, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                                        lineNumber: 455,\n                                                        columnNumber: 15\n                                                    }, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"Recensions\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                                        lineNumber: 456,\n                                                        columnNumber: 15\n                                                    }, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_nextui_org_react__WEBPACK_IMPORTED_MODULE_28__.chip_default, {\n                                                        size: \"sm\",\n                                                        variant: \"faded\",\n                                                        children: \"9\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                                        lineNumber: 457,\n                                                        columnNumber: 15\n                                                    }, void 0)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                                lineNumber: 454,\n                                                columnNumber: 13\n                                            }, void 0)\n                                        }, \"photos\", false, {\n                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                            lineNumber: 451,\n                                            columnNumber: 9\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_nextui_org_react__WEBPACK_IMPORTED_MODULE_26__.tab_item_base_default, {\n                                            title: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center space-x-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FaBookBookmark_FaStar_react_icons_fa6__WEBPACK_IMPORTED_MODULE_29__.FaStar, {}, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                                        lineNumber: 465,\n                                                        columnNumber: 15\n                                                    }, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"Rate\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                                        lineNumber: 466,\n                                                        columnNumber: 15\n                                                    }, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_nextui_org_react__WEBPACK_IMPORTED_MODULE_28__.chip_default, {\n                                                        size: \"sm\",\n                                                        variant: \"faded\",\n                                                        children: \"8/10\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                                        lineNumber: 467,\n                                                        columnNumber: 15\n                                                    }, void 0)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                                lineNumber: 464,\n                                                columnNumber: 13\n                                            }, void 0)\n                                        }, \"music\", false, {\n                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                            lineNumber: 461,\n                                            columnNumber: 9\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_nextui_org_react__WEBPACK_IMPORTED_MODULE_26__.tab_item_base_default, {\n                                            title: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center space-x-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FaBookBookmark_FaStar_react_icons_fa6__WEBPACK_IMPORTED_MODULE_29__.FaBookBookmark, {}, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                                        lineNumber: 475,\n                                                        columnNumber: 15\n                                                    }, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"Read By\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                                        lineNumber: 476,\n                                                        columnNumber: 15\n                                                    }, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_nextui_org_react__WEBPACK_IMPORTED_MODULE_28__.chip_default, {\n                                                        size: \"sm\",\n                                                        variant: \"faded\",\n                                                        children: \"1\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                                        lineNumber: 477,\n                                                        columnNumber: 15\n                                                    }, void 0)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                                lineNumber: 474,\n                                                columnNumber: 13\n                                            }, void 0)\n                                        }, \"videos\", false, {\n                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                            lineNumber: 471,\n                                            columnNumber: 9\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                    lineNumber: 440,\n                                    columnNumber: 2\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                            lineNumber: 423,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                    lineNumber: 417,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false),\n            document && readers && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}, void 0, false),\n            bookReaderForm && document && user && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}, void 0, false),\n            updateReaderStatus && document && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}, void 0, false),\n            showLikers && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}, void 0, false),\n            isPending && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Loader__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                lineNumber: 510,\n                columnNumber: 21\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n        lineNumber: 412,\n        columnNumber: 5\n    }, this);\n}\n_s(Book, \"oAKCgBy6mG54o6HpWJ5KMvOVkRk=\", false, function() {\n    return [\n        react_redux__WEBPACK_IMPORTED_MODULE_2__.useDispatch,\n        next_navigation__WEBPACK_IMPORTED_MODULE_15__.useRouter,\n        _hooks_useAuthContext__WEBPACK_IMPORTED_MODULE_8__.useAuthContext,\n        _hooks_useRealtimeDocument__WEBPACK_IMPORTED_MODULE_12__[\"default\"],\n        _hooks_useRealtimeDocuments__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n        react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector,\n        _hooks_useRealDatabase__WEBPACK_IMPORTED_MODULE_11__.useRealDatabase,\n        _hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n        _hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n        _hooks_useGetDocument__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n        _hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n        _hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n        react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector,\n        use_clipboard_copy__WEBPACK_IMPORTED_MODULE_4__.useClipboard\n    ];\n});\n_c = Book;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Book);\nvar _c;\n$RefreshReg$(_c, \"Book\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9ib29rL1tib29rSWRdL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1lO0FBT1M7QUFLSDtBQU1PO0FBQ3NCO0FBRTBCO0FBTzVFLDRCQUE0QjtBQUM1QixvRUFBb0U7QUFDcEI7QUFFbUI7QUFDSjtBQUNKO0FBQ0U7QUFDSTtBQUNJO0FBQ0U7QUFDdkUsdURBQXVEO0FBQ3hCO0FBQ2E7QUFDVztBQUNuQjtBQUNnQjtBQUNBO0FBQ0s7QUFFekQsU0FBUzJCLEtBQUssS0FBMEM7UUFBMUMsZUFBRUM7O0lBQ2QsSUFBUUMsS0FBZUQsT0FBZkM7SUFDUixJQUFNRSxXQUFTM0Isd0RBQVdBO0lBQzFCLElBQU00QixXQUFXZCwyREFBU0E7SUFDMUIsSUFBTSxPQUFXUCxxRUFBY0EsR0FBdkJzQjtJQUNSLElBQWtDaEMsWUFBQUEsZ0VBQUFBLENBQUFBLCtDQUFRQSxDQUFDLFlBQXBDaUMsWUFBMkJqQyxjQUFoQmtDLGVBQWdCbEM7SUFDbEMsSUFBTSxjQUFrQmMsdUVBQW1CQSxHQUFuQ3FCO0lBQ1IsSUFBTSxlQUFtQnBCLHdFQUFvQkEsR0FBckNxQjtJQUNSLElBQU1DLGNBQWNqQyx3REFBV0EsQ0FBQyxTQUFDa0M7ZUFBY0EsTUFBTUMsSUFBSSxDQUFDQyxVQUFVOztJQUNwRSxJQUNFM0IsbUJBQUFBLHdFQUFlQSxJQURUNEIscUJBQ041QixpQkFETTRCLG9CQUFvQkMsZ0JBQzFCN0IsaUJBRDBCNkIsZUFBZUMsaUJBQ3pDOUIsaUJBRHlDOEI7SUFFM0MsSUFBOEIzQyxhQUFBQSxnRUFBQUEsQ0FBQUEsK0NBQVFBLENBQUMsWUFBaEM0QyxVQUF1QjVDLGVBQWQ2QyxhQUFjN0M7SUFDOUIsSUFBNENBLGFBQUFBLGdFQUFBQSxDQUFBQSwrQ0FBUUEsQ0FBQyxZQUE5QzhDLGlCQUFxQzlDLGVBQXJCK0Msb0JBQXFCL0M7SUFDNUMsSUFBb0RBLGFBQUFBLGdFQUFBQSxDQUFBQSwrQ0FBUUEsQ0FBQyxZQUF0RGdELHFCQUE2Q2hELGVBQXpCaUQsd0JBQXlCakQ7SUFDcEQsSUFBb0NBLGFBQUFBLGdFQUFBQSxDQUFBQSwrQ0FBUUEsQ0FBQyxZQUF0Q2tELGFBQTZCbEQsZUFBakJtRCxnQkFBaUJuRDtJQUNwQyxJQUFnQ0EsYUFBQUEsZ0VBQUFBLENBQUFBLCtDQUFRQSxDQUFDLFlBQWxDb0QsV0FBeUJwRCxlQUFmcUQsY0FBZXJEO0lBRWhDLElBQU1zRCxtQkFBbUIsU0FBQ0M7ZUFBVSxTQUFDQyxPQUFPQztZQUMxQ0osWUFBWUksYUFBYUYsUUFBUTtRQUNuQzs7SUFDQSxJQUFNRyxnQkFBZ0I7UUFDcEJQLGNBQWM7SUFDaEI7SUFFQSxJQUFNUSxnQkFBZ0I7UUFDcEJSLGNBQWM7SUFDaEI7SUFFRixJQUF5QnZDLG1CQUFBQSxtRUFBZUEsQ0FBQyxlQUFsQ2dELFNBQWtCaEQsaUJBQWxCZ0Q7SUFDUCxJQUFvQ2hELG9CQUFBQSxtRUFBZUEsQ0FBQyxtQkFBN0NnRCxtQkFBNkJoRCxrQkFBN0JnRDtJQUVQLElBQU1HLGFBQVlELGlCQUFpQkUsR0FBRyxDQUFDLFNBQUNDO1FBQ3RDLElBQUlBLFdBQVdGLFVBQVUsRUFBRTtZQUN6QixPQUFPRSxXQUFXRixVQUFVO1FBQzlCLE9BQU87WUFDTCxPQUFPLEVBQUU7UUFDWDtJQUNGLEdBQUdDLEdBQUcsQ0FBQyxTQUFDRTtRQUNOLElBQUlBLFFBQVEsUUFBUUEsUUFBUUMsV0FBVztZQUNyQyxJQUFNQyxlQUFlQyxPQUFPQyxNQUFNLENBQUNKO1lBQ25DLE9BQU9FO1FBQ1QsT0FBTztZQUNMO1FBQ0Y7SUFDRixHQUFHRyxJQUFJO0lBSUwsSUFBTUM7bUJBQWM7Z0JBRVZDOzs7OzZCQURKekMsTUFBQUE7Ozs7d0JBQ2lCOzs0QkFBTUcsWUFBWSxjQUFjLEdBQVNILE9BQU5ILElBQUcsS0FBWSxPQUFURyxLQUFLMEMsR0FBRzs7O3dCQUE5REQsYUFBYTt3QkFFbkIsSUFBSUEsWUFBWTs0QkFDZDVCLFdBQVc7d0JBQ2IsT0FBTzs0QkFDTEEsV0FBVzt3QkFDYjs7Ozs7Ozs7UUFFSjt3QkFWTTJCOzs7O0lBWVIsSUFBTSxXQUFXN0QsaUVBQWNBLENBQUMsU0FBU2tCLElBQWxDOEM7SUFDTCxJQUFpQy9ELG9CQUFBQSxtRUFBZUEsQ0FBQyxnQkFBMUNnRCxpQkFBMEJoRCxrQkFBMUJnRDtJQUVQLElBQU1pQixVQUFRRCxlQUFlWixHQUFHLENBQUMsU0FBQ0M7UUFDaEMsT0FBT0EsV0FBV1ksT0FBTztJQUMzQixHQUFHYixHQUFHLENBQUMsU0FBQ0U7UUFDTixJQUFNRSxlQUFlQyxPQUFPQyxNQUFNLENBQUNKO1FBQ25DLE9BQU9FO0lBQ1QsR0FBR0csSUFBSTtJQUdQLElBQU1PLG1CQUFtQixTQUFDQyxXQUFXQztRQUNuQyxJQUFJaEQsTUFBTTtZQUNSLElBQUkrQyxVQUFVRSxJQUFJLENBQUMsSUFBSUMsTUFBTSxHQUFHLElBQUk7Z0JBQ2xDcEQsU0FBU3JCLHFFQUFlQSxDQUFDMEUsV0FBVyxDQUFDO29CQUFDQyxTQUFRLEdBQXVFLE9BQXBFN0Usd0dBQWlELENBQUNpRixpQkFBaUI7b0JBQUlDLFdBQVU7Z0JBQU87Z0JBQ3pJO1lBQ0Y7WUFFQS9DLGNBQWMsa0JBQWtCLEdBQW9CVixPQUFqQkgsSUFBRyxnQkFBdUIsT0FBVEcsS0FBSzBDLEdBQUcsR0FBSTtnQkFDOURnQixpQkFBaUI3RDtnQkFDakJtRCxVQUFVQTtnQkFDVkQsV0FBV0E7Z0JBQ1hZLGFBQWEzRCxLQUFLMkQsV0FBVztnQkFDN0JDLE9BQU81RCxLQUFLNEQsS0FBSztnQkFDakIvRCxJQUFJRyxLQUFLMEMsR0FBRztnQkFDWm1CLFVBQVU3RCxLQUFLNkQsUUFBUTtnQkFDdkJDLGNBQWMsSUFBSUMsT0FBT0MsT0FBTztZQUNsQztZQUVBLElBQU1DLGVBQWVwQixRQUFRcUIsSUFBSSxDQUMvQixTQUFDQzt1QkFBZUEsT0FBT3RFLEVBQUUsS0FBS0csS0FBSzBDLEdBQUcsSUFBSXlCLE9BQU9DLGFBQWEsS0FBS3ZFOztZQUdyRWMsZUFDRSx3SUFBTXNEO2dCQUFzQmxCLFdBQVdBO2dCQUN2QyxlQUNBLEdBQWlCL0MsT0FBZEgsSUFBRyxhQUFvQixPQUFURyxLQUFLMEMsR0FBRztRQUVoQztJQUNDO0lBR0EsSUFBa0M5RCxvQkFBQUEsbUVBQWVBLENBQUMscUJBQTNDZ0QsaUJBQTJCaEQsa0JBQTNCZ0Q7SUFDUCxJQUFNMEMsc0JBQXFCRCxlQUFlckMsR0FBRyxDQUFDLFNBQUN1QztRQUM3QyxPQUFPQSxnQkFBZ0JDLEtBQUs7SUFDOUIsR0FBR3hDLEdBQUcsQ0FBQyxTQUFDeUM7UUFDTixPQUFPcEMsT0FBT0MsTUFBTSxDQUFDbUM7SUFDdkIsR0FBR2xDLElBQUk7SUFFUHhFLGdEQUFTQSxDQUFDO1FBQ1J5RTtJQUdGLEdBQUc7UUFDREE7S0FDRDtJQUVELElBQU1nQixtQkFBbUJwRix3REFBV0EsQ0FDbEMsU0FBQ2tDO2VBQWNBLE1BQU1vRSxpQkFBaUIsQ0FBQ0MsaUJBQWlCOztJQUcxRCxJQUFNQyx3QkFBd0I7UUFDNUIsSUFBSTVFLE1BQU07O2dCQVNSLElBQU02RSxxQkFBcUJDLGlCQUFpQkMsR0FBRztnQkFFL0MsSUFBSSxDQUFDQyxvQkFBb0JDLFFBQVEsQ0FBQ0oscUJBQXFCO3dCQVdyREM7b0JBVkEsSUFBTUksOEJBQThCWixvQkFBb0JhLE1BQU0sQ0FDNUQsU0FBQ1Y7K0JBQWVBLE9BQU9XLFNBQVMsS0FBS1A7O29CQUd2Q1EsU0FBU0EsT0FBT0MsTUFBTSxDQUFDSjtvQkFFdkIsSUFBTUsseUJBQXlCTCw0QkFDNUJDLE1BQU0sQ0FBQyxTQUFDVjsrQkFBZSxDQUFDTyxvQkFBb0JDLFFBQVEsQ0FBQ1IsT0FBT1csU0FBUzt1QkFDckVwRCxHQUFHLENBQUMsU0FBQ3lDOytCQUFlQSxPQUFPVyxTQUFTOztvQkFFdkNOLENBQUFBLG9CQUFBQSxrQkFBaUJVLElBQUksQ0FBckJWLE1BQUFBLG1CQUFzQixxRUFBR1M7b0JBQ3pCUCxvQkFBb0JRLElBQUksQ0FBQ1g7Z0JBQzNCO1lBQ0Y7WUF4QkcsSUFBTUMsbUJBQW1CUixvQkFDekJhLE1BQU0sQ0FBQyxTQUFDTTt1QkFBWUEsSUFBSUMsS0FBSyxDQUFDN0YsRUFBRSxLQUFLRyxLQUFLMEMsR0FBRztlQUM3Q1YsR0FBRyxDQUFDLFNBQUN1Qzt1QkFBd0JBLGdCQUFnQmEsU0FBUzs7WUFFekQsSUFBSUMsU0FBUyxFQUFFO1lBQ2YsSUFBSUwsc0JBQTRCLEVBQUU7WUFFbEMsTUFBT0YsaUJBQWlCNUIsTUFBTSxHQUFHO1lBbUJqQ21DLFNBQVNBLE9BQU9GLE1BQU0sQ0FDcEIsU0FBQ08sT0FBV0MsT0FBT0M7dUJBQ2pCQSxLQUFLQyxTQUFTLENBQUMsU0FBQ0M7MkJBQVVBLEVBQUVKLEtBQUssQ0FBQzdGLEVBQUUsS0FBSzZGLE1BQU1BLEtBQUssQ0FBQzdGLEVBQUU7dUJBQU04Rjs7WUFHakUsT0FBT04sT0FBT0YsTUFBTSxDQUFDLFNBQUNWO3VCQUFlQSxPQUFPaUIsS0FBSyxDQUFDN0YsRUFBRSxLQUFLRyxLQUFLMEMsR0FBRzs7UUFDakU7SUFFRjtJQUVBLElBQU1xRDttQkFBa0I7Z0JBRWJDOzs7OzZCQURMaEcsTUFBQUE7Ozs7d0JBQ2dCOzs0QkFBTUcsWUFBWSxjQUFjLEdBQVNILE9BQU5ILElBQUcsS0FBWSxPQUFURyxLQUFLMEMsR0FBRzs7O3dCQUE1RHNELFdBQVc7d0JBRXBCLElBQUksQ0FBQ0EsVUFBVTs0QkFDYnRGLGNBQWMsY0FBYyxHQUFTVixPQUFOSCxJQUFHLEtBQVksT0FBVEcsS0FBSzBDLEdBQUcsR0FBSTtnQ0FDL0NpQixhQUFhM0QsS0FBSzJELFdBQVc7Z0NBQzdCc0MsYUFBYXBHO2dDQUNicUcsU0FBU2xHLEtBQUswQyxHQUFHO2dDQUNqQm1CLFVBQVU3RCxLQUFLNkQsUUFBUTs0QkFDekI7NEJBRUExRCxZQUFZLGFBQWFOLElBQUlzRyxJQUFJLENBQUMsU0FBQ0M7Z0NBQ2pDekYsZUFDRTtvQ0FDRTBGLGFBQWFELEtBQUtDLFdBQVcsR0FBRztnQ0FDbEMsR0FDQSxhQUNBeEc7NEJBRUo7d0JBQ0YsT0FBTzs0QkFDTFksbUJBQW1CLGNBQWMsR0FBU1QsT0FBTkgsSUFBRyxLQUFZLE9BQVRHLEtBQUswQyxHQUFHOzRCQUNsRHZDLFlBQVksYUFBYU4sSUFBSXNHLElBQUksQ0FBQyxTQUFDQztnQ0FDakN6RixlQUNFO29DQUNFMEYsYUFBYUQsS0FBS0MsV0FBVyxHQUFHO2dDQUNsQyxHQUNBLGFBQ0F4Rzs0QkFFSjt3QkFDRjs7Ozs7Ozs7UUFHRjt3QkFuQ01rRzs7OztJQXFDTixJQUFNTyxjQUFjO1FBQ2xCcEcsYUFBYTtRQUViTyxtQkFBbUIsU0FBU1o7UUFDaENDLFNBQVNyQixxRUFBZUEsQ0FBQzBFLFdBQVcsQ0FBQztZQUFDQyxTQUFRLEdBQXNFLE9BQWpFN0UscUdBQThDLENBQUNpRixpQkFBaUI7WUFBSUMsV0FBVTtRQUFTO1FBQ3RJdkQsYUFBYTtRQUNiSCxTQUFTeUYsSUFBSSxDQUFDO0lBQ2hCO0lBRUEsSUFBTWlCLFdBQVdySSx3REFBV0EsQ0FBQyxTQUFDa0M7ZUFBY0EsTUFBTW9HLEtBQUssQ0FBQ0QsUUFBUTs7SUFDaEUsSUFBTUUsWUFBWXJJLGdFQUFZQTtJQUU5QixJQUFNc0ksZUFBZTtRQUNuQkQsVUFBVUUsSUFBSSxDQUFDQyxPQUFPQyxRQUFRLENBQUNDLElBQUk7UUFDbkM3SCx3REFBS0EsQ0FBQzhILE9BQU8sQ0FBQztRQUNkbkgsU0FBU3JCLHFFQUFlQSxDQUFDMEUsV0FBVyxDQUFDO1lBQUNDLFNBQVEsR0FBb0UsT0FBakU3RSxxR0FBOEMsQ0FBQ2lGLGlCQUFpQjtZQUFJQyxXQUFVO1FBQVM7SUFDMUk7SUFFQSxJQUFNMEQscUJBQXFCO1FBQ3pCcEcsa0JBQWtCO0lBQ3BCO0lBRUEsSUFBTXFHLHVCQUF1QjtRQUMzQm5HLHNCQUFzQjtJQUN4QjtJQUVBLElBQU1vRyxzQkFBc0I7UUFDMUJ0RyxrQkFBa0I7SUFDcEI7SUFFQSxJQUFNdUcsd0JBQXdCO1FBQzVCckcsc0JBQXNCO0lBQ3hCO0lBRUEsSUFBTXNHLGtCQUFrQjtRQUN0QixJQUFJdkgsTUFBTTtZQUNSLElBQUc2QyxRQUFRc0MsTUFBTSxDQUFDLFNBQUNNO3VCQUFVQSxJQUFJckIsYUFBYSxLQUFHdkU7ZUFBSXFELE1BQU0sS0FBSyxHQUFFO2dCQUNoRXpDLG1CQUFvQixlQUFjLEdBQU0sT0FBSFo7WUFDdkMsT0FBSztnQkFDSFksbUJBQW9CLGVBQWMsR0FBaUJULE9BQWRILElBQUcsYUFBb0IsT0FBVEcsS0FBSzBDLEdBQUc7Z0JBQzNEakMsbUJBQW9CLGtCQUFpQixHQUFvQlQsT0FBakJILElBQUcsZ0JBQXVCLE9BQVRHLEtBQUswQyxHQUFHO1lBRW5FO1FBQ0Y7SUFFRjtJQUVBLElBQU04RSxhQUFhLFNBQUNDLFlBQVlDLGFBQWFDO1FBQzNDLElBQUkzSCxNQUFNO1lBQ0xVLGNBQWMsZUFBZSxHQUFpQlYsT0FBZEgsSUFBRyxhQUFvQixPQUFURyxLQUFLMEMsR0FBRyxHQUFJO2dCQUM3RE0sVUFBVTtnQkFDVm9CLGVBQWV2RTtnQkFDZjhELGFBQWEzRCxLQUFLMkQsV0FBVztnQkFDN0JDLE9BQU81RCxLQUFLNEQsS0FBSztnQkFDakI4RCxhQUFBQTtnQkFDQTdILElBQUlHLEtBQUswQyxHQUFHO2dCQUNaa0YsV0FBV0Q7Z0JBQ1hFLGdCQUFnQko7Z0JBQ2hCM0QsY0FBYzRELGNBQWMsSUFBSTNELE9BQU9DLE9BQU8sS0FBSztnQkFDbkRqQixXQUFXO2dCQUNYYyxVQUFVN0QsS0FBSzZELFFBQVE7WUFDekI7UUFDRjtRQUVFLElBQU1pRSxvQkFBb0IsU0FBQ0wsWUFBWUMsYUFBYUM7WUFDbEQsSUFBSTNILE1BQU07Z0JBQ1IsSUFBSTJDLFNBQVNvRixXQUFXLEdBQUdKLFdBQVc7b0JBQ3BDbEgsbUJBQW9CLGtCQUFpQixHQUFvQlQsT0FBakJILElBQUcsZ0JBQXVCLE9BQVRHLEtBQUswQyxHQUFHO2dCQUNuRTtnQkFFQWhDLGNBQWMsZUFBZSxHQUFpQlYsT0FBZEgsSUFBRyxhQUFvQixPQUFURyxLQUFLMEMsR0FBRyxHQUFJO29CQUN4RE0sVUFBVTtvQkFDVm9CLGVBQWV2RTtvQkFDZjhELGFBQWEzRCxLQUFLMkQsV0FBVztvQkFDN0JDLE9BQU81RCxLQUFLNEQsS0FBSztvQkFDakI4RCxhQUFBQTtvQkFDQTdILElBQUlHLEtBQUswQyxHQUFHO29CQUNaa0YsV0FBV0Q7b0JBQ1hFLGdCQUFnQko7b0JBQ2hCM0QsY0FBYzRELGNBQWMsSUFBSTNELE9BQU9DLE9BQU8sS0FBSztvQkFDbkRqQixXQUFXO29CQUNYYyxVQUFVN0QsS0FBSzZELFFBQVE7Z0JBQ3pCO1lBQ0o7UUFDQTtJQUNGO0lBRUEsSUFBZ0M3RixhQUFBQSxnRUFBQUEsQ0FBQUEsK0NBQVFBLENBQUMsWUFBbENnSyxXQUF5QmhLLGVBQWZpSyxjQUFlaks7SUFDaEMsSUFBTWtLLG1CQUFtQjtRQUN2QkQsWUFBWTtJQUNkO0lBRUEsSUFBTUUsb0JBQW9CO1FBQ3hCRixZQUFZO0lBQ2Q7SUFFQSxJQUFNRzttQkFBa0IsNkVBQU9DO2dCQUVwQkMsa0JBQ0hDLG1CQUVBQyxlQUNBQyxlQUVGQyxRQXVCRUM7Ozs7NkJBOUJGM0ksTUFBQUE7Ozs7d0JBQ0tzSSxtQkFBbUIsR0FBZUQsT0FBWnJJLEtBQUswQyxHQUFHLEVBQUMsS0FBYyxPQUFYMkY7d0JBQ3JDRSxvQkFBb0IsR0FBaUJ2SSxPQUFkcUksWUFBVyxLQUFZLE9BQVRySSxLQUFLMEMsR0FBRzt3QkFFN0I7OzRCQUFNdkMsWUFBWSxjQUFjbUk7Ozt3QkFBaERFLGdCQUFnQjt3QkFDQTs7NEJBQU1ySSxZQUFZLGNBQWNvSTs7O3dCQUFoREUsZ0JBQWdCO3dCQUl0QixJQUFJRCxpQkFBaUJDLGVBQWU7NEJBQ2xDQyxTQUFTRixnQkFBZ0JGLG1CQUFtQkM7d0JBQzlDLE9BQU87NEJBQ0xHLFNBQVNKOzRCQUVUNUgsY0FBYyxjQUFjNEgsa0JBQWtCO2dDQUM1Q0ksUUFBUUo7Z0NBQ1JNLFdBQVcsSUFBSTdFLE9BQU9DLE9BQU87NEJBQy9COzRCQUVBdEQsY0FBYyxrQkFBa0IsR0FBdUJWLE9BQXBCc0ksa0JBQWlCLEtBQVksT0FBVHRJLEtBQUswQyxHQUFHLEdBQUk7Z0NBQ2pFbUcsZ0JBQWdCN0ksS0FBSzBDLEdBQUc7Z0NBQ3hCb0csZ0JBQWdCUjs0QkFDbEI7NEJBRUE1SCxjQUFjLGtCQUFrQixHQUF1QjJILE9BQXBCQyxrQkFBaUIsS0FBYyxPQUFYRCxhQUFjO2dDQUNuRVEsZ0JBQWdCUjtnQ0FDaEJTLGdCQUFnQlI7NEJBQ2xCO3dCQUNGO3dCQUVNSyxZQUFZLEdBQWEsT0FBVkQsUUFBTyxLQUEwQnJLLE9BQXZCLElBQUkwRixPQUFPQyxPQUFPLElBQWMsT0FBVDNGLDZDQUFNQTt3QkFFNURxQyxjQUFjLHFCQUFxQmlJLFdBQVc7NEJBQzVDSSxTQUFTcEcsU0FBU2tCLFFBQVE7NEJBQzFCVCxTQUFTLHdDQUFxRVQsT0FBN0JBLFNBQVNxRyxLQUFLLEVBQUMsZ0JBQThCLE9BQWhCckcsU0FBU3NHLE1BQU0sRUFBQzs0QkFDOUZQLFFBQVFBOzRCQUNSUSxRQUFRO2dDQUNOckosSUFBSUcsS0FBSzBDLEdBQUc7NEJBQ2Q7NEJBQ0F5RyxVQUFVO2dDQUNSdEosSUFBSXdJOzRCQUNOOzRCQUNBZSxRQUFRLElBQUlyRixPQUFPQyxPQUFPO3dCQUM1Qjt3QkFFQXRELGNBQWMsbUJBQW1CaUksV0FBVzs0QkFDMUNJLFNBQVNwRyxTQUFTa0IsUUFBUTs0QkFDMUJULFNBQVMsd0NBQXFFVCxPQUE3QkEsU0FBU3FHLEtBQUssRUFBQyxnQkFBOEIsT0FBaEJyRyxTQUFTc0csTUFBTSxFQUFDOzRCQUM5RlAsUUFBUUE7NEJBQ1JDLFdBQUFBOzRCQUNBTyxRQUFRO2dDQUNOckosSUFBSUcsS0FBSzBDLEdBQUc7NEJBQ2Q7NEJBQ0F5RyxVQUFVO2dDQUNSdEosSUFBSXdJOzRCQUNOOzRCQUNBZSxRQUFRLElBQUlyRixPQUFPQyxPQUFPO3dCQUM1Qjt3QkFDSmxFLFNBQVNyQixxRUFBZUEsQ0FBQzBFLFdBQVcsQ0FBQzs0QkFBQ0MsU0FBUSxHQUFrRSxPQUEvRDdFLG1HQUE0QyxDQUFDaUYsaUJBQWlCOzRCQUFJQyxXQUFVO3dCQUFTOzs7Ozs7OztRQUdwSTt3QkE5RE0yRSxnQkFBeUJDOzs7O0lBZ0UvQixxQkFDRSw4REFBQ2lCO1FBQUlDLFdBQVk7O1lBR2Q1RywwQkFDQzswQkFDRSw0RUFBQzJHO29CQUFJQyxXQUFVOztzQ0FFYiw4REFBQ0Q7NEJBQUlDLFdBQVU7c0NBQ2IsNEVBQUN2SyxtREFBS0E7Z0NBQUN3SyxLQUFLN0csU0FBU2tCLFFBQVE7Z0NBQUU0RixLQUFJO2dDQUFHRixXQUFVO2dDQUF3Q0csT0FBTztnQ0FBSUMsUUFBUTs7Ozs7Ozs7Ozs7c0NBRzdHLDhEQUFDTDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNLO29DQUFFTCxXQUFVOzhDQUF1QjVHLFNBQVNxRyxLQUFLOzs7Ozs7OENBQ2xELDhEQUFDTTtvQ0FBSUMsV0FBVTs7c0RBQ2IsOERBQUNEOzRDQUFJQyxXQUFVOzs4REFDYiw4REFBQ007b0RBQU9DLFNBQVMvRDs4REFDZiw0RUFBQzlILDJGQUFPQTt3REFBQ3NMLFdBQVcsK0JBQXVFLE9BQXhDM0ksVUFBVSxpQkFBaUI7d0RBQWdCbUosTUFBTTs7Ozs7Ozs7Ozs7Z0RBRXJHbEksVUFBVUEsT0FBT3FCLE1BQU0sR0FBRyxtQkFBSyw4REFBQzBHO29EQUFFTCxXQUFVOzt3REFBZTFILE9BQU9zRCxNQUFNLENBQUMsU0FBQzZFO21FQUFTQSxLQUFLL0QsV0FBVyxLQUFLcEc7MERBQUcsQ0FBQyxFQUFFLENBQUM4RCxXQUFXO3dEQUFFO3dEQUFhOUIsT0FBT3NELE1BQU0sQ0FBQyxTQUFDNkU7bUVBQVNBLEtBQUsvRCxXQUFXLEtBQUtwRzsyREFBSXFELE1BQU0sR0FBRzt3REFBRzs7Ozs7Ozs7Ozs7OztzREFHek0sOERBQUNoRSxzRUFBVUE7NENBQUMrSyxtQkFBa0I7NENBQTBCSCxTQUFTbEQ7OzhEQUMvRCw4REFBQzFJLDJGQUFPQTtvREFBQzZMLE1BQU07b0RBQUlSLFdBQVU7Ozs7OztnREFBZTs7Ozs7Ozs7Ozs7Ozs4Q0FNN0QsOERBQUNqSyw0REFBSUE7b0NBQ0U0SyxjQUFXO29DQUNYQyxPQUFNO29DQUNOQyxTQUFRO29DQUNSQyxZQUFZO3dDQUNWQyxTQUFTO3dDQUNUQyxRQUFRO3dDQUNSQyxLQUFLO3dDQUNMQyxZQUFZO29DQUNkOztzREFFQSw4REFBQ3BMLHFFQUFHQTs0Q0FFRjJKLHFCQUNFLDhEQUFDTTtnREFBSUMsV0FBVTs7a0VBQ2IsOERBQUNoSyx3R0FBaUJBOzs7OztrRUFDbEIsOERBQUNtTDtrRUFBSzs7Ozs7O2tFQUNOLDhEQUFDdEwsNERBQUlBO3dEQUFDMkssTUFBSzt3REFBS0ssU0FBUTtrRUFBUTs7Ozs7Ozs7Ozs7OzJDQUxoQzs7Ozs7c0RBU04sOERBQUMvSyxxRUFBR0E7NENBRUYySixxQkFDRSw4REFBQ007Z0RBQUlDLFdBQVU7O2tFQUNiLDhEQUFDOUosaUdBQU1BOzs7OztrRUFDUCw4REFBQ2lMO2tFQUFLOzs7Ozs7a0VBQ04sOERBQUN0TCw0REFBSUE7d0RBQUMySyxNQUFLO3dEQUFLSyxTQUFRO2tFQUFROzs7Ozs7Ozs7Ozs7MkNBTGhDOzs7OztzREFTTiw4REFBQy9LLHFFQUFHQTs0Q0FFRjJKLHFCQUNFLDhEQUFDTTtnREFBSUMsV0FBVTs7a0VBQ2IsOERBQUMvSix5R0FBY0E7Ozs7O2tFQUNmLDhEQUFDa0w7a0VBQUs7Ozs7OztrRUFDTiw4REFBQ3RMLDREQUFJQTt3REFBQzJLLE1BQUs7d0RBQUtLLFNBQVE7a0VBQVE7Ozs7Ozs7Ozs7OzsyQ0FMaEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQWVQekgsWUFBYUUseUJBQ1g7WUFLRi9CLGtCQUFrQjZCLFlBQVkzQyxzQkFDOUI7WUFLQWdCLHNCQUFzQjJCLDBCQUN4QjtZQUtFekIsNEJBQ0M7WUFJRGpCLDJCQUFhLDhEQUFDekIsMERBQU1BOzs7Ozs7Ozs7OztBQUkzQjtHQTNjU2tCOztRQUVRdkIsb0RBQVdBO1FBQ1RjLHVEQUFTQTtRQUNUUCxpRUFBY0E7UUFFUEksbUVBQW1CQTtRQUNsQkMsb0VBQW9CQTtRQUN6Qlgsb0RBQVdBO1FBRTdCUyxvRUFBZUE7UUFrQk1ELCtEQUFlQTtRQUNKQSwrREFBZUE7UUErQmxDRCw2REFBY0E7UUFDSUMsK0RBQWVBO1FBeUNkQSwrREFBZUE7UUFleEJSLG9EQUFXQTtRQXdGbkJBLG9EQUFXQTtRQUNWRSw0REFBWUE7OztLQTlNdkJvQjtBQTZjVCwrREFBZUEsSUFBSUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9hcHAvYm9vay9bYm9va0lkXS9wYWdlLnRzeD8wODQzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcclxuXHJcblxyXG5pbXBvcnQge1xyXG4gIHVzZUVmZmVjdCxcclxuICB1c2VTdGF0ZSxcclxufSBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQge1xyXG4gIEZhSGVhcnQsXHJcbiAgRmFQZW5jaWxBbHQsXHJcbiAgRmFTaGFyZSxcclxuICBGYVRyYXNoLFxyXG59IGZyb20gJ3JlYWN0LWljb25zL2ZhJztcclxuaW1wb3J0IHsgTWRSZWNvbW1lbmQgfSBmcm9tICdyZWFjdC1pY29ucy9tZCc7XHJcbmltcG9ydCB7XHJcbiAgdXNlRGlzcGF0Y2gsXHJcbiAgdXNlU2VsZWN0b3IsXHJcbn0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5pbXBvcnQge1xyXG4gIHVzZU5hdmlnYXRlLFxyXG4gIHVzZVBhcmFtcyxcclxufSBmcm9tICdyZWFjdC1yb3V0ZXInO1xyXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XHJcbmltcG9ydCB1bmlxaWQgZnJvbSAndW5pcWlkJztcclxuaW1wb3J0IHsgdXNlQ2xpcGJvYXJkIH0gZnJvbSAndXNlLWNsaXBib2FyZC1jb3B5JztcclxuXHJcbmltcG9ydCBhbGVydE1lc3NhZ2VzIGZyb20gJy4uLy4uLy4uL2Fzc2V0cy90cmFuc2xhdGlvbnMvQWxlcnRNZXNzYWdlcy5qc29uJztcclxuaW1wb3J0IHRyYW5zbGF0aW9ucyBmcm9tICcuLi8uLi8uLi9hc3NldHMvdHJhbnNsYXRpb25zL0Jvb2tQYWdlVHJhbnNsYXRpb25zLmpzb24nO1xyXG5pbXBvcnQgcmV1c2VhYmxlVHJhbnNsYXRpb25zXHJcbiAgZnJvbSAnLi4vLi4vLi4vYXNzZXRzL3RyYW5zbGF0aW9ucy9SZXVzYWJsZVRyYW5zbGF0aW9ucy5qc29uJztcclxuaW1wb3J0IEJvb2tSZWFkZXJGb3JtIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvYm9vay9Cb29rUmVhZGVyRm9ybSc7XHJcbmltcG9ydCBMaWtlcnNMaXN0IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvYm9vay9MaWtlcnNMaXN0JztcclxuaW1wb3J0IFJlY2Vuc2lvbnNGb3JCb29rIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvYm9vay9SZWNlbnNpb25zRm9yQm9vayc7XHJcbi8vIGltcG9ydCBDb21wZXRpdGlvbk1lbWJlcnNcclxuLy8gICBmcm9tICcuLi8uLi9jb21wb25lbnRzL0NvbW11bml0eUNvbXBvbmVudHMvQ29tcGV0aXRpb25NZW1iZXJzJztcclxuaW1wb3J0IExvYWRlciBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL0xvYWRlcic7XHJcbmltcG9ydCB7IG1vZGFsQWN0aW9ucyB9IGZyb20gJy4uLy4uLy4uL2NvbnRleHQvTW9kYWxDb250ZXh0JztcclxuaW1wb3J0IHsgc25hY2tiYXJBY3Rpb25zIH0gZnJvbSAnLi4vLi4vLi4vY29udGV4dC9TbmFja0JhckNvbnRleHQnO1xyXG5pbXBvcnQgeyB1c2VBdXRoQ29udGV4dCB9IGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZUF1dGhDb250ZXh0JztcclxuaW1wb3J0IHVzZUdldERvY3VtZW50IGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZUdldERvY3VtZW50JztcclxuaW1wb3J0IHVzZUdldERvY3VtZW50cyBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VHZXREb2N1bWVudHMnO1xyXG5pbXBvcnQgeyB1c2VSZWFsRGF0YWJhc2UgfSBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VSZWFsRGF0YWJhc2UnO1xyXG5pbXBvcnQgdXNlUmVhbHRpbWVEb2N1bWVudCBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VSZWFsdGltZURvY3VtZW50JztcclxuaW1wb3J0IHVzZVJlYWx0aW1lRG9jdW1lbnRzIGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZVJlYWx0aW1lRG9jdW1lbnRzJztcclxuLy8gaW1wb3J0IEVkaXRCb29rIGZyb20gJy4uL0Zvcm1zJkZvcm1zUGFnZXMvRWRpdEJvb2snO1xyXG5pbXBvcnQgSW1hZ2UgZnJvbSAnbmV4dC9pbWFnZSc7XHJcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XHJcbmltcG9ydCBCbHVlQnV0dG9uIGZyb20gJ2NvbXBvbmVudHMvYnV0dG9ucy9CbHVlQnV0dG9uJztcclxuaW1wb3J0IHRvYXN0IGZyb20gJ3JlYWN0LWhvdC10b2FzdCc7XHJcbmltcG9ydCB7IENoaXAsIFRhYiwgVGFicyB9IGZyb20gJ0BuZXh0dWktb3JnL3JlYWN0JztcclxuaW1wb3J0IHsgSW9DaGF0YnViYmxlU2hhcnAgfSBmcm9tICdyZWFjdC1pY29ucy9pbzUnO1xyXG5pbXBvcnQgeyBGYUJvb2tCb29rbWFyaywgRmFTdGFyIH0gZnJvbSAncmVhY3QtaWNvbnMvZmE2JztcclxuXHJcbmZ1bmN0aW9uIEJvb2soeyBwYXJhbXMgfTogeyBwYXJhbXM6IHsgYm9va0lkOiBzdHJpbmcgfSB9KSB7XHJcbiAgY29uc3QgeyBib29rSWQ6IGlkIH0gPSBwYXJhbXM7XHJcbiAgY29uc3QgZGlzcGF0Y2g9dXNlRGlzcGF0Y2goKTtcclxuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZVJvdXRlcigpO1xyXG4gIGNvbnN0IHsgdXNlciB9ID0gdXNlQXV0aENvbnRleHQoKTtcclxuICBjb25zdCBbaXNQZW5kaW5nLCBzZXRJc1BlbmRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IHsgZ2V0RG9jdW1lbnQgfSA9IHVzZVJlYWx0aW1lRG9jdW1lbnQoKTtcclxuICBjb25zdCB7IGdldERvY3VtZW50cyB9ID0gdXNlUmVhbHRpbWVEb2N1bWVudHMoKTtcclxuICBjb25zdCBpc0RhcmtNb2RlZCA9IHVzZVNlbGVjdG9yKChzdGF0ZTphbnkpID0+IHN0YXRlLm1vZGUuaXNEYXJrTW9kZSk7XHJcbiAgY29uc3QgeyByZW1vdmVGcm9tRGF0YUJhc2UsIGFkZFRvRGF0YUJhc2UsIHVwZGF0ZURhdGFiYXNlIH0gPVxyXG4gICAgdXNlUmVhbERhdGFiYXNlKCk7XHJcbiAgY29uc3QgW2lzTGlrZWQsIHNldElzTGlrZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtib29rUmVhZGVyRm9ybSwgc2V0Qm9va1JlYWRlckZvcm1dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFt1cGRhdGVSZWFkZXJTdGF0dXMsIHNldFVwZGF0ZVJlYWRlclN0YXR1c10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3Nob3dMaWtlcnMsIHNldFNob3dMaWtlcnNdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtleHBhbmRlZCwgc2V0RXhwYW5kZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICBjb25zdCBoYW5kbGVPcGVuQWNjb3JkID0gKHBhbmVsKSA9PiAoZXZlbnQsIGlzRXhwYW5kZWQpID0+IHtcclxuICAgIHNldEV4cGFuZGVkKGlzRXhwYW5kZWQgPyBwYW5lbCA6IGZhbHNlKTtcclxuICB9O1xyXG4gIGNvbnN0IHNob3dBbGxMaWtlcnMgPSAoKSA9PiB7XHJcbiAgICBzZXRTaG93TGlrZXJzKHRydWUpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhpZGVBbGxMaWtlcnMgPSAoKSA9PiB7XHJcbiAgICBzZXRTaG93TGlrZXJzKGZhbHNlKTtcclxuICB9O1xyXG5cclxuY29uc3Qge2RvY3VtZW50czpsaWtlcnN9PXVzZUdldERvY3VtZW50cyhcImxvdmVkQm9va3NcIik7XHJcbmNvbnN0IHtkb2N1bWVudHM6IHJlY2Vuc2lvbk9iamVjdHN9PXVzZUdldERvY3VtZW50cygnYm9va1JlY2Vuc2lvbnMnKTtcclxuXHJcbmNvbnN0IHJlY2Vuc2lvbnM9IHJlY2Vuc2lvbk9iamVjdHMubWFwKChib29rUmVhZGVyKSA9PiB7XHJcbiAgaWYgKGJvb2tSZWFkZXIucmVjZW5zaW9ucykge1xyXG4gICAgcmV0dXJuIGJvb2tSZWFkZXIucmVjZW5zaW9ucztcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxufSkubWFwKChvYmopID0+IHtcclxuICBpZiAob2JqICE9PSBudWxsICYmIG9iaiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICBjb25zdCBuZXN0ZWRPYmplY3QgPSBPYmplY3QudmFsdWVzKG9iaik7XHJcbiAgICByZXR1cm4gbmVzdGVkT2JqZWN0O1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG59KS5mbGF0KCk7XHJcblxyXG4gXHJcblxyXG4gIGNvbnN0IHNob3dJZkxpa2VkID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKHVzZXIpIHsgICAgICBcclxuICAgICAgY29uc3QgZG9jRWxlbWVudCA9IGF3YWl0IGdldERvY3VtZW50KFwibG92ZWRCb29rc1wiLCBgJHtpZH0tJHt1c2VyLnVpZH1gKTtcclxuICBcclxuICAgICAgaWYgKGRvY0VsZW1lbnQpIHtcclxuICAgICAgICBzZXRJc0xpa2VkKHRydWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNldElzTGlrZWQoZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbmNvbnN0IHtkb2N1bWVudH09dXNlR2V0RG9jdW1lbnQoJ2Jvb2tzJywgaWQpO1xyXG4gIGNvbnN0IHtkb2N1bWVudHM6cmVhZGVyc09iamVjdHN9PXVzZUdldERvY3VtZW50cyhcImJvb2tSZWFkZXJzXCIpO1xyXG5cclxuICBjb25zdCByZWFkZXJzPXJlYWRlcnNPYmplY3RzLm1hcCgoYm9va1JlYWRlcjphbnkpID0+IHtcclxuICAgIHJldHVybiBib29rUmVhZGVyLnJlYWRlcnM7XHJcbiAgfSkubWFwKChvYmo6YW55W10pID0+IHtcclxuICAgIGNvbnN0IG5lc3RlZE9iamVjdCA9IE9iamVjdC52YWx1ZXMob2JqKTtcclxuICAgIHJldHVybiBuZXN0ZWRPYmplY3Q7XHJcbiAgfSkuZmxhdCgpO1xyXG5cclxuIFxyXG4gIGNvbnN0IHB1Ymxpc2hSZWNlbnNpb24gPSAocmVjZW5zaW9uLCBib29rUmF0ZSkgPT4ge1xyXG4gICAgaWYgKHVzZXIpIHtcclxuICAgICAgaWYgKHJlY2Vuc2lvbi50cmltKFwiXCIpLmxlbmd0aCA8IDEwKSB7XHJcbiAgICAgICAgZGlzcGF0Y2goc25hY2tiYXJBY3Rpb25zLnNob3dNZXNzYWdlKHttZXNzYWdlOmAke2FsZXJ0TWVzc2FnZXMubm90aWZpY2F0aW9ucy53cm9uZy5yZWNlbnNpb25Mb25nZXJbc2VsZWN0ZWRMYW5ndWFnZV19YCwgYWxlcnRUeXBlOlwiZXJyb3JcIn0pKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgYWRkVG9EYXRhQmFzZShcImJvb2tSZWNlbnNpb25zXCIsIGAke2lkfS9yZWNlbnNpb25zLyR7dXNlci51aWR9YCwge1xyXG4gICAgICAgIHJlY2Vuc2lvbmVkQm9vazogaWQsXHJcbiAgICAgICAgYm9va1JhdGU6IGJvb2tSYXRlLFxyXG4gICAgICAgIHJlY2Vuc2lvbjogcmVjZW5zaW9uLFxyXG4gICAgICAgIGRpc3BsYXlOYW1lOiB1c2VyLmRpc3BsYXlOYW1lLFxyXG4gICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgIGlkOiB1c2VyLnVpZCxcclxuICAgICAgICBwaG90b1VSTDogdXNlci5waG90b1VSTCxcclxuICAgICAgICBkYXRlT2ZGaW5pc2g6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxyXG4gICAgICB9KTtcclxuICBcclxuICAgICAgY29uc3QgcmVhZGVyT2JqZWN0ID0gcmVhZGVycy5maW5kKFxyXG4gICAgICAgIChyZWFkZXI6YW55KSA9PiByZWFkZXIuaWQgPT09IHVzZXIudWlkICYmIHJlYWRlci5ib29rUmVhZGluZ0lkID09PSBpZFxyXG4gICAgICApO1xyXG4gIFxyXG4gICAgICB1cGRhdGVEYXRhYmFzZShcclxuICAgICAgICB7IC4uLihyZWFkZXJPYmplY3QgYXMgYW55KSwgcmVjZW5zaW9uOiByZWNlbnNpb24gfSxcclxuICAgICAgICBcImJvb2tSZWFkZXJzXCIsXHJcbiAgICAgICAgYCR7aWR9L3JlYWRlcnMvJHt1c2VyLnVpZH1gXHJcbiAgICAgICk7XHJcbiB9XHJcbiAgfTtcclxuXHJcblxyXG4gIGNvbnN0IHtkb2N1bWVudHM6IG1lbWJlcnNPYmplY3RzfT11c2VHZXREb2N1bWVudHMoJ2NvbW11bml0eU1lbWJlcnMnKTtcclxuICBjb25zdCBjb21wZXRpdGlvbnNNZW1iZXJzPSBtZW1iZXJzT2JqZWN0cy5tYXAoKGNvbW11bml0eU1lbWJlcikgPT4ge1xyXG4gICAgcmV0dXJuIGNvbW11bml0eU1lbWJlci51c2VycztcclxuICB9KS5tYXAoKG1lbWJlcikgPT4ge1xyXG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMobWVtYmVyKTtcclxuICB9KS5mbGF0KCk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBzaG93SWZMaWtlZCgpO1xyXG5cclxuO1xyXG4gIH0sIFtcclxuICAgIHNob3dJZkxpa2VkLFxyXG4gIF0pO1xyXG5cclxuICBjb25zdCBzZWxlY3RlZExhbmd1YWdlID0gdXNlU2VsZWN0b3IoXHJcbiAgICAoc3RhdGU6YW55KSA9PiBzdGF0ZS5sYW5ndWFnZVNlbGVjdGlvbi5zZWxlY3RlZExhbmd1Z2FnZVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGdldENvbXBldGl0aW9uTWVtYmVycyA9ICgpID0+IHtcclxuICAgIGlmICh1c2VyKSB7IFxyXG4gICAgICAgY29uc3QgdXNlckNvbXBldGl0aW9ucyA9IGNvbXBldGl0aW9uc01lbWJlcnNcclxuICAgICAgLmZpbHRlcigoZG9jOmFueSkgPT4gZG9jLnZhbHVlLmlkID09PSB1c2VyLnVpZClcclxuICAgICAgLm1hcCgoY29tbXVuaXR5TWVtYmVyOmFueSkgPT4gY29tbXVuaXR5TWVtYmVyLmJlbG9uZ3NUbyk7XHJcblxyXG4gICAgbGV0IHJlc3VsdCA9IFtdO1xyXG4gICAgbGV0IHZpc2l0ZWRDb21wZXRpdGlvbnM6YW55W10gPSBbXTtcclxuXHJcbiAgICB3aGlsZSAodXNlckNvbXBldGl0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRDb21wZXRpdGlvbiA9IHVzZXJDb21wZXRpdGlvbnMucG9wKCk7XHJcblxyXG4gICAgICBpZiAoIXZpc2l0ZWRDb21wZXRpdGlvbnMuaW5jbHVkZXMoY3VycmVudENvbXBldGl0aW9uKSkge1xyXG4gICAgICAgIGNvbnN0IG1lbWJlcnNJbkN1cnJlbnRDb21wZXRpdGlvbiA9IGNvbXBldGl0aW9uc01lbWJlcnMuZmlsdGVyKFxyXG4gICAgICAgICAgKG1lbWJlcjphbnkpID0+IG1lbWJlci5iZWxvbmdzVG8gPT09IGN1cnJlbnRDb21wZXRpdGlvblxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQobWVtYmVyc0luQ3VycmVudENvbXBldGl0aW9uIGFzIGFueSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld01lbWJlcnNDb21wZXRpdGlvbnMgPSBtZW1iZXJzSW5DdXJyZW50Q29tcGV0aXRpb25cclxuICAgICAgICAgIC5maWx0ZXIoKG1lbWJlcjphbnkpID0+ICF2aXNpdGVkQ29tcGV0aXRpb25zLmluY2x1ZGVzKG1lbWJlci5iZWxvbmdzVG8pKVxyXG4gICAgICAgICAgLm1hcCgobWVtYmVyOmFueSkgPT4gbWVtYmVyLmJlbG9uZ3NUbyk7XHJcblxyXG4gICAgICAgIHVzZXJDb21wZXRpdGlvbnMucHVzaCguLi5uZXdNZW1iZXJzQ29tcGV0aXRpb25zKTtcclxuICAgICAgICB2aXNpdGVkQ29tcGV0aXRpb25zLnB1c2goY3VycmVudENvbXBldGl0aW9uKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc3VsdCA9IHJlc3VsdC5maWx0ZXIoXHJcbiAgICAgICh2YWx1ZTphbnksIGluZGV4LCBzZWxmKSA9PlxyXG4gICAgICAgIHNlbGYuZmluZEluZGV4KChtOmFueSkgPT4gbS52YWx1ZS5pZCA9PT0gdmFsdWUudmFsdWUuaWQpID09PSBpbmRleFxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4gcmVzdWx0LmZpbHRlcigobWVtYmVyOmFueSkgPT4gbWVtYmVyLnZhbHVlLmlkICE9PSB1c2VyLnVpZCk7XHJcbiAgICB9XHJcbiAgIFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNoYW5nZUxvdmVTdGF0ZSA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICBjb25zdCBsaWtlckRvYyA9IGF3YWl0IGdldERvY3VtZW50KFwibG92ZWRCb29rc1wiLCBgJHtpZH0tJHt1c2VyLnVpZH1gKTtcclxuXHJcbiAgICBpZiAoIWxpa2VyRG9jKSB7XHJcbiAgICAgIGFkZFRvRGF0YUJhc2UoXCJsb3ZlZEJvb2tzXCIsIGAke2lkfS0ke3VzZXIudWlkfWAsIHtcclxuICAgICAgICBkaXNwbGF5TmFtZTogdXNlci5kaXNwbGF5TmFtZSxcclxuICAgICAgICBsb3ZlZEJvb2tJZDogaWQsXHJcbiAgICAgICAgbG92ZWRCeTogdXNlci51aWQsXHJcbiAgICAgICAgcGhvdG9VUkw6IHVzZXIucGhvdG9VUkwsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZ2V0RG9jdW1lbnQoXCJsaWtlc0RhdGFcIiwgaWQpLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICB1cGRhdGVEYXRhYmFzZShcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgbGlrZXNBbW91bnQ6IGRhdGEubGlrZXNBbW91bnQgKyAxLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIFwibGlrZXNEYXRhXCIsXHJcbiAgICAgICAgICBpZFxyXG4gICAgICAgICk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVtb3ZlRnJvbURhdGFCYXNlKFwibG92ZWRCb29rc1wiLCBgJHtpZH0tJHt1c2VyLnVpZH1gKTtcclxuICAgICAgZ2V0RG9jdW1lbnQoXCJsaWtlc0RhdGFcIiwgaWQpLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICB1cGRhdGVEYXRhYmFzZShcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgbGlrZXNBbW91bnQ6IGRhdGEubGlrZXNBbW91bnQgLSAxLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIFwibGlrZXNEYXRhXCIsXHJcbiAgICAgICAgICBpZFxyXG4gICAgICAgICk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgfVxyXG4gICBcclxuICB9O1xyXG5cclxuICBjb25zdCBjbGlja0RlbGV0ZSA9ICgpID0+IHtcclxuICAgIHNldElzUGVuZGluZyh0cnVlKTtcclxuXHJcbiAgICByZW1vdmVGcm9tRGF0YUJhc2UoXCJib29rc1wiLCBpZCk7XHJcbmRpc3BhdGNoKHNuYWNrYmFyQWN0aW9ucy5zaG93TWVzc2FnZSh7bWVzc2FnZTpgJHsgIGFsZXJ0TWVzc2FnZXMubm90aWZpY2F0aW9ucy5zdWNjZXNzZnVsbC5yZW1vdmVbc2VsZWN0ZWRMYW5ndWFnZV19YCwgYWxlcnRUeXBlOlwic3VjY2Vzc1wifSkpO1xyXG4gICAgc2V0SXNQZW5kaW5nKGZhbHNlKTtcclxuICAgIG5hdmlnYXRlLnB1c2goXCIvXCIpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGlzT3BlbmVkID0gdXNlU2VsZWN0b3IoKHN0YXRlOmFueSkgPT4gc3RhdGUubW9kYWwuaXNPcGVuZWQpO1xyXG4gIGNvbnN0IGNsaXBib2FyZCA9IHVzZUNsaXBib2FyZCgpO1xyXG5cclxuICBjb25zdCBjb3B5UGF0aE5hbWUgPSAoKSA9PiB7XHJcbiAgICBjbGlwYm9hcmQuY29weSh3aW5kb3cubG9jYXRpb24uaHJlZik7XHJcbiAgICB0b2FzdC5zdWNjZXNzKCdTdWNjZXNzZnVsbHkgY29waWVkICEnKTtcclxuICAgIGRpc3BhdGNoKHNuYWNrYmFyQWN0aW9ucy5zaG93TWVzc2FnZSh7bWVzc2FnZTpgJHthbGVydE1lc3NhZ2VzLm5vdGlmaWNhdGlvbnMuc3VjY2Vzc2Z1bGwuY29waWVkW3NlbGVjdGVkTGFuZ3VhZ2VdfWAsIGFsZXJ0VHlwZTpcInN1Y2Nlc3NcIn0pKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBvcGVuQm9va1JlYWRlckZvcm0gPSAoKSA9PiB7XHJcbiAgICBzZXRCb29rUmVhZGVyRm9ybSh0cnVlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBvcGVuVXBkYXRlUmVhZGVyRm9ybSA9ICgpID0+IHtcclxuICAgIHNldFVwZGF0ZVJlYWRlclN0YXR1cyh0cnVlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBjbG9zZUJvb2tSZWFkZXJGb3JtID0gKCkgPT4ge1xyXG4gICAgc2V0Qm9va1JlYWRlckZvcm0oZmFsc2UpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNsb3NlVXBkYXRlUmVhZGVyRm9ybSA9ICgpID0+IHtcclxuICAgIHNldFVwZGF0ZVJlYWRlclN0YXR1cyhmYWxzZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVtb3ZlRnJvbVNoZWxmID0gKCkgPT4ge1xyXG4gICAgaWYgKHVzZXIpIHtcclxuICAgICAgaWYocmVhZGVycy5maWx0ZXIoKGRvYzphbnkpPT5kb2MuYm9va1JlYWRpbmdJZD09PWlkKS5sZW5ndGggPT09IDEpe1xyXG4gICAgICAgIHJlbW92ZUZyb21EYXRhQmFzZShgYm9va1JlYWRlcnNgLCBgJHtpZH1gKTtcclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgcmVtb3ZlRnJvbURhdGFCYXNlKGBib29rUmVhZGVyc2AsIGAke2lkfS9yZWFkZXJzLyR7dXNlci51aWR9YCk7XHJcbiAgICAgICAgcmVtb3ZlRnJvbURhdGFCYXNlKGBib29rUmVjZW5zaW9uc2AsIGAke2lkfS9yZWNlbnNpb25zLyR7dXNlci51aWR9YCk7XHJcbiAgICAgIFxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGFkZFRvU2hlbGYgPSAoaGFzU3RhcnRlZCwgaGFzRmluaXNoZWQsIHJlYWRQYWdlcykgPT4ge1xyXG4gICAgaWYgKHVzZXIpIHsgXHJcbiAgICAgICAgIGFkZFRvRGF0YUJhc2UoXCJib29rUmVhZGVyc1wiLCBgJHtpZH0vcmVhZGVycy8ke3VzZXIudWlkfWAsIHtcclxuICAgICAgYm9va1JhdGU6IDAsXHJcbiAgICAgIGJvb2tSZWFkaW5nSWQ6IGlkLFxyXG4gICAgICBkaXNwbGF5TmFtZTogdXNlci5kaXNwbGF5TmFtZSxcclxuICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgIGhhc0ZpbmlzaGVkLFxyXG4gICAgICBpZDogdXNlci51aWQsXHJcbiAgICAgIHBhZ2VzUmVhZDogcmVhZFBhZ2VzLFxyXG4gICAgICBzdGFydGVkUmVhZGluZzogaGFzU3RhcnRlZCxcclxuICAgICAgZGF0ZU9mRmluaXNoOiBoYXNGaW5pc2hlZCA/IG5ldyBEYXRlKCkuZ2V0VGltZSgpIDogbnVsbCxcclxuICAgICAgcmVjZW5zaW9uOiBcIlwiLFxyXG4gICAgICBwaG90b1VSTDogdXNlci5waG90b1VSTCxcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gICAgY29uc3QgdXBkYXRlUmVhZGVyU3RhdGUgPSAoaGFzU3RhcnRlZCwgaGFzRmluaXNoZWQsIHJlYWRQYWdlcykgPT4ge1xyXG4gICAgICBpZiAodXNlcikgeyAgIFxyXG4gICAgICAgIGlmIChkb2N1bWVudC5wYWdlc051bWJlciA+IHJlYWRQYWdlcykge1xyXG4gICAgICAgICAgcmVtb3ZlRnJvbURhdGFCYXNlKGBib29rUmVjZW5zaW9uc2AsIGAke2lkfS9yZWNlbnNpb25zLyR7dXNlci51aWR9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgYWRkVG9EYXRhQmFzZShcImJvb2tSZWFkZXJzXCIsIGAke2lkfS9yZWFkZXJzLyR7dXNlci51aWR9YCwge1xyXG4gICAgICAgICAgYm9va1JhdGU6IDAsXHJcbiAgICAgICAgICBib29rUmVhZGluZ0lkOiBpZCxcclxuICAgICAgICAgIGRpc3BsYXlOYW1lOiB1c2VyLmRpc3BsYXlOYW1lLFxyXG4gICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICBoYXNGaW5pc2hlZCxcclxuICAgICAgICAgIGlkOiB1c2VyLnVpZCxcclxuICAgICAgICAgIHBhZ2VzUmVhZDogcmVhZFBhZ2VzLFxyXG4gICAgICAgICAgc3RhcnRlZFJlYWRpbmc6IGhhc1N0YXJ0ZWQsXHJcbiAgICAgICAgICBkYXRlT2ZGaW5pc2g6IGhhc0ZpbmlzaGVkID8gbmV3IERhdGUoKS5nZXRUaW1lKCkgOiBudWxsLFxyXG4gICAgICAgICAgcmVjZW5zaW9uOiBcIlwiLFxyXG4gICAgICAgICAgcGhvdG9VUkw6IHVzZXIucGhvdG9VUkwsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgW3Nob3dMaXN0LCBzZXRTaG93TGlzdF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3Qgc2hvd0xpc3RzT2ZVc2VycyA9ICgpID0+IHtcclxuICAgIHNldFNob3dMaXN0KHRydWUpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNsb3NlTGlzdHNPZlVzZXJzID0gKCkgPT4ge1xyXG4gICAgc2V0U2hvd0xpc3QoZmFsc2UpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlY29tbWVuZFRvVXNlciA9IGFzeW5jIChyZWNlaXZlcklkOiBzdHJpbmcpID0+IHtcclxuICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICBjb25zdCBmaXJzdFBvc3NpYmlsaXR5ID0gYCR7dXNlci51aWR9LSR7cmVjZWl2ZXJJZH1gO1xyXG4gICAgY29uc3Qgc2Vjb25kUG9zc2liaWxpdHkgPSBgJHtyZWNlaXZlcklkfS0ke3VzZXIudWlkfWA7XHJcblxyXG4gICAgY29uc3QgZXhpc3RpbmdDaGF0MSA9IGF3YWl0IGdldERvY3VtZW50KFwidXNlcnNDaGF0c1wiLCBmaXJzdFBvc3NpYmlsaXR5KTtcclxuICAgIGNvbnN0IGV4aXN0aW5nQ2hhdDIgPSBhd2FpdCBnZXREb2N1bWVudChcInVzZXJzQ2hhdHNcIiwgc2Vjb25kUG9zc2liaWxpdHkpO1xyXG5cclxuICAgIGxldCBjaGF0SWQ7XHJcblxyXG4gICAgaWYgKGV4aXN0aW5nQ2hhdDEgfHwgZXhpc3RpbmdDaGF0Mikge1xyXG4gICAgICBjaGF0SWQgPSBleGlzdGluZ0NoYXQxID8gZmlyc3RQb3NzaWJpbGl0eSA6IHNlY29uZFBvc3NpYmlsaXR5O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2hhdElkID0gZmlyc3RQb3NzaWJpbGl0eTtcclxuXHJcbiAgICAgIGFkZFRvRGF0YUJhc2UoXCJ1c2Vyc0NoYXRzXCIsIGZpcnN0UG9zc2liaWxpdHksIHtcclxuICAgICAgICBjaGF0SWQ6IGZpcnN0UG9zc2liaWxpdHksXHJcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBhZGRUb0RhdGFCYXNlKFwiZW50aXRsZWRUb0NoYXRcIiwgYCR7Zmlyc3RQb3NzaWJpbGl0eX0vJHt1c2VyLnVpZH1gLCB7XHJcbiAgICAgICAgZW50aXRsZWRVc2VySWQ6IHVzZXIudWlkLFxyXG4gICAgICAgIGVudGl0bGVkQ2hhdElkOiBmaXJzdFBvc3NpYmlsaXR5LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGFkZFRvRGF0YUJhc2UoXCJlbnRpdGxlZFRvQ2hhdFwiLCBgJHtmaXJzdFBvc3NpYmlsaXR5fS8ke3JlY2VpdmVySWR9YCwge1xyXG4gICAgICAgIGVudGl0bGVkVXNlcklkOiByZWNlaXZlcklkLFxyXG4gICAgICAgIGVudGl0bGVkQ2hhdElkOiBmaXJzdFBvc3NpYmlsaXR5LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgXHJcbiAgICBjb25zdCBtZXNzYWdlSWQgPSBgJHtjaGF0SWR9LyR7bmV3IERhdGUoKS5nZXRUaW1lKCl9JHt1bmlxaWQoKX1gO1xyXG5cclxuICAgIGFkZFRvRGF0YUJhc2UoXCJ1c2Vyc0NoYXRNZXNzYWdlc1wiLCBtZXNzYWdlSWQsIHtcclxuICAgICAgY29udGVudDogZG9jdW1lbnQucGhvdG9VUkwsXHJcbiAgICAgIG1lc3NhZ2U6IGBIaSwgSSB3YW50IHRvIHJlY29tbWVuZCB5b3UgdGhlIGJvb2sgJHtkb2N1bWVudC50aXRsZX0gd3JpdHRlbiBieSAke2RvY3VtZW50LmF1dGhvcn0uYCxcclxuICAgICAgY2hhdElkOiBjaGF0SWQsXHJcbiAgICAgIHNlbmRlcjoge1xyXG4gICAgICAgIGlkOiB1c2VyLnVpZCxcclxuICAgICAgfSxcclxuICAgICAgcmVjZWl2ZXI6IHtcclxuICAgICAgICBpZDogcmVjZWl2ZXJJZCxcclxuICAgICAgfSxcclxuICAgICAgc2VudEF0OiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcclxuICAgIH0pO1xyXG5cclxuICAgIGFkZFRvRGF0YUJhc2UoXCJyZWNvbW1lbmRhdGlvbnNcIiwgbWVzc2FnZUlkLCB7XHJcbiAgICAgIGNvbnRlbnQ6IGRvY3VtZW50LnBob3RvVVJMLFxyXG4gICAgICBtZXNzYWdlOiBgSGksIEkgd2FudCB0byByZWNvbW1lbmQgeW91IHRoZSBib29rICR7ZG9jdW1lbnQudGl0bGV9IHdyaXR0ZW4gYnkgJHtkb2N1bWVudC5hdXRob3J9LmAsXHJcbiAgICAgIGNoYXRJZDogY2hhdElkLFxyXG4gICAgICBtZXNzYWdlSWQsXHJcbiAgICAgIHNlbmRlcjoge1xyXG4gICAgICAgIGlkOiB1c2VyLnVpZCxcclxuICAgICAgfSxcclxuICAgICAgcmVjZWl2ZXI6IHtcclxuICAgICAgICBpZDogcmVjZWl2ZXJJZCxcclxuICAgICAgfSxcclxuICAgICAgc2VudEF0OiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcclxuICAgIH0pO1xyXG5kaXNwYXRjaChzbmFja2JhckFjdGlvbnMuc2hvd01lc3NhZ2Uoe21lc3NhZ2U6YCR7YWxlcnRNZXNzYWdlcy5ub3RpZmljYXRpb25zLnN1Y2Nlc3NmdWxsLnNlbmRbc2VsZWN0ZWRMYW5ndWFnZV19YCwgYWxlcnRUeXBlOlwic3VjY2Vzc1wifSkpO1xyXG4gICAgfVxyXG5cclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9e2BtaW4taC1zY3JlZW4gaC1mdWxsIG92ZXJmbG93LXgtaGlkZGVuYH0+XHJcbiAgICAgIHsvKiB7aXNPcGVuZWQgJiYgPEVkaXRCb29rIGlkPXtpZH0gLz59ICovfVxyXG5cclxuICAgICAge2RvY3VtZW50ICYmIChcclxuICAgICAgICA8PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1heC13LTd4bCBqdXN0aWZ5LWFyb3VuZCBnYXAtNCBteC1hdXRvIG0tMCB3LWZ1bGwgeGw6cC02XCI+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtNzIgdy01MlwiPlxyXG4gICAgICAgICAgICAgIDxJbWFnZSBzcmM9e2RvY3VtZW50LnBob3RvVVJMfSBhbHQ9JycgY2xhc3NOYW1lPSd3LWZ1bGwgb2JqZWN0LWNvdmVyIGgtZnVsbCByb3VuZGVkLXhsJyB3aWR0aD17ODB9IGhlaWdodD17ODB9Lz4gXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC0yIG1heC13LTN4bCB3LWZ1bGxcIj5cclxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQtM3hsXCI+e2RvY3VtZW50LnRpdGxlfTwvcD5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTYgaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17Y2hhbmdlTG92ZVN0YXRlfT4gXHJcbiAgICAgICAgICAgICAgICAgICAgPEZhSGVhcnQgY2xhc3NOYW1lPXtgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tNDAwICR7aXNMaWtlZCA/ICd0ZXh0LXJlZC00MDAnIDogJ3RleHQtd2hpdGUnfWB9IHNpemU9ezI0fS8+XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICB7bGlrZXJzICYmIGxpa2Vycy5sZW5ndGggPiAwICYmIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGVcIj57KGxpa2Vycy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0ubG92ZWRCb29rSWQgPT09IGlkKVswXS5kaXNwbGF5TmFtZSl9IGFuZCBvdGhlciB7KGxpa2Vycy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0ubG92ZWRCb29rSWQgPT09IGlkKS5sZW5ndGggLSAxKX0gbG92ZXMgaXQ8L3A+fVxyXG48L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8Qmx1ZUJ1dHRvbiBhZGRpdGlvbmFsQ2xhc3Nlcz0nZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTInIG9uQ2xpY2s9e2NvcHlQYXRoTmFtZX0+XHJcbiAgICAgICAgICAgICAgICAgIDxGYVNoYXJlIHNpemU9ezI0fSBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlXCIgLz5cclxuICAgICAgICAgICAgICAgICAgU2hhcmVcclxuICAgICAgICAgICAgICAgIDwvQmx1ZUJ1dHRvbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgXHJcbiA8VGFic1xyXG4gICAgICAgIGFyaWEtbGFiZWw9XCJPcHRpb25zXCIgXHJcbiAgICAgICAgY29sb3I9XCJwcmltYXJ5XCIgXHJcbiAgICAgICAgdmFyaWFudD1cInVuZGVybGluZWRcIlxyXG4gICAgICAgIGNsYXNzTmFtZXM9e3tcclxuICAgICAgICAgIHRhYkxpc3Q6IFwiZ2FwLTYgdy1mdWxsIHJlbGF0aXZlIHJvdW5kZWQtbm9uZSBwLTAgYm9yZGVyLWIgYm9yZGVyLWRpdmlkZXJcIixcclxuICAgICAgICAgIGN1cnNvcjogXCJ3LWZ1bGwgYmctWyMyMmQzZWVdXCIsXHJcbiAgICAgICAgICB0YWI6IFwibWF4LXctZml0IHB4LTAgaC0xMlwiLFxyXG4gICAgICAgICAgdGFiQ29udGVudDogXCJncm91cC1kYXRhLVtzZWxlY3RlZD10cnVlXTp0ZXh0LVsjMDZiNmQ0XVwiXHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIDxUYWJcclxuICAgICAgICAgIGtleT1cInBob3Rvc1wiXHJcbiAgICAgICAgICB0aXRsZT17XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XHJcbiAgICAgICAgICAgICAgPElvQ2hhdGJ1YmJsZVNoYXJwIC8+XHJcbiAgICAgICAgICAgICAgPHNwYW4+UmVjZW5zaW9uczwvc3Bhbj5cclxuICAgICAgICAgICAgICA8Q2hpcCBzaXplPVwic21cIiB2YXJpYW50PVwiZmFkZWRcIj45PC9DaGlwPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIH1cclxuICAgICAgICAvPlxyXG4gICAgICAgIDxUYWJcclxuICAgICAgICAgIGtleT1cIm11c2ljXCJcclxuICAgICAgICAgIHRpdGxlPXtcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cclxuICAgICAgICAgICAgICA8RmFTdGFyLz5cclxuICAgICAgICAgICAgICA8c3Bhbj5SYXRlPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxDaGlwIHNpemU9XCJzbVwiIHZhcmlhbnQ9XCJmYWRlZFwiPjgvMTA8L0NoaXA+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgPFRhYlxyXG4gICAgICAgICAga2V5PVwidmlkZW9zXCJcclxuICAgICAgICAgIHRpdGxlPXtcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cclxuICAgICAgICAgICAgICA8RmFCb29rQm9va21hcmsvPlxyXG4gICAgICAgICAgICAgIDxzcGFuPlJlYWQgQnk8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPENoaXAgc2l6ZT1cInNtXCIgdmFyaWFudD1cImZhZGVkXCI+MTwvQ2hpcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgLz5cclxuICAgICAgPC9UYWJzPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgIFxyXG4gICAgICAgICAgICA8Lz5cclxuICAgICAgKX1cclxuICAgICAge2RvY3VtZW50ICYmICByZWFkZXJzICYmIChcclxuICAgICAgICAgPD5cclxuICAgICBcclxuICAgICAgICAgICAgPC8+XHJcbiAgICAgICl9XHJcblxyXG4gICAgICB7Ym9va1JlYWRlckZvcm0gJiYgZG9jdW1lbnQgJiYgdXNlciAmJiAoXHJcbiAgICAgICA8PlxyXG4gICAgIFxyXG4gICAgICAgICAgICA8Lz5cclxuICAgICAgKX1cclxuXHJcbiAgICAgIHt1cGRhdGVSZWFkZXJTdGF0dXMgJiYgZG9jdW1lbnQgJiYgKFxyXG4gICAgIDw+XHJcbiAgICAgXHJcbiAgICAgICAgICAgIDwvPlxyXG4gICAgICApfVxyXG5cclxuICAgICAge3Nob3dMaWtlcnMgJiYgKFxyXG4gICAgICAgIDw+XHJcbiAgICAgXHJcbiAgICAgICAgICAgIDwvPlxyXG4gICAgICApfVxyXG4gICAgICB7aXNQZW5kaW5nICYmIDxMb2FkZXIgLz59XHJcblxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQm9vaztcclxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiRmFIZWFydCIsIkZhU2hhcmUiLCJ1c2VEaXNwYXRjaCIsInVzZVNlbGVjdG9yIiwidW5pcWlkIiwidXNlQ2xpcGJvYXJkIiwiYWxlcnRNZXNzYWdlcyIsIkxvYWRlciIsInNuYWNrYmFyQWN0aW9ucyIsInVzZUF1dGhDb250ZXh0IiwidXNlR2V0RG9jdW1lbnQiLCJ1c2VHZXREb2N1bWVudHMiLCJ1c2VSZWFsRGF0YWJhc2UiLCJ1c2VSZWFsdGltZURvY3VtZW50IiwidXNlUmVhbHRpbWVEb2N1bWVudHMiLCJJbWFnZSIsInVzZVJvdXRlciIsIkJsdWVCdXR0b24iLCJ0b2FzdCIsIkNoaXAiLCJUYWIiLCJUYWJzIiwiSW9DaGF0YnViYmxlU2hhcnAiLCJGYUJvb2tCb29rbWFyayIsIkZhU3RhciIsIkJvb2siLCJwYXJhbXMiLCJib29rSWQiLCJpZCIsImRpc3BhdGNoIiwibmF2aWdhdGUiLCJ1c2VyIiwiaXNQZW5kaW5nIiwic2V0SXNQZW5kaW5nIiwiZ2V0RG9jdW1lbnQiLCJnZXREb2N1bWVudHMiLCJpc0RhcmtNb2RlZCIsInN0YXRlIiwibW9kZSIsImlzRGFya01vZGUiLCJyZW1vdmVGcm9tRGF0YUJhc2UiLCJhZGRUb0RhdGFCYXNlIiwidXBkYXRlRGF0YWJhc2UiLCJpc0xpa2VkIiwic2V0SXNMaWtlZCIsImJvb2tSZWFkZXJGb3JtIiwic2V0Qm9va1JlYWRlckZvcm0iLCJ1cGRhdGVSZWFkZXJTdGF0dXMiLCJzZXRVcGRhdGVSZWFkZXJTdGF0dXMiLCJzaG93TGlrZXJzIiwic2V0U2hvd0xpa2VycyIsImV4cGFuZGVkIiwic2V0RXhwYW5kZWQiLCJoYW5kbGVPcGVuQWNjb3JkIiwicGFuZWwiLCJldmVudCIsImlzRXhwYW5kZWQiLCJzaG93QWxsTGlrZXJzIiwiaGlkZUFsbExpa2VycyIsImRvY3VtZW50cyIsImxpa2VycyIsInJlY2Vuc2lvbk9iamVjdHMiLCJyZWNlbnNpb25zIiwibWFwIiwiYm9va1JlYWRlciIsIm9iaiIsInVuZGVmaW5lZCIsIm5lc3RlZE9iamVjdCIsIk9iamVjdCIsInZhbHVlcyIsImZsYXQiLCJzaG93SWZMaWtlZCIsImRvY0VsZW1lbnQiLCJ1aWQiLCJkb2N1bWVudCIsInJlYWRlcnNPYmplY3RzIiwicmVhZGVycyIsInB1Ymxpc2hSZWNlbnNpb24iLCJyZWNlbnNpb24iLCJib29rUmF0ZSIsInRyaW0iLCJsZW5ndGgiLCJzaG93TWVzc2FnZSIsIm1lc3NhZ2UiLCJub3RpZmljYXRpb25zIiwid3JvbmciLCJyZWNlbnNpb25Mb25nZXIiLCJzZWxlY3RlZExhbmd1YWdlIiwiYWxlcnRUeXBlIiwicmVjZW5zaW9uZWRCb29rIiwiZGlzcGxheU5hbWUiLCJlbWFpbCIsInBob3RvVVJMIiwiZGF0ZU9mRmluaXNoIiwiRGF0ZSIsImdldFRpbWUiLCJyZWFkZXJPYmplY3QiLCJmaW5kIiwicmVhZGVyIiwiYm9va1JlYWRpbmdJZCIsIm1lbWJlcnNPYmplY3RzIiwiY29tcGV0aXRpb25zTWVtYmVycyIsImNvbW11bml0eU1lbWJlciIsInVzZXJzIiwibWVtYmVyIiwibGFuZ3VhZ2VTZWxlY3Rpb24iLCJzZWxlY3RlZExhbmd1Z2FnZSIsImdldENvbXBldGl0aW9uTWVtYmVycyIsImN1cnJlbnRDb21wZXRpdGlvbiIsInVzZXJDb21wZXRpdGlvbnMiLCJwb3AiLCJ2aXNpdGVkQ29tcGV0aXRpb25zIiwiaW5jbHVkZXMiLCJtZW1iZXJzSW5DdXJyZW50Q29tcGV0aXRpb24iLCJmaWx0ZXIiLCJiZWxvbmdzVG8iLCJyZXN1bHQiLCJjb25jYXQiLCJuZXdNZW1iZXJzQ29tcGV0aXRpb25zIiwicHVzaCIsImRvYyIsInZhbHVlIiwiaW5kZXgiLCJzZWxmIiwiZmluZEluZGV4IiwibSIsImNoYW5nZUxvdmVTdGF0ZSIsImxpa2VyRG9jIiwibG92ZWRCb29rSWQiLCJsb3ZlZEJ5IiwidGhlbiIsImRhdGEiLCJsaWtlc0Ftb3VudCIsImNsaWNrRGVsZXRlIiwic3VjY2Vzc2Z1bGwiLCJyZW1vdmUiLCJpc09wZW5lZCIsIm1vZGFsIiwiY2xpcGJvYXJkIiwiY29weVBhdGhOYW1lIiwiY29weSIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsInN1Y2Nlc3MiLCJjb3BpZWQiLCJvcGVuQm9va1JlYWRlckZvcm0iLCJvcGVuVXBkYXRlUmVhZGVyRm9ybSIsImNsb3NlQm9va1JlYWRlckZvcm0iLCJjbG9zZVVwZGF0ZVJlYWRlckZvcm0iLCJyZW1vdmVGcm9tU2hlbGYiLCJhZGRUb1NoZWxmIiwiaGFzU3RhcnRlZCIsImhhc0ZpbmlzaGVkIiwicmVhZFBhZ2VzIiwicGFnZXNSZWFkIiwic3RhcnRlZFJlYWRpbmciLCJ1cGRhdGVSZWFkZXJTdGF0ZSIsInBhZ2VzTnVtYmVyIiwic2hvd0xpc3QiLCJzZXRTaG93TGlzdCIsInNob3dMaXN0c09mVXNlcnMiLCJjbG9zZUxpc3RzT2ZVc2VycyIsInJlY29tbWVuZFRvVXNlciIsInJlY2VpdmVySWQiLCJmaXJzdFBvc3NpYmlsaXR5Iiwic2Vjb25kUG9zc2liaWxpdHkiLCJleGlzdGluZ0NoYXQxIiwiZXhpc3RpbmdDaGF0MiIsImNoYXRJZCIsIm1lc3NhZ2VJZCIsImNyZWF0ZWRBdCIsImVudGl0bGVkVXNlcklkIiwiZW50aXRsZWRDaGF0SWQiLCJjb250ZW50IiwidGl0bGUiLCJhdXRob3IiLCJzZW5kZXIiLCJyZWNlaXZlciIsInNlbnRBdCIsInNlbmQiLCJkaXYiLCJjbGFzc05hbWUiLCJzcmMiLCJhbHQiLCJ3aWR0aCIsImhlaWdodCIsInAiLCJidXR0b24iLCJvbkNsaWNrIiwic2l6ZSIsIml0ZW0iLCJhZGRpdGlvbmFsQ2xhc3NlcyIsImFyaWEtbGFiZWwiLCJjb2xvciIsInZhcmlhbnQiLCJjbGFzc05hbWVzIiwidGFiTGlzdCIsImN1cnNvciIsInRhYiIsInRhYkNvbnRlbnQiLCJzcGFuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/book/[bookId]/page.tsx\n"));

/***/ })

});