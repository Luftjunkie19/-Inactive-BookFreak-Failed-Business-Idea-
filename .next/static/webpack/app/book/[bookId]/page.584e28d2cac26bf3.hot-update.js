"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/book/[bookId]/page",{

/***/ "(app-pages-browser)/./app/book/[bookId]/page.tsx":
/*!************************************!*\
  !*** ./app/book/[bookId]/page.tsx ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @swc/helpers/_/_async_to_generator */ \"(app-pages-browser)/./node_modules/next/node_modules/@swc/helpers/esm/_async_to_generator.js\");\n/* harmony import */ var _swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @swc/helpers/_/_object_spread */ \"(app-pages-browser)/./node_modules/next/node_modules/@swc/helpers/esm/_object_spread.js\");\n/* harmony import */ var _swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @swc/helpers/_/_object_spread_props */ \"(app-pages-browser)/./node_modules/next/node_modules/@swc/helpers/esm/_object_spread_props.js\");\n/* harmony import */ var _swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @swc/helpers/_/_sliced_to_array */ \"(app-pages-browser)/./node_modules/next/node_modules/@swc/helpers/esm/_sliced_to_array.js\");\n/* harmony import */ var _swc_helpers_to_consumable_array__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @swc/helpers/_/_to_consumable_array */ \"(app-pages-browser)/./node_modules/next/node_modules/@swc/helpers/esm/_to_consumable_array.js\");\n/* harmony import */ var _swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @swc/helpers/_/_ts_generator */ \"(app-pages-browser)/./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_FaHeart_react_icons_fa__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=FaHeart!=!react-icons/fa */ \"(app-pages-browser)/./node_modules/react-icons/fa/index.mjs\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ \"(app-pages-browser)/./node_modules/react-redux/es/index.js\");\n/* harmony import */ var uniqid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uniqid */ \"(app-pages-browser)/./node_modules/uniqid/index.js\");\n/* harmony import */ var uniqid__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(uniqid__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var use_clipboard_copy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! use-clipboard-copy */ \"(app-pages-browser)/./node_modules/use-clipboard-copy/dist/index.js\");\n/* harmony import */ var use_clipboard_copy__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(use_clipboard_copy__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _assets_translations_AlertMessages_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../assets/translations/AlertMessages.json */ \"(app-pages-browser)/./assets/translations/AlertMessages.json\");\n/* harmony import */ var _components_Loader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../components/Loader */ \"(app-pages-browser)/./components/Loader.tsx\");\n/* harmony import */ var _context_SnackBarContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../context/SnackBarContext */ \"(app-pages-browser)/./context/SnackBarContext.tsx\");\n/* harmony import */ var _hooks_useAuthContext__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../hooks/useAuthContext */ \"(app-pages-browser)/./hooks/useAuthContext.tsx\");\n/* harmony import */ var _hooks_useGetDocument__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../hooks/useGetDocument */ \"(app-pages-browser)/./hooks/useGetDocument.tsx\");\n/* harmony import */ var _hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../hooks/useGetDocuments */ \"(app-pages-browser)/./hooks/useGetDocuments.tsx\");\n/* harmony import */ var _hooks_useRealDatabase__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../hooks/useRealDatabase */ \"(app-pages-browser)/./hooks/useRealDatabase.tsx\");\n/* harmony import */ var _hooks_useRealtimeDocument__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../hooks/useRealtimeDocument */ \"(app-pages-browser)/./hooks/useRealtimeDocument.tsx\");\n/* harmony import */ var _hooks_useRealtimeDocuments__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../hooks/useRealtimeDocuments */ \"(app-pages-browser)/./hooks/useRealtimeDocuments.tsx\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n// import CompetitionMembers\n//   from '../../components/CommunityComponents/CompetitionMembers';\n\n\n\n\n\n\n\n\n// import EditBook from '../Forms&FormsPages/EditBook';\n\n\nfunction Book(param) {\n    var params = param.params;\n    _s();\n    var id = params.bookId;\n    var dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useDispatch)();\n    var navigate = (0,next_navigation__WEBPACK_IMPORTED_MODULE_15__.useRouter)();\n    var user = (0,_hooks_useAuthContext__WEBPACK_IMPORTED_MODULE_8__.useAuthContext)().user;\n    var _useState = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_16__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), isPending = _useState[0], setIsPending = _useState[1];\n    var getDocument = (0,_hooks_useRealtimeDocument__WEBPACK_IMPORTED_MODULE_12__[\"default\"])().getDocument;\n    var getDocuments = (0,_hooks_useRealtimeDocuments__WEBPACK_IMPORTED_MODULE_13__[\"default\"])().getDocuments;\n    var isDarkModed = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(function(state) {\n        return state.mode.isDarkMode;\n    });\n    var _useRealDatabase = (0,_hooks_useRealDatabase__WEBPACK_IMPORTED_MODULE_11__.useRealDatabase)(), removeFromDataBase = _useRealDatabase.removeFromDataBase, addToDataBase = _useRealDatabase.addToDataBase, updateDatabase = _useRealDatabase.updateDatabase;\n    var _useState1 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_16__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), isLiked = _useState1[0], setIsLiked = _useState1[1];\n    var _useState2 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_16__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), bookReaderForm = _useState2[0], setBookReaderForm = _useState2[1];\n    var _useState3 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_16__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), updateReaderStatus = _useState3[0], setUpdateReaderStatus = _useState3[1];\n    var _useState4 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_16__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), showLikers = _useState4[0], setShowLikers = _useState4[1];\n    var _useState5 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_16__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), expanded = _useState5[0], setExpanded = _useState5[1];\n    var handleOpenAccord = function(panel) {\n        return function(_event, isExpanded) {\n            setExpanded(isExpanded ? panel : false);\n        };\n    };\n    var showAllLikers = function() {\n        setShowLikers(true);\n    };\n    var hideAllLikers = function() {\n        setShowLikers(false);\n    };\n    var _useGetDocuments = (0,_hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(\"lovedBooks\"), likers = _useGetDocuments.documents;\n    var _useGetDocuments1 = (0,_hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(\"bookRecensions\"), recensionObjects = _useGetDocuments1.documents;\n    var recensions = recensionObjects.map(function(bookReader) {\n        if (bookReader.recensions) {\n            return bookReader.recensions;\n        } else {\n            return [];\n        }\n    }).map(function(obj) {\n        if (obj !== null && obj !== undefined) {\n            var nestedObject = Object.values(obj);\n            return nestedObject;\n        } else {\n            return;\n        }\n    }).flat();\n    var showIfLiked = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function() {\n        if (user) {\n            return getDocument(\"lovedBooks\", \"\".concat(id, \"-\").concat(user.uid)).then(function(value) {\n                return value;\n            });\n        }\n    }, [\n        id,\n        user\n    ]);\n    var document = (0,_hooks_useGetDocument__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(\"books\", id).document;\n    var _useGetDocuments2 = (0,_hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(\"bookReaders\"), readersObjects = _useGetDocuments2.documents;\n    var readers = readersObjects.map(function(bookReader) {\n        return bookReader.readers;\n    }).map(function(obj) {\n        var nestedObject = Object.values(obj);\n        return nestedObject;\n    }).flat();\n    var publishRecension = function(recension, bookRate) {\n        if (user) {\n            if (recension.trim(\"\").length < 10) {\n                dispatch(_context_SnackBarContext__WEBPACK_IMPORTED_MODULE_7__.snackbarActions.showMessage({\n                    message: \"\".concat(_assets_translations_AlertMessages_json__WEBPACK_IMPORTED_MODULE_5__.notifications.wrong.recensionLonger[selectedLanguage]),\n                    alertType: \"error\"\n                }));\n                return;\n            }\n            addToDataBase(\"bookRecensions\", \"\".concat(id, \"/recensions/\").concat(user.uid), {\n                recensionedBook: id,\n                bookRate: bookRate,\n                recension: recension,\n                displayName: user.displayName,\n                email: user.email,\n                id: user.uid,\n                photoURL: user.photoURL,\n                dateOfFinish: new Date().getTime()\n            });\n            var readerObject = readers.find(function(reader) {\n                return reader.id === user.uid && reader.bookReadingId === id;\n            });\n            updateDatabase((0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_17__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_18__._)({}, readerObject), {\n                recension: recension\n            }), \"bookReaders\", \"\".concat(id, \"/readers/\").concat(user.uid));\n        }\n    };\n    var _useGetDocuments3 = (0,_hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(\"communityMembers\"), membersObjects = _useGetDocuments3.documents;\n    var competitionsMembers = membersObjects.map(function(communityMember) {\n        return communityMember.users;\n    }).map(function(member) {\n        return Object.values(member);\n    }).flat();\n    var selectedLanguage = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(function(state) {\n        return state.languageSelection.selectedLangugage;\n    });\n    var getCompetitionMembers = function() {\n        if (user) {\n            var _loop = function() {\n                var currentCompetition = userCompetitions.pop();\n                if (!visitedCompetitions.includes(currentCompetition)) {\n                    var _userCompetitions;\n                    var membersInCurrentCompetition = competitionsMembers.filter(function(member) {\n                        return member.belongsTo === currentCompetition;\n                    });\n                    result = result.concat(membersInCurrentCompetition);\n                    var newMembersCompetitions = membersInCurrentCompetition.filter(function(member) {\n                        return !visitedCompetitions.includes(member.belongsTo);\n                    }).map(function(member) {\n                        return member.belongsTo;\n                    });\n                    (_userCompetitions = userCompetitions).push.apply(_userCompetitions, (0,_swc_helpers_to_consumable_array__WEBPACK_IMPORTED_MODULE_19__._)(newMembersCompetitions));\n                    visitedCompetitions.push(currentCompetition);\n                }\n            };\n            var userCompetitions = competitionsMembers.filter(function(doc) {\n                return doc.value.id === user.uid;\n            }).map(function(communityMember) {\n                return communityMember.belongsTo;\n            });\n            var result = [];\n            var visitedCompetitions = [];\n            while(userCompetitions.length > 0)_loop();\n            result = result.filter(function(value, index, self) {\n                return self.findIndex(function(m) {\n                    return m.value.id === value.value.id;\n                }) === index;\n            });\n            return result.filter(function(member) {\n                return member.value.id !== user.uid;\n            });\n        }\n    };\n    var changeLoveState = function() {\n        var _ref = (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_20__._)(function() {\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_21__.__generator)(this, function(_state) {\n                if (user) {\n                    if (!showIfLiked) {\n                        addToDataBase(\"lovedBooks\", \"\".concat(id, \"-\").concat(user.uid), {\n                            displayName: user.displayName,\n                            lovedBookId: id,\n                            lovedBy: user.uid,\n                            photoURL: user.photoURL\n                        });\n                        getDocument(\"likesData\", id).then(function(data) {\n                            updateDatabase({\n                                likesAmount: data.likesAmount + 1\n                            }, \"likesData\", id);\n                        });\n                    } else {\n                        removeFromDataBase(\"lovedBooks\", \"\".concat(id, \"-\").concat(user.uid));\n                        getDocument(\"likesData\", id).then(function(data) {\n                            updateDatabase({\n                                likesAmount: data.likesAmount - 1\n                            }, \"likesData\", id);\n                        });\n                    }\n                }\n                return [\n                    2\n                ];\n            });\n        });\n        return function changeLoveState() {\n            return _ref.apply(this, arguments);\n        };\n    }();\n    var clickDelete = function() {\n        setIsPending(true);\n        removeFromDataBase(\"books\", id);\n        dispatch(_context_SnackBarContext__WEBPACK_IMPORTED_MODULE_7__.snackbarActions.showMessage({\n            message: \"\".concat(_assets_translations_AlertMessages_json__WEBPACK_IMPORTED_MODULE_5__.notifications.successfull.remove[selectedLanguage]),\n            alertType: \"success\"\n        }));\n        setIsPending(false);\n        navigate.push(\"/\");\n    };\n    var isOpened = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(function(state) {\n        return state.modal.isOpened;\n    });\n    var clipboard = (0,use_clipboard_copy__WEBPACK_IMPORTED_MODULE_4__.useClipboard)();\n    var copyPathName = function() {\n        clipboard.copy(window.location.href);\n        dispatch(_context_SnackBarContext__WEBPACK_IMPORTED_MODULE_7__.snackbarActions.showMessage({\n            message: \"\".concat(_assets_translations_AlertMessages_json__WEBPACK_IMPORTED_MODULE_5__.notifications.successfull.copied[selectedLanguage]),\n            alertType: \"success\"\n        }));\n    };\n    var openBookReaderForm = function() {\n        setBookReaderForm(true);\n    };\n    var openUpdateReaderForm = function() {\n        setUpdateReaderStatus(true);\n    };\n    var closeBookReaderForm = function() {\n        setBookReaderForm(false);\n    };\n    var closeUpdateReaderForm = function() {\n        setUpdateReaderStatus(false);\n    };\n    var removeFromShelf = function() {\n        if (user) {\n            if (readers.filter(function(doc) {\n                return doc.bookReadingId === id;\n            }).length === 1) {\n                removeFromDataBase(\"bookReaders\", \"\".concat(id));\n            } else {\n                removeFromDataBase(\"bookReaders\", \"\".concat(id, \"/readers/\").concat(user.uid));\n                removeFromDataBase(\"bookRecensions\", \"\".concat(id, \"/recensions/\").concat(user.uid));\n            }\n        }\n    };\n    var addToShelf = function(hasStarted, hasFinished, readPages) {\n        if (user) {\n            addToDataBase(\"bookReaders\", \"\".concat(id, \"/readers/\").concat(user.uid), {\n                bookRate: 0,\n                bookReadingId: id,\n                displayName: user.displayName,\n                email: user.email,\n                hasFinished: hasFinished,\n                id: user.uid,\n                pagesRead: readPages,\n                startedReading: hasStarted,\n                dateOfFinish: hasFinished ? new Date().getTime() : null,\n                recension: \"\",\n                photoURL: user.photoURL\n            });\n        }\n        var updateReaderState = function(hasStarted, hasFinished, readPages) {\n            if (user) {\n                if (document.pagesNumber > readPages) {\n                    removeFromDataBase(\"bookRecensions\", \"\".concat(id, \"/recensions/\").concat(user.uid));\n                }\n                addToDataBase(\"bookReaders\", \"\".concat(id, \"/readers/\").concat(user.uid), {\n                    bookRate: 0,\n                    bookReadingId: id,\n                    displayName: user.displayName,\n                    email: user.email,\n                    hasFinished: hasFinished,\n                    id: user.uid,\n                    pagesRead: readPages,\n                    startedReading: hasStarted,\n                    dateOfFinish: hasFinished ? new Date().getTime() : null,\n                    recension: \"\",\n                    photoURL: user.photoURL\n                });\n            }\n        };\n    };\n    var _useState6 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_16__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), showList = _useState6[0], setShowList = _useState6[1];\n    var showListsOfUsers = function() {\n        setShowList(true);\n    };\n    var closeListsOfUsers = function() {\n        setShowList(false);\n    };\n    var recommendToUser = function() {\n        var _ref = (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_20__._)(function(receiverId) {\n            var firstPossibility, secondPossibility, existingChat1, existingChat2, chatId, messageId;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_21__.__generator)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!user) return [\n                            3,\n                            3\n                        ];\n                        firstPossibility = \"\".concat(user.uid, \"-\").concat(receiverId);\n                        secondPossibility = \"\".concat(receiverId, \"-\").concat(user.uid);\n                        return [\n                            4,\n                            getDocument(\"usersChats\", firstPossibility)\n                        ];\n                    case 1:\n                        existingChat1 = _state.sent();\n                        return [\n                            4,\n                            getDocument(\"usersChats\", secondPossibility)\n                        ];\n                    case 2:\n                        existingChat2 = _state.sent();\n                        if (existingChat1 || existingChat2) {\n                            chatId = existingChat1 ? firstPossibility : secondPossibility;\n                        } else {\n                            chatId = firstPossibility;\n                            addToDataBase(\"usersChats\", firstPossibility, {\n                                chatId: firstPossibility,\n                                createdAt: new Date().getTime()\n                            });\n                            addToDataBase(\"entitledToChat\", \"\".concat(firstPossibility, \"/\").concat(user.uid), {\n                                entitledUserId: user.uid,\n                                entitledChatId: firstPossibility\n                            });\n                            addToDataBase(\"entitledToChat\", \"\".concat(firstPossibility, \"/\").concat(receiverId), {\n                                entitledUserId: receiverId,\n                                entitledChatId: firstPossibility\n                            });\n                        }\n                        messageId = \"\".concat(chatId, \"/\").concat(new Date().getTime()).concat(uniqid__WEBPACK_IMPORTED_MODULE_3___default()());\n                        addToDataBase(\"usersChatMessages\", messageId, {\n                            content: document.photoURL,\n                            message: \"Hi, I want to recommend you the book \".concat(document.title, \" written by \").concat(document.author, \".\"),\n                            chatId: chatId,\n                            sender: {\n                                id: user.uid\n                            },\n                            receiver: {\n                                id: receiverId\n                            },\n                            sentAt: new Date().getTime()\n                        });\n                        addToDataBase(\"recommendations\", messageId, {\n                            content: document.photoURL,\n                            message: \"Hi, I want to recommend you the book \".concat(document.title, \" written by \").concat(document.author, \".\"),\n                            chatId: chatId,\n                            messageId: messageId,\n                            sender: {\n                                id: user.uid\n                            },\n                            receiver: {\n                                id: receiverId\n                            },\n                            sentAt: new Date().getTime()\n                        });\n                        dispatch(_context_SnackBarContext__WEBPACK_IMPORTED_MODULE_7__.snackbarActions.showMessage({\n                            message: \"\".concat(_assets_translations_AlertMessages_json__WEBPACK_IMPORTED_MODULE_5__.notifications.successfull.send[selectedLanguage]),\n                            alertType: \"success\"\n                        }));\n                        _state.label = 3;\n                    case 3:\n                        return [\n                            2\n                        ];\n                }\n            });\n        });\n        return function recommendToUser(receiverId) {\n            return _ref.apply(this, arguments);\n        };\n    }();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen h-full overflow-x-hidden\",\n        children: [\n            document && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex max-w-7xl justify-around gap-4 mx-auto m-0 w-full xl:p-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-64 w-52\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                src: document.photoURL,\n                                alt: \"\",\n                                className: \"w-full object-cover h-full rounded-xl\",\n                                width: 80,\n                                height: 80\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                lineNumber: 403,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                            lineNumber: 402,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-white text-3xl\",\n                                    children: document.title\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                    lineNumber: 407,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex gap-4 items-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: changeLoveState,\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FaHeart_react_icons_fa__WEBPACK_IMPORTED_MODULE_22__.FaHeart, {\n                                                className: \"transition-all duration-400 \".concat(showIfLiked ? \"text-red-400\" : \"text-white\"),\n                                                size: 24\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                                lineNumber: 411,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                            lineNumber: 410,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                        lineNumber: 409,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                    lineNumber: 408,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                            lineNumber: 406,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                    lineNumber: 400,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false),\n            document && readers && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}, void 0, false),\n            bookReaderForm && document && user && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}, void 0, false),\n            updateReaderStatus && document && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}, void 0, false),\n            showLikers && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}, void 0, false),\n            isPending && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Loader__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                lineNumber: 444,\n                columnNumber: 21\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n        lineNumber: 395,\n        columnNumber: 5\n    }, this);\n}\n_s(Book, \"lu0Zt1zFbuq2bWW56CTJBkUPcsI=\", false, function() {\n    return [\n        react_redux__WEBPACK_IMPORTED_MODULE_2__.useDispatch,\n        next_navigation__WEBPACK_IMPORTED_MODULE_15__.useRouter,\n        _hooks_useAuthContext__WEBPACK_IMPORTED_MODULE_8__.useAuthContext,\n        _hooks_useRealtimeDocument__WEBPACK_IMPORTED_MODULE_12__[\"default\"],\n        _hooks_useRealtimeDocuments__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n        react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector,\n        _hooks_useRealDatabase__WEBPACK_IMPORTED_MODULE_11__.useRealDatabase,\n        _hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n        _hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n        _hooks_useGetDocument__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n        _hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n        _hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n        react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector,\n        use_clipboard_copy__WEBPACK_IMPORTED_MODULE_4__.useClipboard\n    ];\n});\n_c = Book;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Book);\nvar _c;\n$RefreshReg$(_c, \"Book\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9ib29rL1tib29rSWRdL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT2U7QUFPUztBQUtIO0FBTU87QUFDc0I7QUFFMEI7QUFPNUUsNEJBQTRCO0FBQzVCLG9FQUFvRTtBQUNwQjtBQUVtQjtBQUNKO0FBQ0o7QUFDRTtBQUNJO0FBQ0k7QUFDRTtBQUN2RSx1REFBdUQ7QUFDeEI7QUFDYTtBQUU1QyxTQUFTa0IsS0FBSyxLQUEwQztRQUExQyxlQUFFQzs7SUFDZCxJQUFRQyxLQUFlRCxPQUFmQztJQUNSLElBQU1FLFdBQVNuQix3REFBV0E7SUFDMUIsSUFBTW9CLFdBQVdOLDJEQUFTQTtJQUMxQixJQUFNLE9BQVdQLHFFQUFjQSxHQUF2QmM7SUFDUixJQUFrQ3ZCLFlBQUFBLGdFQUFBQSxDQUFBQSwrQ0FBUUEsQ0FBQyxZQUFwQ3dCLFlBQTJCeEIsY0FBaEJ5QixlQUFnQnpCO0lBQ2xDLElBQU0sY0FBa0JhLHVFQUFtQkEsR0FBbkNhO0lBQ1IsSUFBTSxlQUFtQlosd0VBQW9CQSxHQUFyQ2E7SUFDUixJQUFNQyxjQUFjekIsd0RBQVdBLENBQUMsU0FBQzBCO2VBQWNBLE1BQU1DLElBQUksQ0FBQ0MsVUFBVTs7SUFDcEUsSUFDRW5CLG1CQUFBQSx3RUFBZUEsSUFEVG9CLHFCQUNOcEIsaUJBRE1vQixvQkFBb0JDLGdCQUMxQnJCLGlCQUQwQnFCLGVBQWVDLGlCQUN6Q3RCLGlCQUR5Q3NCO0lBRTNDLElBQThCbEMsYUFBQUEsZ0VBQUFBLENBQUFBLCtDQUFRQSxDQUFDLFlBQWhDbUMsVUFBdUJuQyxlQUFkb0MsYUFBY3BDO0lBQzlCLElBQTRDQSxhQUFBQSxnRUFBQUEsQ0FBQUEsK0NBQVFBLENBQUMsWUFBOUNxQyxpQkFBcUNyQyxlQUFyQnNDLG9CQUFxQnRDO0lBQzVDLElBQW9EQSxhQUFBQSxnRUFBQUEsQ0FBQUEsK0NBQVFBLENBQUMsWUFBdER1QyxxQkFB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Ozs4Q0FDbEQsOERBQUNNO29DQUFJQyxXQUFVOzhDQUNiLDRFQUFDRDt3Q0FBSUMsV0FBVTtrREFDYiw0RUFBQ007NENBQU9DLFNBQVM1RDtzREFDZiw0RUFBQ3JILG1GQUFPQTtnREFBQzBLLFdBQVcsK0JBQTJFLE9BQTVDNUcsY0FBYyxpQkFBaUI7Z0RBQWdCb0gsTUFBTTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQVVySGhILFlBQWFFLHlCQUNYO1lBS0ZoQyxrQkFBa0I4QixZQUFZNUMsc0JBQzlCO1lBS0FnQixzQkFBc0I0QiwwQkFDeEI7WUFLRTFCLDRCQUNDO1lBSURqQiwyQkFBYSw4REFBQ2pCLDBEQUFNQTs7Ozs7Ozs7Ozs7QUFJM0I7R0E3WVNVOztRQUVRZixvREFBV0E7UUFDVGMsdURBQVNBO1FBQ1RQLGlFQUFjQTtRQUVQSSxtRUFBbUJBO1FBQ2xCQyxvRUFBb0JBO1FBQ3pCWCxvREFBV0E7UUFFN0JTLG9FQUFlQTtRQWtCTUQsK0RBQWVBO1FBQ0pBLCtEQUFlQTtRQTBCbENELDZEQUFjQTtRQUNJQywrREFBZUE7UUF5Q2RBLCtEQUFlQTtRQVN4QlIsb0RBQVdBO1FBdUZuQkEsb0RBQVdBO1FBQ1ZFLDREQUFZQTs7O0tBbE12Qlk7QUErWVQsK0RBQWVBLElBQUlBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwL2Jvb2svW2Jvb2tJZF0vcGFnZS50c3g/MDg0MyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XHJcblxyXG5cclxuaW1wb3J0IHtcclxuICB1c2VFZmZlY3QsXHJcbiAgdXNlTWVtbyxcclxuICB1c2VTdGF0ZSxcclxufSBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQge1xyXG4gIEZhSGVhcnQsXHJcbiAgRmFQZW5jaWxBbHQsXHJcbiAgRmFTaGFyZSxcclxuICBGYVRyYXNoLFxyXG59IGZyb20gJ3JlYWN0LWljb25zL2ZhJztcclxuaW1wb3J0IHsgTWRSZWNvbW1lbmQgfSBmcm9tICdyZWFjdC1pY29ucy9tZCc7XHJcbmltcG9ydCB7XHJcbiAgdXNlRGlzcGF0Y2gsXHJcbiAgdXNlU2VsZWN0b3IsXHJcbn0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5pbXBvcnQge1xyXG4gIHVzZU5hdmlnYXRlLFxyXG4gIHVzZVBhcmFtcyxcclxufSBmcm9tICdyZWFjdC1yb3V0ZXInO1xyXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XHJcbmltcG9ydCB1bmlxaWQgZnJvbSAndW5pcWlkJztcclxuaW1wb3J0IHsgdXNlQ2xpcGJvYXJkIH0gZnJvbSAndXNlLWNsaXBib2FyZC1jb3B5JztcclxuXHJcbmltcG9ydCBhbGVydE1lc3NhZ2VzIGZyb20gJy4uLy4uLy4uL2Fzc2V0cy90cmFuc2xhdGlvbnMvQWxlcnRNZXNzYWdlcy5qc29uJztcclxuaW1wb3J0IHRyYW5zbGF0aW9ucyBmcm9tICcuLi8uLi8uLi9hc3NldHMvdHJhbnNsYXRpb25zL0Jvb2tQYWdlVHJhbnNsYXRpb25zLmpzb24nO1xyXG5pbXBvcnQgcmV1c2VhYmxlVHJhbnNsYXRpb25zXHJcbiAgZnJvbSAnLi4vLi4vLi4vYXNzZXRzL3RyYW5zbGF0aW9ucy9SZXVzYWJsZVRyYW5zbGF0aW9ucy5qc29uJztcclxuaW1wb3J0IEJvb2tSZWFkZXJGb3JtIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvYm9vay9Cb29rUmVhZGVyRm9ybSc7XHJcbmltcG9ydCBMaWtlcnNMaXN0IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvYm9vay9MaWtlcnNMaXN0JztcclxuaW1wb3J0IFJlY2Vuc2lvbnNGb3JCb29rIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvYm9vay9SZWNlbnNpb25zRm9yQm9vayc7XHJcbi8vIGltcG9ydCBDb21wZXRpdGlvbk1lbWJlcnNcclxuLy8gICBmcm9tICcuLi8uLi9jb21wb25lbnRzL0NvbW11bml0eUNvbXBvbmVudHMvQ29tcGV0aXRpb25NZW1iZXJzJztcclxuaW1wb3J0IExvYWRlciBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL0xvYWRlcic7XHJcbmltcG9ydCB7IG1vZGFsQWN0aW9ucyB9IGZyb20gJy4uLy4uLy4uL2NvbnRleHQvTW9kYWxDb250ZXh0JztcclxuaW1wb3J0IHsgc25hY2tiYXJBY3Rpb25zIH0gZnJvbSAnLi4vLi4vLi4vY29udGV4dC9TbmFja0JhckNvbnRleHQnO1xyXG5pbXBvcnQgeyB1c2VBdXRoQ29udGV4dCB9IGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZUF1dGhDb250ZXh0JztcclxuaW1wb3J0IHVzZUdldERvY3VtZW50IGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZUdldERvY3VtZW50JztcclxuaW1wb3J0IHVzZUdldERvY3VtZW50cyBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VHZXREb2N1bWVudHMnO1xyXG5pbXBvcnQgeyB1c2VSZWFsRGF0YWJhc2UgfSBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VSZWFsRGF0YWJhc2UnO1xyXG5pbXBvcnQgdXNlUmVhbHRpbWVEb2N1bWVudCBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VSZWFsdGltZURvY3VtZW50JztcclxuaW1wb3J0IHVzZVJlYWx0aW1lRG9jdW1lbnRzIGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZVJlYWx0aW1lRG9jdW1lbnRzJztcclxuLy8gaW1wb3J0IEVkaXRCb29rIGZyb20gJy4uL0Zvcm1zJkZvcm1zUGFnZXMvRWRpdEJvb2snO1xyXG5pbXBvcnQgSW1hZ2UgZnJvbSAnbmV4dC9pbWFnZSc7XHJcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XHJcblxyXG5mdW5jdGlvbiBCb29rKHsgcGFyYW1zIH06IHsgcGFyYW1zOiB7IGJvb2tJZDogc3RyaW5nIH0gfSkge1xyXG4gIGNvbnN0IHsgYm9va0lkOiBpZCB9ID0gcGFyYW1zO1xyXG4gIGNvbnN0IGRpc3BhdGNoPXVzZURpc3BhdGNoKCk7XHJcbiAgY29uc3QgbmF2aWdhdGUgPSB1c2VSb3V0ZXIoKTtcclxuICBjb25zdCB7IHVzZXIgfSA9IHVzZUF1dGhDb250ZXh0KCk7XHJcbiAgY29uc3QgW2lzUGVuZGluZywgc2V0SXNQZW5kaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCB7IGdldERvY3VtZW50IH0gPSB1c2VSZWFsdGltZURvY3VtZW50KCk7XHJcbiAgY29uc3QgeyBnZXREb2N1bWVudHMgfSA9IHVzZVJlYWx0aW1lRG9jdW1lbnRzKCk7XHJcbiAgY29uc3QgaXNEYXJrTW9kZWQgPSB1c2VTZWxlY3Rvcigoc3RhdGU6YW55KSA9PiBzdGF0ZS5tb2RlLmlzRGFya01vZGUpO1xyXG4gIGNvbnN0IHsgcmVtb3ZlRnJvbURhdGFCYXNlLCBhZGRUb0RhdGFCYXNlLCB1cGRhdGVEYXRhYmFzZSB9ID1cclxuICAgIHVzZVJlYWxEYXRhYmFzZSgpO1xyXG4gIGNvbnN0IFtpc0xpa2VkLCBzZXRJc0xpa2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbYm9va1JlYWRlckZvcm0sIHNldEJvb2tSZWFkZXJGb3JtXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbdXBkYXRlUmVhZGVyU3RhdHVzLCBzZXRVcGRhdGVSZWFkZXJTdGF0dXNdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtzaG93TGlrZXJzLCBzZXRTaG93TGlrZXJzXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZXhwYW5kZWQsIHNldEV4cGFuZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlT3BlbkFjY29yZCA9IChwYW5lbCkgPT4gKF9ldmVudCwgaXNFeHBhbmRlZCkgPT4ge1xyXG4gICAgc2V0RXhwYW5kZWQoaXNFeHBhbmRlZCA/IHBhbmVsIDogZmFsc2UpO1xyXG4gIH07XHJcbiAgY29uc3Qgc2hvd0FsbExpa2VycyA9ICgpID0+IHtcclxuICAgIHNldFNob3dMaWtlcnModHJ1ZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGlkZUFsbExpa2VycyA9ICgpID0+IHtcclxuICAgIHNldFNob3dMaWtlcnMoZmFsc2UpO1xyXG4gIH07XHJcblxyXG5jb25zdCB7ZG9jdW1lbnRzOmxpa2Vyc309dXNlR2V0RG9jdW1lbnRzKFwibG92ZWRCb29rc1wiKTtcclxuY29uc3Qge2RvY3VtZW50czogcmVjZW5zaW9uT2JqZWN0c309dXNlR2V0RG9jdW1lbnRzKCdib29rUmVjZW5zaW9ucycpO1xyXG5cclxuY29uc3QgcmVjZW5zaW9ucz0gcmVjZW5zaW9uT2JqZWN0cy5tYXAoKGJvb2tSZWFkZXIpID0+IHtcclxuICBpZiAoYm9va1JlYWRlci5yZWNlbnNpb25zKSB7XHJcbiAgICByZXR1cm4gYm9va1JlYWRlci5yZWNlbnNpb25zO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gW107XHJcbiAgfVxyXG59KS5tYXAoKG9iaikgPT4ge1xyXG4gIGlmIChvYmogIT09IG51bGwgJiYgb2JqICE9PSB1bmRlZmluZWQpIHtcclxuICAgIGNvbnN0IG5lc3RlZE9iamVjdCA9IE9iamVjdC52YWx1ZXMob2JqKTtcclxuICAgIHJldHVybiBuZXN0ZWRPYmplY3Q7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcbn0pLmZsYXQoKTtcclxuXHJcbiBcclxuXHJcbiAgY29uc3Qgc2hvd0lmTGlrZWQgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIGlmICh1c2VyKSB7ICAgICAgXHJcbiAgICAgIHJldHVybiBnZXREb2N1bWVudChcImxvdmVkQm9va3NcIiwgYCR7aWR9LSR7dXNlci51aWR9YCkudGhlbigodmFsdWUpID0+IHsgcmV0dXJuIHZhbHVlIH0pO1xyXG4gIFxyXG4gICAgfVxyXG4gIH0sIFtpZCwgdXNlcl0pO1xyXG5cclxuY29uc3Qge2RvY3VtZW50fT11c2VHZXREb2N1bWVudCgnYm9va3MnLCBpZCk7XHJcbiAgY29uc3Qge2RvY3VtZW50czpyZWFkZXJzT2JqZWN0c309dXNlR2V0RG9jdW1lbnRzKFwiYm9va1JlYWRlcnNcIik7XHJcblxyXG4gIGNvbnN0IHJlYWRlcnM9cmVhZGVyc09iamVjdHMubWFwKChib29rUmVhZGVyOmFueSkgPT4ge1xyXG4gICAgcmV0dXJuIGJvb2tSZWFkZXIucmVhZGVycztcclxuICB9KS5tYXAoKG9iajphbnlbXSkgPT4ge1xyXG4gICAgY29uc3QgbmVzdGVkT2JqZWN0ID0gT2JqZWN0LnZhbHVlcyhvYmopO1xyXG4gICAgcmV0dXJuIG5lc3RlZE9iamVjdDtcclxuICB9KS5mbGF0KCk7XHJcblxyXG4gXHJcbiAgY29uc3QgcHVibGlzaFJlY2Vuc2lvbiA9IChyZWNlbnNpb24sIGJvb2tSYXRlKSA9PiB7XHJcbiAgICBpZiAodXNlcikge1xyXG4gICAgICBpZiAocmVjZW5zaW9uLnRyaW0oXCJcIikubGVuZ3RoIDwgMTApIHtcclxuICAgICAgICBkaXNwYXRjaChzbmFja2JhckFjdGlvbnMuc2hvd01lc3NhZ2Uoe21lc3NhZ2U6YCR7YWxlcnRNZXNzYWdlcy5ub3RpZmljYXRpb25zLndyb25nLnJlY2Vuc2lvbkxvbmdlcltzZWxlY3RlZExhbmd1YWdlXX1gLCBhbGVydFR5cGU6XCJlcnJvclwifSkpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICBhZGRUb0RhdGFCYXNlKFwiYm9va1JlY2Vuc2lvbnNcIiwgYCR7aWR9L3JlY2Vuc2lvbnMvJHt1c2VyLnVpZH1gLCB7XHJcbiAgICAgICAgcmVjZW5zaW9uZWRCb29rOiBpZCxcclxuICAgICAgICBib29rUmF0ZTogYm9va1JhdGUsXHJcbiAgICAgICAgcmVjZW5zaW9uOiByZWNlbnNpb24sXHJcbiAgICAgICAgZGlzcGxheU5hbWU6IHVzZXIuZGlzcGxheU5hbWUsXHJcbiAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgaWQ6IHVzZXIudWlkLFxyXG4gICAgICAgIHBob3RvVVJMOiB1c2VyLnBob3RvVVJMLFxyXG4gICAgICAgIGRhdGVPZkZpbmlzaDogbmV3IERhdGUoKS5nZXRUaW1lKCksXHJcbiAgICAgIH0pO1xyXG4gIFxyXG4gICAgICBjb25zdCByZWFkZXJPYmplY3QgPSByZWFkZXJzLmZpbmQoXHJcbiAgICAgICAgKHJlYWRlcjphbnkpID0+IHJlYWRlci5pZCA9PT0gdXNlci51aWQgJiYgcmVhZGVyLmJvb2tSZWFkaW5nSWQgPT09IGlkXHJcbiAgICAgICk7XHJcbiAgXHJcbiAgICAgIHVwZGF0ZURhdGFiYXNlKFxyXG4gICAgICAgIHsgLi4uKHJlYWRlck9iamVjdCBhcyBhbnkpLCByZWNlbnNpb246IHJlY2Vuc2lvbiB9LFxyXG4gICAgICAgIFwiYm9va1JlYWRlcnNcIixcclxuICAgICAgICBgJHtpZH0vcmVhZGVycy8ke3VzZXIudWlkfWBcclxuICAgICAgKTtcclxuIH1cclxuICB9O1xyXG5cclxuXHJcbiAgY29uc3Qge2RvY3VtZW50czogbWVtYmVyc09iamVjdHN9PXVzZUdldERvY3VtZW50cygnY29tbXVuaXR5TWVtYmVycycpO1xyXG4gIGNvbnN0IGNvbXBldGl0aW9uc01lbWJlcnM9IG1lbWJlcnNPYmplY3RzLm1hcCgoY29tbXVuaXR5TWVtYmVyKSA9PiB7XHJcbiAgICByZXR1cm4gY29tbXVuaXR5TWVtYmVyLnVzZXJzO1xyXG4gIH0pLm1hcCgobWVtYmVyKSA9PiB7XHJcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhtZW1iZXIpO1xyXG4gIH0pLmZsYXQoKTtcclxuXHJcblxyXG5cclxuICBjb25zdCBzZWxlY3RlZExhbmd1YWdlID0gdXNlU2VsZWN0b3IoXHJcbiAgICAoc3RhdGU6YW55KSA9PiBzdGF0ZS5sYW5ndWFnZVNlbGVjdGlvbi5zZWxlY3RlZExhbmd1Z2FnZVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGdldENvbXBldGl0aW9uTWVtYmVycyA9ICgpID0+IHtcclxuICAgIGlmICh1c2VyKSB7IFxyXG4gICAgICAgY29uc3QgdXNlckNvbXBldGl0aW9ucyA9IGNvbXBldGl0aW9uc01lbWJlcnNcclxuICAgICAgLmZpbHRlcigoZG9jOmFueSkgPT4gZG9jLnZhbHVlLmlkID09PSB1c2VyLnVpZClcclxuICAgICAgLm1hcCgoY29tbXVuaXR5TWVtYmVyOmFueSkgPT4gY29tbXVuaXR5TWVtYmVyLmJlbG9uZ3NUbyk7XHJcblxyXG4gICAgbGV0IHJlc3VsdCA9IFtdO1xyXG4gICAgbGV0IHZpc2l0ZWRDb21wZXRpdGlvbnM6YW55W10gPSBbXTtcclxuXHJcbiAgICB3aGlsZSAodXNlckNvbXBldGl0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRDb21wZXRpdGlvbiA9IHVzZXJDb21wZXRpdGlvbnMucG9wKCk7XHJcblxyXG4gICAgICBpZiAoIXZpc2l0ZWRDb21wZXRpdGlvbnMuaW5jbHVkZXMoY3VycmVudENvbXBldGl0aW9uKSkge1xyXG4gICAgICAgIGNvbnN0IG1lbWJlcnNJbkN1cnJlbnRDb21wZXRpdGlvbiA9IGNvbXBldGl0aW9uc01lbWJlcnMuZmlsdGVyKFxyXG4gICAgICAgICAgKG1lbWJlcjphbnkpID0+IG1lbWJlci5iZWxvbmdzVG8gPT09IGN1cnJlbnRDb21wZXRpdGlvblxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQobWVtYmVyc0luQ3VycmVudENvbXBldGl0aW9uIGFzIGFueSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld01lbWJlcnNDb21wZXRpdGlvbnMgPSBtZW1iZXJzSW5DdXJyZW50Q29tcGV0aXRpb25cclxuICAgICAgICAgIC5maWx0ZXIoKG1lbWJlcjphbnkpID0+ICF2aXNpdGVkQ29tcGV0aXRpb25zLmluY2x1ZGVzKG1lbWJlci5iZWxvbmdzVG8pKVxyXG4gICAgICAgICAgLm1hcCgobWVtYmVyOmFueSkgPT4gbWVtYmVyLmJlbG9uZ3NUbyk7XHJcblxyXG4gICAgICAgIHVzZXJDb21wZXRpdGlvbnMucHVzaCguLi5uZXdNZW1iZXJzQ29tcGV0aXRpb25zKTtcclxuICAgICAgICB2aXNpdGVkQ29tcGV0aXRpb25zLnB1c2goY3VycmVudENvbXBldGl0aW9uKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc3VsdCA9IHJlc3VsdC5maWx0ZXIoXHJcbiAgICAgICh2YWx1ZTphbnksIGluZGV4LCBzZWxmKSA9PlxyXG4gICAgICAgIHNlbGYuZmluZEluZGV4KChtOmFueSkgPT4gbS52YWx1ZS5pZCA9PT0gdmFsdWUudmFsdWUuaWQpID09PSBpbmRleFxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4gcmVzdWx0LmZpbHRlcigobWVtYmVyOmFueSkgPT4gbWVtYmVyLnZhbHVlLmlkICE9PSB1c2VyLnVpZCk7XHJcbiAgICB9XHJcbiAgIFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNoYW5nZUxvdmVTdGF0ZSA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICh1c2VyKSB7XHJcblxyXG4gICAgaWYgKCFzaG93SWZMaWtlZCkge1xyXG4gICAgICBhZGRUb0RhdGFCYXNlKFwibG92ZWRCb29rc1wiLCBgJHtpZH0tJHt1c2VyLnVpZH1gLCB7XHJcbiAgICAgICAgZGlzcGxheU5hbWU6IHVzZXIuZGlzcGxheU5hbWUsXHJcbiAgICAgICAgbG92ZWRCb29rSWQ6IGlkLFxyXG4gICAgICAgIGxvdmVkQnk6IHVzZXIudWlkLFxyXG4gICAgICAgIHBob3RvVVJMOiB1c2VyLnBob3RvVVJMLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGdldERvY3VtZW50KFwibGlrZXNEYXRhXCIsIGlkKS50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgdXBkYXRlRGF0YWJhc2UoXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGxpa2VzQW1vdW50OiBkYXRhLmxpa2VzQW1vdW50ICsgMSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBcImxpa2VzRGF0YVwiLFxyXG4gICAgICAgICAgaWRcclxuICAgICAgICApO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlbW92ZUZyb21EYXRhQmFzZShcImxvdmVkQm9va3NcIiwgYCR7aWR9LSR7dXNlci51aWR9YCk7XHJcbiAgICAgIGdldERvY3VtZW50KFwibGlrZXNEYXRhXCIsIGlkKS50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgdXBkYXRlRGF0YWJhc2UoXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGxpa2VzQW1vdW50OiBkYXRhLmxpa2VzQW1vdW50IC0gMSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBcImxpa2VzRGF0YVwiLFxyXG4gICAgICAgICAgaWRcclxuICAgICAgICApO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIH1cclxuICAgXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY2xpY2tEZWxldGUgPSAoKSA9PiB7XHJcbiAgICBzZXRJc1BlbmRpbmcodHJ1ZSk7XHJcblxyXG4gICAgcmVtb3ZlRnJvbURhdGFCYXNlKFwiYm9va3NcIiwgaWQpO1xyXG5kaXNwYXRjaChzbmFja2JhckFjdGlvbnMuc2hvd01lc3NhZ2Uoe21lc3NhZ2U6YCR7ICBhbGVydE1lc3NhZ2VzLm5vdGlmaWNhdGlvbnMuc3VjY2Vzc2Z1bGwucmVtb3ZlW3NlbGVjdGVkTGFuZ3VhZ2VdfWAsIGFsZXJ0VHlwZTpcInN1Y2Nlc3NcIn0pKTtcclxuICAgIHNldElzUGVuZGluZyhmYWxzZSk7XHJcbiAgICBuYXZpZ2F0ZS5wdXNoKFwiL1wiKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBpc09wZW5lZCA9IHVzZVNlbGVjdG9yKChzdGF0ZTphbnkpID0+IHN0YXRlLm1vZGFsLmlzT3BlbmVkKTtcclxuICBjb25zdCBjbGlwYm9hcmQgPSB1c2VDbGlwYm9hcmQoKTtcclxuXHJcbiAgY29uc3QgY29weVBhdGhOYW1lID0gKCkgPT4ge1xyXG4gICAgY2xpcGJvYXJkLmNvcHkod2luZG93LmxvY2F0aW9uLmhyZWYpO1xyXG4gICAgZGlzcGF0Y2goc25hY2tiYXJBY3Rpb25zLnNob3dNZXNzYWdlKHttZXNzYWdlOmAke2FsZXJ0TWVzc2FnZXMubm90aWZpY2F0aW9ucy5zdWNjZXNzZnVsbC5jb3BpZWRbc2VsZWN0ZWRMYW5ndWFnZV19YCwgYWxlcnRUeXBlOlwic3VjY2Vzc1wifSkpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IG9wZW5Cb29rUmVhZGVyRm9ybSA9ICgpID0+IHtcclxuICAgIHNldEJvb2tSZWFkZXJGb3JtKHRydWUpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IG9wZW5VcGRhdGVSZWFkZXJGb3JtID0gKCkgPT4ge1xyXG4gICAgc2V0VXBkYXRlUmVhZGVyU3RhdHVzKHRydWUpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNsb3NlQm9va1JlYWRlckZvcm0gPSAoKSA9PiB7XHJcbiAgICBzZXRCb29rUmVhZGVyRm9ybShmYWxzZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY2xvc2VVcGRhdGVSZWFkZXJGb3JtID0gKCkgPT4ge1xyXG4gICAgc2V0VXBkYXRlUmVhZGVyU3RhdHVzKGZhbHNlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCByZW1vdmVGcm9tU2hlbGYgPSAoKSA9PiB7XHJcbiAgICBpZiAodXNlcikge1xyXG4gICAgICBpZihyZWFkZXJzLmZpbHRlcigoZG9jOmFueSk9PmRvYy5ib29rUmVhZGluZ0lkPT09aWQpLmxlbmd0aCA9PT0gMSl7XHJcbiAgICAgICAgcmVtb3ZlRnJvbURhdGFCYXNlKGBib29rUmVhZGVyc2AsIGAke2lkfWApO1xyXG4gICAgICB9ZWxzZXtcclxuICAgICAgICByZW1vdmVGcm9tRGF0YUJhc2UoYGJvb2tSZWFkZXJzYCwgYCR7aWR9L3JlYWRlcnMvJHt1c2VyLnVpZH1gKTtcclxuICAgICAgICByZW1vdmVGcm9tRGF0YUJhc2UoYGJvb2tSZWNlbnNpb25zYCwgYCR7aWR9L3JlY2Vuc2lvbnMvJHt1c2VyLnVpZH1gKTtcclxuICAgICAgXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYWRkVG9TaGVsZiA9IChoYXNTdGFydGVkLCBoYXNGaW5pc2hlZCwgcmVhZFBhZ2VzKSA9PiB7XHJcbiAgICBpZiAodXNlcikgeyBcclxuICAgICAgICAgYWRkVG9EYXRhQmFzZShcImJvb2tSZWFkZXJzXCIsIGAke2lkfS9yZWFkZXJzLyR7dXNlci51aWR9YCwge1xyXG4gICAgICBib29rUmF0ZTogMCxcclxuICAgICAgYm9va1JlYWRpbmdJZDogaWQsXHJcbiAgICAgIGRpc3BsYXlOYW1lOiB1c2VyLmRpc3BsYXlOYW1lLFxyXG4gICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgaGFzRmluaXNoZWQsXHJcbiAgICAgIGlkOiB1c2VyLnVpZCxcclxuICAgICAgcGFnZXNSZWFkOiByZWFkUGFnZXMsXHJcbiAgICAgIHN0YXJ0ZWRSZWFkaW5nOiBoYXNTdGFydGVkLFxyXG4gICAgICBkYXRlT2ZGaW5pc2g6IGhhc0ZpbmlzaGVkID8gbmV3IERhdGUoKS5nZXRUaW1lKCkgOiBudWxsLFxyXG4gICAgICByZWNlbnNpb246IFwiXCIsXHJcbiAgICAgIHBob3RvVVJMOiB1c2VyLnBob3RvVVJMLFxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgICBjb25zdCB1cGRhdGVSZWFkZXJTdGF0ZSA9IChoYXNTdGFydGVkLCBoYXNGaW5pc2hlZCwgcmVhZFBhZ2VzKSA9PiB7XHJcbiAgICAgIGlmICh1c2VyKSB7ICAgXHJcbiAgICAgICAgaWYgKGRvY3VtZW50LnBhZ2VzTnVtYmVyID4gcmVhZFBhZ2VzKSB7XHJcbiAgICAgICAgICByZW1vdmVGcm9tRGF0YUJhc2UoYGJvb2tSZWNlbnNpb25zYCwgYCR7aWR9L3JlY2Vuc2lvbnMvJHt1c2VyLnVpZH1gKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBhZGRUb0RhdGFCYXNlKFwiYm9va1JlYWRlcnNcIiwgYCR7aWR9L3JlYWRlcnMvJHt1c2VyLnVpZH1gLCB7XHJcbiAgICAgICAgICBib29rUmF0ZTogMCxcclxuICAgICAgICAgIGJvb2tSZWFkaW5nSWQ6IGlkLFxyXG4gICAgICAgICAgZGlzcGxheU5hbWU6IHVzZXIuZGlzcGxheU5hbWUsXHJcbiAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgIGhhc0ZpbmlzaGVkLFxyXG4gICAgICAgICAgaWQ6IHVzZXIudWlkLFxyXG4gICAgICAgICAgcGFnZXNSZWFkOiByZWFkUGFnZXMsXHJcbiAgICAgICAgICBzdGFydGVkUmVhZGluZzogaGFzU3RhcnRlZCxcclxuICAgICAgICAgIGRhdGVPZkZpbmlzaDogaGFzRmluaXNoZWQgPyBuZXcgRGF0ZSgpLmdldFRpbWUoKSA6IG51bGwsXHJcbiAgICAgICAgICByZWNlbnNpb246IFwiXCIsXHJcbiAgICAgICAgICBwaG90b1VSTDogdXNlci5waG90b1VSTCxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBbc2hvd0xpc3QsIHNldFNob3dMaXN0XSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBzaG93TGlzdHNPZlVzZXJzID0gKCkgPT4ge1xyXG4gICAgc2V0U2hvd0xpc3QodHJ1ZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY2xvc2VMaXN0c09mVXNlcnMgPSAoKSA9PiB7XHJcbiAgICBzZXRTaG93TGlzdChmYWxzZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVjb21tZW5kVG9Vc2VyID0gYXN5bmMgKHJlY2VpdmVySWQ6IHN0cmluZykgPT4ge1xyXG4gICAgaWYgKHVzZXIpIHtcclxuICAgICAgIGNvbnN0IGZpcnN0UG9zc2liaWxpdHkgPSBgJHt1c2VyLnVpZH0tJHtyZWNlaXZlcklkfWA7XHJcbiAgICBjb25zdCBzZWNvbmRQb3NzaWJpbGl0eSA9IGAke3JlY2VpdmVySWR9LSR7dXNlci51aWR9YDtcclxuXHJcbiAgICBjb25zdCBleGlzdGluZ0NoYXQxID0gYXdhaXQgZ2V0RG9jdW1lbnQoXCJ1c2Vyc0NoYXRzXCIsIGZpcnN0UG9zc2liaWxpdHkpO1xyXG4gICAgY29uc3QgZXhpc3RpbmdDaGF0MiA9IGF3YWl0IGdldERvY3VtZW50KFwidXNlcnNDaGF0c1wiLCBzZWNvbmRQb3NzaWJpbGl0eSk7XHJcblxyXG4gICAgbGV0IGNoYXRJZDtcclxuXHJcbiAgICBpZiAoZXhpc3RpbmdDaGF0MSB8fCBleGlzdGluZ0NoYXQyKSB7XHJcbiAgICAgIGNoYXRJZCA9IGV4aXN0aW5nQ2hhdDEgPyBmaXJzdFBvc3NpYmlsaXR5IDogc2Vjb25kUG9zc2liaWxpdHk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjaGF0SWQgPSBmaXJzdFBvc3NpYmlsaXR5O1xyXG5cclxuICAgICAgYWRkVG9EYXRhQmFzZShcInVzZXJzQ2hhdHNcIiwgZmlyc3RQb3NzaWJpbGl0eSwge1xyXG4gICAgICAgIGNoYXRJZDogZmlyc3RQb3NzaWJpbGl0eSxcclxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGFkZFRvRGF0YUJhc2UoXCJlbnRpdGxlZFRvQ2hhdFwiLCBgJHtmaXJzdFBvc3NpYmlsaXR5fS8ke3VzZXIudWlkfWAsIHtcclxuICAgICAgICBlbnRpdGxlZFVzZXJJZDogdXNlci51aWQsXHJcbiAgICAgICAgZW50aXRsZWRDaGF0SWQ6IGZpcnN0UG9zc2liaWxpdHksXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgYWRkVG9EYXRhQmFzZShcImVudGl0bGVkVG9DaGF0XCIsIGAke2ZpcnN0UG9zc2liaWxpdHl9LyR7cmVjZWl2ZXJJZH1gLCB7XHJcbiAgICAgICAgZW50aXRsZWRVc2VySWQ6IHJlY2VpdmVySWQsXHJcbiAgICAgICAgZW50aXRsZWRDaGF0SWQ6IGZpcnN0UG9zc2liaWxpdHksXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICBcclxuICAgIGNvbnN0IG1lc3NhZ2VJZCA9IGAke2NoYXRJZH0vJHtuZXcgRGF0ZSgpLmdldFRpbWUoKX0ke3VuaXFpZCgpfWA7XHJcblxyXG4gICAgYWRkVG9EYXRhQmFzZShcInVzZXJzQ2hhdE1lc3NhZ2VzXCIsIG1lc3NhZ2VJZCwge1xyXG4gICAgICBjb250ZW50OiBkb2N1bWVudC5waG90b1VSTCxcclxuICAgICAgbWVzc2FnZTogYEhpLCBJIHdhbnQgdG8gcmVjb21tZW5kIHlvdSB0aGUgYm9vayAke2RvY3VtZW50LnRpdGxlfSB3cml0dGVuIGJ5ICR7ZG9jdW1lbnQuYXV0aG9yfS5gLFxyXG4gICAgICBjaGF0SWQ6IGNoYXRJZCxcclxuICAgICAgc2VuZGVyOiB7XHJcbiAgICAgICAgaWQ6IHVzZXIudWlkLFxyXG4gICAgICB9LFxyXG4gICAgICByZWNlaXZlcjoge1xyXG4gICAgICAgIGlkOiByZWNlaXZlcklkLFxyXG4gICAgICB9LFxyXG4gICAgICBzZW50QXQ6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxyXG4gICAgfSk7XHJcblxyXG4gICAgYWRkVG9EYXRhQmFzZShcInJlY29tbWVuZGF0aW9uc1wiLCBtZXNzYWdlSWQsIHtcclxuICAgICAgY29udGVudDogZG9jdW1lbnQucGhvdG9VUkwsXHJcbiAgICAgIG1lc3NhZ2U6IGBIaSwgSSB3YW50IHRvIHJlY29tbWVuZCB5b3UgdGhlIGJvb2sgJHtkb2N1bWVudC50aXRsZX0gd3JpdHRlbiBieSAke2RvY3VtZW50LmF1dGhvcn0uYCxcclxuICAgICAgY2hhdElkOiBjaGF0SWQsXHJcbiAgICAgIG1lc3NhZ2VJZCxcclxuICAgICAgc2VuZGVyOiB7XHJcbiAgICAgICAgaWQ6IHVzZXIudWlkLFxyXG4gICAgICB9LFxyXG4gICAgICByZWNlaXZlcjoge1xyXG4gICAgICAgIGlkOiByZWNlaXZlcklkLFxyXG4gICAgICB9LFxyXG4gICAgICBzZW50QXQ6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxyXG4gICAgfSk7XHJcbmRpc3BhdGNoKHNuYWNrYmFyQWN0aW9ucy5zaG93TWVzc2FnZSh7bWVzc2FnZTpgJHthbGVydE1lc3NhZ2VzLm5vdGlmaWNhdGlvbnMuc3VjY2Vzc2Z1bGwuc2VuZFtzZWxlY3RlZExhbmd1YWdlXX1gLCBhbGVydFR5cGU6XCJzdWNjZXNzXCJ9KSk7XHJcbiAgICB9XHJcblxyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT17YG1pbi1oLXNjcmVlbiBoLWZ1bGwgb3ZlcmZsb3cteC1oaWRkZW5gfT5cclxuICAgICAgey8qIHtpc09wZW5lZCAmJiA8RWRpdEJvb2sgaWQ9e2lkfSAvPn0gKi99XHJcblxyXG4gICAgICB7ZG9jdW1lbnQgJiYgKFxyXG4gICAgICAgIDw+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggbWF4LXctN3hsIGp1c3RpZnktYXJvdW5kIGdhcC00IG14LWF1dG8gbS0wIHctZnVsbCB4bDpwLTZcIj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC02NCB3LTUyXCI+XHJcbiAgICAgICAgICAgICAgPEltYWdlIHNyYz17ZG9jdW1lbnQucGhvdG9VUkx9IGFsdD0nJyBjbGFzc05hbWU9J3ctZnVsbCBvYmplY3QtY292ZXIgaC1mdWxsIHJvdW5kZWQteGwnIHdpZHRoPXs4MH0gaGVpZ2h0PXs4MH0vPiBcclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQtM3hsXCI+e2RvY3VtZW50LnRpdGxlfTwvcD5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTQgaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17Y2hhbmdlTG92ZVN0YXRlfT4gXHJcbiAgICAgICAgICAgICAgICAgICAgPEZhSGVhcnQgY2xhc3NOYW1lPXtgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tNDAwICR7c2hvd0lmTGlrZWQgPyAndGV4dC1yZWQtNDAwJyA6ICd0ZXh0LXdoaXRlJ31gfSBzaXplPXsyNH0vPlxyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgey8qIHtsaWtlcnMgJiYgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiPnsobGlrZXJzLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5sb3ZlZEJvb2tJZCA9PT0gaWQpWzBdLmRpc3BsYXlOYW1lKX0gYW5kIG90aGVyIHsobGlrZXJzLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5sb3ZlZEJvb2tJZCA9PT0gaWQpLmxlbmd0aCAtIDEpfSBsb3ZlcyBpdDwvcD59ICovfVxyXG48L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvPlxyXG4gICAgICApfVxyXG4gICAgICB7ZG9jdW1lbnQgJiYgIHJlYWRlcnMgJiYgKFxyXG4gICAgICAgICA8PlxyXG4gICAgIFxyXG4gICAgICAgICAgICA8Lz5cclxuICAgICAgKX1cclxuXHJcbiAgICAgIHtib29rUmVhZGVyRm9ybSAmJiBkb2N1bWVudCAmJiB1c2VyICYmIChcclxuICAgICAgIDw+XHJcbiAgICAgXHJcbiAgICAgICAgICAgIDwvPlxyXG4gICAgICApfVxyXG5cclxuICAgICAge3VwZGF0ZVJlYWRlclN0YXR1cyAmJiBkb2N1bWVudCAmJiAoXHJcbiAgICAgPD5cclxuICAgICBcclxuICAgICAgICAgICAgPC8+XHJcbiAgICAgICl9XHJcblxyXG4gICAgICB7c2hvd0xpa2VycyAmJiAoXHJcbiAgICAgICAgPD5cclxuICAgICBcclxuICAgICAgICAgICAgPC8+XHJcbiAgICAgICl9XHJcbiAgICAgIHtpc1BlbmRpbmcgJiYgPExvYWRlciAvPn1cclxuXHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCb29rO1xyXG4iXSwibmFtZXMiOlsidXNlTWVtbyIsInVzZVN0YXRlIiwiRmFIZWFydCIsInVzZURpc3BhdGNoIiwidXNlU2VsZWN0b3IiLCJ1bmlxaWQiLCJ1c2VDbGlwYm9hcmQiLCJhbGVydE1lc3NhZ2VzIiwiTG9hZGVyIiwic25hY2tiYXJBY3Rpb25zIiwidXNlQXV0aENvbnRleHQiLCJ1c2VHZXREb2N1bWVudCIsInVzZUdldERvY3VtZW50cyIsInVzZVJlYWxEYXRhYmFzZSIsInVzZVJlYWx0aW1lRG9jdW1lbnQiLCJ1c2VSZWFsdGltZURvY3VtZW50cyIsIkltYWdlIiwidXNlUm91dGVyIiwiQm9vayIsInBhcmFtcyIsImJvb2tJZCIsImlkIiwiZGlzcGF0Y2giLCJuYXZpZ2F0ZSIsInVzZXIiLCJpc1BlbmRpbmciLCJzZXRJc1BlbmRpbmciLCJnZXREb2N1bWVudCIsImdldERvY3VtZW50cyIsImlzRGFya01vZGVkIiwic3RhdGUiLCJtb2RlIiwiaXNEYXJrTW9kZSIsInJlbW92ZUZyb21EYXRhQmFzZSIsImFkZFRvRGF0YUJhc2UiLCJ1cGRhdGVEYXRhYmFzZSIsImlzTGlrZWQiLCJzZXRJc0xpa2VkIiwiYm9va1JlYWRlckZvcm0iLCJzZXRCb29rUmVhZGVyRm9ybSIsInVwZGF0ZVJlYWRlclN0YXR1cyIsInNldFVwZGF0ZVJlYWRlclN0YXR1cyIsInNob3dMaWtlcnMiLCJzZXRTaG93TGlrZXJzIiwiZXhwYW5kZWQiLCJzZXRFeHBhbmRlZCIsImhhbmRsZU9wZW5BY2NvcmQiLCJwYW5lbCIsIl9ldmVudCIsImlzRXhwYW5kZWQiLCJzaG93QWxsTGlrZXJzIiwiaGlkZUFsbExpa2VycyIsImRvY3VtZW50cyIsImxpa2VycyIsInJlY2Vuc2lvbk9iamVjdHMiLCJyZWNlbnNpb25zIiwibWFwIiwiYm9va1JlYWRlciIsIm9iaiIsInVuZGVmaW5lZCIsIm5lc3RlZE9iamVjdCIsIk9iamVjdCIsInZhbHVlcyIsImZsYXQiLCJzaG93SWZMaWtlZCIsInVpZCIsInRoZW4iLCJ2YWx1ZSIsImRvY3VtZW50IiwicmVhZGVyc09iamVjdHMiLCJyZWFkZXJzIiwicHVibGlzaFJlY2Vuc2lvbiIsInJlY2Vuc2lvbiIsImJvb2tSYXRlIiwidHJpbSIsImxlbmd0aCIsInNob3dNZXNzYWdlIiwibWVzc2FnZSIsIm5vdGlmaWNhdGlvbnMiLCJ3cm9uZyIsInJlY2Vuc2lvbkxvbmdlciIsInNlbGVjdGVkTGFuZ3VhZ2UiLCJhbGVydFR5cGUiLCJyZWNlbnNpb25lZEJvb2siLCJkaXNwbGF5TmFtZSIsImVtYWlsIiwicGhvdG9VUkwiLCJkYXRlT2ZGaW5pc2giLCJEYXRlIiwiZ2V0VGltZSIsInJlYWRlck9iamVjdCIsImZpbmQiLCJyZWFkZXIiLCJib29rUmVhZGluZ0lkIiwibWVtYmVyc09iamVjdHMiLCJjb21wZXRpdGlvbnNNZW1iZXJzIiwiY29tbXVuaXR5TWVtYmVyIiwidXNlcnMiLCJtZW1iZXIiLCJsYW5ndWFnZVNlbGVjdGlvbiIsInNlbGVjdGVkTGFuZ3VnYWdlIiwiZ2V0Q29tcGV0aXRpb25NZW1iZXJzIiwiY3VycmVudENvbXBldGl0aW9uIiwidXNlckNvbXBldGl0aW9ucyIsInBvcCIsInZpc2l0ZWRDb21wZXRpdGlvbnMiLCJpbmNsdWRlcyIsIm1lbWJlcnNJbkN1cnJlbnRDb21wZXRpdGlvbiIsImZpbHRlciIsImJlbG9uZ3NUbyIsInJlc3VsdCIsImNvbmNhdCIsIm5ld01lbWJlcnNDb21wZXRpdGlvbnMiLCJwdXNoIiwiZG9jIiwiaW5kZXgiLCJzZWxmIiwiZmluZEluZGV4IiwibSIsImNoYW5nZUxvdmVTdGF0ZSIsImxvdmVkQm9va0lkIiwibG92ZWRCeSIsImRhdGEiLCJsaWtlc0Ftb3VudCIsImNsaWNrRGVsZXRlIiwic3VjY2Vzc2Z1bGwiLCJyZW1vdmUiLCJpc09wZW5lZCIsIm1vZGFsIiwiY2xpcGJvYXJkIiwiY29weVBhdGhOYW1lIiwiY29weSIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImNvcGllZCIsIm9wZW5Cb29rUmVhZGVyRm9ybSIsIm9wZW5VcGRhdGVSZWFkZXJGb3JtIiwiY2xvc2VCb29rUmVhZGVyRm9ybSIsImNsb3NlVXBkYXRlUmVhZGVyRm9ybSIsInJlbW92ZUZyb21TaGVsZiIsImFkZFRvU2hlbGYiLCJoYXNTdGFydGVkIiwiaGFzRmluaXNoZWQiLCJyZWFkUGFnZXMiLCJwYWdlc1JlYWQiLCJzdGFydGVkUmVhZGluZyIsInVwZGF0ZVJlYWRlclN0YXRlIiwicGFnZXNOdW1iZXIiLCJzaG93TGlzdCIsInNldFNob3dMaXN0Iiwic2hvd0xpc3RzT2ZVc2VycyIsImNsb3NlTGlzdHNPZlVzZXJzIiwicmVjb21tZW5kVG9Vc2VyIiwicmVjZWl2ZXJJZCIsImZpcnN0UG9zc2liaWxpdHkiLCJzZWNvbmRQb3NzaWJpbGl0eSIsImV4aXN0aW5nQ2hhdDEiLCJleGlzdGluZ0NoYXQyIiwiY2hhdElkIiwibWVzc2FnZUlkIiwiY3JlYXRlZEF0IiwiZW50aXRsZWRVc2VySWQiLCJlbnRpdGxlZENoYXRJZCIsImNvbnRlbnQiLCJ0aXRsZSIsImF1dGhvciIsInNlbmRlciIsInJlY2VpdmVyIiwic2VudEF0Iiwic2VuZCIsImRpdiIsImNsYXNzTmFtZSIsInNyYyIsImFsdCIsIndpZHRoIiwiaGVpZ2h0IiwicCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJzaXplIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/book/[bookId]/page.tsx\n"));

/***/ })

});