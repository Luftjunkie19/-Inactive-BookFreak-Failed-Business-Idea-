"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/book/[bookId]/page",{

/***/ "(app-pages-browser)/./app/book/[bookId]/page.tsx":
/*!************************************!*\
  !*** ./app/book/[bookId]/page.tsx ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @swc/helpers/_/_async_to_generator */ \"(app-pages-browser)/./node_modules/next/node_modules/@swc/helpers/esm/_async_to_generator.js\");\n/* harmony import */ var _swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @swc/helpers/_/_object_spread */ \"(app-pages-browser)/./node_modules/next/node_modules/@swc/helpers/esm/_object_spread.js\");\n/* harmony import */ var _swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @swc/helpers/_/_object_spread_props */ \"(app-pages-browser)/./node_modules/next/node_modules/@swc/helpers/esm/_object_spread_props.js\");\n/* harmony import */ var _swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @swc/helpers/_/_sliced_to_array */ \"(app-pages-browser)/./node_modules/next/node_modules/@swc/helpers/esm/_sliced_to_array.js\");\n/* harmony import */ var _swc_helpers_to_consumable_array__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @swc/helpers/_/_to_consumable_array */ \"(app-pages-browser)/./node_modules/next/node_modules/@swc/helpers/esm/_to_consumable_array.js\");\n/* harmony import */ var _swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @swc/helpers/_/_ts_generator */ \"(app-pages-browser)/./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_FaHeart_react_icons_fa__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=FaHeart!=!react-icons/fa */ \"(app-pages-browser)/./node_modules/react-icons/fa/index.mjs\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ \"(app-pages-browser)/./node_modules/react-redux/es/index.js\");\n/* harmony import */ var uniqid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uniqid */ \"(app-pages-browser)/./node_modules/uniqid/index.js\");\n/* harmony import */ var uniqid__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(uniqid__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var use_clipboard_copy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! use-clipboard-copy */ \"(app-pages-browser)/./node_modules/use-clipboard-copy/dist/index.js\");\n/* harmony import */ var use_clipboard_copy__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(use_clipboard_copy__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _assets_translations_AlertMessages_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../assets/translations/AlertMessages.json */ \"(app-pages-browser)/./assets/translations/AlertMessages.json\");\n/* harmony import */ var _components_Loader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../components/Loader */ \"(app-pages-browser)/./components/Loader.tsx\");\n/* harmony import */ var _context_SnackBarContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../context/SnackBarContext */ \"(app-pages-browser)/./context/SnackBarContext.tsx\");\n/* harmony import */ var _hooks_useAuthContext__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../hooks/useAuthContext */ \"(app-pages-browser)/./hooks/useAuthContext.tsx\");\n/* harmony import */ var _hooks_useGetDocument__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../hooks/useGetDocument */ \"(app-pages-browser)/./hooks/useGetDocument.tsx\");\n/* harmony import */ var _hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../hooks/useGetDocuments */ \"(app-pages-browser)/./hooks/useGetDocuments.tsx\");\n/* harmony import */ var _hooks_useRealDatabase__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../hooks/useRealDatabase */ \"(app-pages-browser)/./hooks/useRealDatabase.tsx\");\n/* harmony import */ var _hooks_useRealtimeDocument__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../hooks/useRealtimeDocument */ \"(app-pages-browser)/./hooks/useRealtimeDocument.tsx\");\n/* harmony import */ var _hooks_useRealtimeDocuments__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../hooks/useRealtimeDocuments */ \"(app-pages-browser)/./hooks/useRealtimeDocuments.tsx\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n// import CompetitionMembers\n//   from '../../components/CommunityComponents/CompetitionMembers';\n\n\n\n\n\n\n\n\n// import EditBook from '../Forms&FormsPages/EditBook';\n\n\nfunction Book(param) {\n    var params = param.params;\n    _s();\n    var id = params.bookId;\n    var dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useDispatch)();\n    var navigate = (0,next_navigation__WEBPACK_IMPORTED_MODULE_15__.useRouter)();\n    var user = (0,_hooks_useAuthContext__WEBPACK_IMPORTED_MODULE_8__.useAuthContext)().user;\n    var _useState = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_16__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), isPending = _useState[0], setIsPending = _useState[1];\n    var getDocument = (0,_hooks_useRealtimeDocument__WEBPACK_IMPORTED_MODULE_12__[\"default\"])().getDocument;\n    var getDocuments = (0,_hooks_useRealtimeDocuments__WEBPACK_IMPORTED_MODULE_13__[\"default\"])().getDocuments;\n    var isDarkModed = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(function(state) {\n        return state.mode.isDarkMode;\n    });\n    var _useRealDatabase = (0,_hooks_useRealDatabase__WEBPACK_IMPORTED_MODULE_11__.useRealDatabase)(), removeFromDataBase = _useRealDatabase.removeFromDataBase, addToDataBase = _useRealDatabase.addToDataBase, updateDatabase = _useRealDatabase.updateDatabase;\n    var _useState1 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_16__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), isLiked = _useState1[0], setIsLiked = _useState1[1];\n    var _useState2 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_16__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), bookReaderForm = _useState2[0], setBookReaderForm = _useState2[1];\n    var _useState3 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_16__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), updateReaderStatus = _useState3[0], setUpdateReaderStatus = _useState3[1];\n    var _useState4 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_16__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), showLikers = _useState4[0], setShowLikers = _useState4[1];\n    var _useState5 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_16__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), expanded = _useState5[0], setExpanded = _useState5[1];\n    var handleOpenAccord = function(panel) {\n        return function(event, isExpanded) {\n            setExpanded(isExpanded ? panel : false);\n        };\n    };\n    var showAllLikers = function() {\n        setShowLikers(true);\n    };\n    var hideAllLikers = function() {\n        setShowLikers(false);\n    };\n    var _useGetDocuments = (0,_hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(\"lovedBooks\"), likers = _useGetDocuments.documents;\n    var _useGetDocuments1 = (0,_hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(\"bookRecensions\"), recensionObjects = _useGetDocuments1.documents;\n    var recensions = recensionObjects.map(function(bookReader) {\n        if (bookReader.recensions) {\n            return bookReader.recensions;\n        } else {\n            return [];\n        }\n    }).map(function(obj) {\n        if (obj !== null && obj !== undefined) {\n            var nestedObject = Object.values(obj);\n            return nestedObject;\n        } else {\n            return;\n        }\n    }).flat();\n    var showIfLiked = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function() {\n        if (user) {\n            return getDocument(\"lovedBooks\", \"\".concat(id, \"-\").concat(user.uid)).then(function(value) {\n                return value;\n            });\n        }\n    }, [\n        getDocument,\n        id,\n        user\n    ]);\n    var document = (0,_hooks_useGetDocument__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(\"books\", id).document;\n    var _useGetDocuments2 = (0,_hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(\"bookReaders\"), readersObjects = _useGetDocuments2.documents;\n    var readers = readersObjects.map(function(bookReader) {\n        return bookReader.readers;\n    }).map(function(obj) {\n        var nestedObject = Object.values(obj);\n        return nestedObject;\n    }).flat();\n    var publishRecension = function(recension, bookRate) {\n        if (user) {\n            if (recension.trim(\"\").length < 10) {\n                dispatch(_context_SnackBarContext__WEBPACK_IMPORTED_MODULE_7__.snackbarActions.showMessage({\n                    message: \"\".concat(_assets_translations_AlertMessages_json__WEBPACK_IMPORTED_MODULE_5__.notifications.wrong.recensionLonger[selectedLanguage]),\n                    alertType: \"error\"\n                }));\n                return;\n            }\n            addToDataBase(\"bookRecensions\", \"\".concat(id, \"/recensions/\").concat(user.uid), {\n                recensionedBook: id,\n                bookRate: bookRate,\n                recension: recension,\n                displayName: user.displayName,\n                email: user.email,\n                id: user.uid,\n                photoURL: user.photoURL,\n                dateOfFinish: new Date().getTime()\n            });\n            var readerObject = readers.find(function(reader) {\n                return reader.id === user.uid && reader.bookReadingId === id;\n            });\n            updateDatabase((0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_17__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_18__._)({}, readerObject), {\n                recension: recension\n            }), \"bookReaders\", \"\".concat(id, \"/readers/\").concat(user.uid));\n        }\n    };\n    var _useGetDocuments3 = (0,_hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(\"communityMembers\"), membersObjects = _useGetDocuments3.documents;\n    var competitionsMembers = membersObjects.map(function(communityMember) {\n        return communityMember.users;\n    }).map(function(member) {\n        return Object.values(member);\n    }).flat();\n    var selectedLanguage = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(function(state) {\n        return state.languageSelection.selectedLangugage;\n    });\n    var getCompetitionMembers = function() {\n        if (user) {\n            var _loop = function() {\n                var currentCompetition = userCompetitions.pop();\n                if (!visitedCompetitions.includes(currentCompetition)) {\n                    var _userCompetitions;\n                    var membersInCurrentCompetition = competitionsMembers.filter(function(member) {\n                        return member.belongsTo === currentCompetition;\n                    });\n                    result = result.concat(membersInCurrentCompetition);\n                    var newMembersCompetitions = membersInCurrentCompetition.filter(function(member) {\n                        return !visitedCompetitions.includes(member.belongsTo);\n                    }).map(function(member) {\n                        return member.belongsTo;\n                    });\n                    (_userCompetitions = userCompetitions).push.apply(_userCompetitions, (0,_swc_helpers_to_consumable_array__WEBPACK_IMPORTED_MODULE_19__._)(newMembersCompetitions));\n                    visitedCompetitions.push(currentCompetition);\n                }\n            };\n            var userCompetitions = competitionsMembers.filter(function(doc) {\n                return doc.value.id === user.uid;\n            }).map(function(communityMember) {\n                return communityMember.belongsTo;\n            });\n            var result = [];\n            var visitedCompetitions = [];\n            while(userCompetitions.length > 0)_loop();\n            result = result.filter(function(value, index, self) {\n                return self.findIndex(function(m) {\n                    return m.value.id === value.value.id;\n                }) === index;\n            });\n            return result.filter(function(member) {\n                return member.value.id !== user.uid;\n            });\n        }\n    };\n    var changeLoveState = function() {\n        var _ref = (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_20__._)(function() {\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_21__.__generator)(this, function(_state) {\n                if (user) {\n                    if (!showIfLiked) {\n                        addToDataBase(\"lovedBooks\", \"\".concat(id, \"-\").concat(user.uid), {\n                            displayName: user.displayName,\n                            lovedBookId: id,\n                            lovedBy: user.uid,\n                            photoURL: user.photoURL\n                        });\n                        getDocument(\"likesData\", id).then(function(data) {\n                            updateDatabase({\n                                likesAmount: data.likesAmount + 1\n                            }, \"likesData\", id);\n                        });\n                    } else {\n                        removeFromDataBase(\"lovedBooks\", \"\".concat(id, \"-\").concat(user.uid));\n                        getDocument(\"likesData\", id).then(function(data) {\n                            updateDatabase({\n                                likesAmount: data.likesAmount - 1\n                            }, \"likesData\", id);\n                        });\n                    }\n                }\n                return [\n                    2\n                ];\n            });\n        });\n        return function changeLoveState() {\n            return _ref.apply(this, arguments);\n        };\n    }();\n    var clickDelete = function() {\n        setIsPending(true);\n        removeFromDataBase(\"books\", id);\n        dispatch(_context_SnackBarContext__WEBPACK_IMPORTED_MODULE_7__.snackbarActions.showMessage({\n            message: \"\".concat(_assets_translations_AlertMessages_json__WEBPACK_IMPORTED_MODULE_5__.notifications.successfull.remove[selectedLanguage]),\n            alertType: \"success\"\n        }));\n        setIsPending(false);\n        navigate.push(\"/\");\n    };\n    var isOpened = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(function(state) {\n        return state.modal.isOpened;\n    });\n    var clipboard = (0,use_clipboard_copy__WEBPACK_IMPORTED_MODULE_4__.useClipboard)();\n    var copyPathName = function() {\n        clipboard.copy(window.location.href);\n        dispatch(_context_SnackBarContext__WEBPACK_IMPORTED_MODULE_7__.snackbarActions.showMessage({\n            message: \"\".concat(_assets_translations_AlertMessages_json__WEBPACK_IMPORTED_MODULE_5__.notifications.successfull.copied[selectedLanguage]),\n            alertType: \"success\"\n        }));\n    };\n    var openBookReaderForm = function() {\n        setBookReaderForm(true);\n    };\n    var openUpdateReaderForm = function() {\n        setUpdateReaderStatus(true);\n    };\n    var closeBookReaderForm = function() {\n        setBookReaderForm(false);\n    };\n    var closeUpdateReaderForm = function() {\n        setUpdateReaderStatus(false);\n    };\n    var removeFromShelf = function() {\n        if (user) {\n            if (readers.filter(function(doc) {\n                return doc.bookReadingId === id;\n            }).length === 1) {\n                removeFromDataBase(\"bookReaders\", \"\".concat(id));\n            } else {\n                removeFromDataBase(\"bookReaders\", \"\".concat(id, \"/readers/\").concat(user.uid));\n                removeFromDataBase(\"bookRecensions\", \"\".concat(id, \"/recensions/\").concat(user.uid));\n            }\n        }\n    };\n    var addToShelf = function(hasStarted, hasFinished, readPages) {\n        if (user) {\n            addToDataBase(\"bookReaders\", \"\".concat(id, \"/readers/\").concat(user.uid), {\n                bookRate: 0,\n                bookReadingId: id,\n                displayName: user.displayName,\n                email: user.email,\n                hasFinished: hasFinished,\n                id: user.uid,\n                pagesRead: readPages,\n                startedReading: hasStarted,\n                dateOfFinish: hasFinished ? new Date().getTime() : null,\n                recension: \"\",\n                photoURL: user.photoURL\n            });\n        }\n        var updateReaderState = function(hasStarted, hasFinished, readPages) {\n            if (user) {\n                if (document.pagesNumber > readPages) {\n                    removeFromDataBase(\"bookRecensions\", \"\".concat(id, \"/recensions/\").concat(user.uid));\n                }\n                addToDataBase(\"bookReaders\", \"\".concat(id, \"/readers/\").concat(user.uid), {\n                    bookRate: 0,\n                    bookReadingId: id,\n                    displayName: user.displayName,\n                    email: user.email,\n                    hasFinished: hasFinished,\n                    id: user.uid,\n                    pagesRead: readPages,\n                    startedReading: hasStarted,\n                    dateOfFinish: hasFinished ? new Date().getTime() : null,\n                    recension: \"\",\n                    photoURL: user.photoURL\n                });\n            }\n        };\n    };\n    var _useState6 = (0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_16__._)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), 2), showList = _useState6[0], setShowList = _useState6[1];\n    var showListsOfUsers = function() {\n        setShowList(true);\n    };\n    var closeListsOfUsers = function() {\n        setShowList(false);\n    };\n    var recommendToUser = function() {\n        var _ref = (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_20__._)(function(receiverId) {\n            var firstPossibility, secondPossibility, existingChat1, existingChat2, chatId, messageId;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_21__.__generator)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!user) return [\n                            3,\n                            3\n                        ];\n                        firstPossibility = \"\".concat(user.uid, \"-\").concat(receiverId);\n                        secondPossibility = \"\".concat(receiverId, \"-\").concat(user.uid);\n                        return [\n                            4,\n                            getDocument(\"usersChats\", firstPossibility)\n                        ];\n                    case 1:\n                        existingChat1 = _state.sent();\n                        return [\n                            4,\n                            getDocument(\"usersChats\", secondPossibility)\n                        ];\n                    case 2:\n                        existingChat2 = _state.sent();\n                        if (existingChat1 || existingChat2) {\n                            chatId = existingChat1 ? firstPossibility : secondPossibility;\n                        } else {\n                            chatId = firstPossibility;\n                            addToDataBase(\"usersChats\", firstPossibility, {\n                                chatId: firstPossibility,\n                                createdAt: new Date().getTime()\n                            });\n                            addToDataBase(\"entitledToChat\", \"\".concat(firstPossibility, \"/\").concat(user.uid), {\n                                entitledUserId: user.uid,\n                                entitledChatId: firstPossibility\n                            });\n                            addToDataBase(\"entitledToChat\", \"\".concat(firstPossibility, \"/\").concat(receiverId), {\n                                entitledUserId: receiverId,\n                                entitledChatId: firstPossibility\n                            });\n                        }\n                        messageId = \"\".concat(chatId, \"/\").concat(new Date().getTime()).concat(uniqid__WEBPACK_IMPORTED_MODULE_3___default()());\n                        addToDataBase(\"usersChatMessages\", messageId, {\n                            content: document.photoURL,\n                            message: \"Hi, I want to recommend you the book \".concat(document.title, \" written by \").concat(document.author, \".\"),\n                            chatId: chatId,\n                            sender: {\n                                id: user.uid\n                            },\n                            receiver: {\n                                id: receiverId\n                            },\n                            sentAt: new Date().getTime()\n                        });\n                        addToDataBase(\"recommendations\", messageId, {\n                            content: document.photoURL,\n                            message: \"Hi, I want to recommend you the book \".concat(document.title, \" written by \").concat(document.author, \".\"),\n                            chatId: chatId,\n                            messageId: messageId,\n                            sender: {\n                                id: user.uid\n                            },\n                            receiver: {\n                                id: receiverId\n                            },\n                            sentAt: new Date().getTime()\n                        });\n                        dispatch(_context_SnackBarContext__WEBPACK_IMPORTED_MODULE_7__.snackbarActions.showMessage({\n                            message: \"\".concat(_assets_translations_AlertMessages_json__WEBPACK_IMPORTED_MODULE_5__.notifications.successfull.send[selectedLanguage]),\n                            alertType: \"success\"\n                        }));\n                        _state.label = 3;\n                    case 3:\n                        return [\n                            2\n                        ];\n                }\n            });\n        });\n        return function recommendToUser(receiverId) {\n            return _ref.apply(this, arguments);\n        };\n    }();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen h-full overflow-x-hidden\",\n        children: [\n            document && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex max-w-7xl justify-around gap-4 mx-auto m-0 w-full xl:p-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-64 w-52\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                src: document.photoURL,\n                                alt: \"\",\n                                className: \"w-full object-cover h-full rounded-xl\",\n                                width: 80,\n                                height: 80\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                lineNumber: 403,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                            lineNumber: 402,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-white text-3xl\",\n                                    children: document.title\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                    lineNumber: 407,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex gap-4 items-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: changeLoveState,\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FaHeart_react_icons_fa__WEBPACK_IMPORTED_MODULE_22__.FaHeart, {\n                                                    className: \"transition-all duration-400 \".concat(showIfLiked ? \"text-red-400\" : \"text-white\"),\n                                                    size: 24\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                                    lineNumber: 411,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                                lineNumber: 410,\n                                                columnNumber: 19\n                                            }, this),\n                                            likers && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-white\",\n                                                children: [\n                                                    likers.filter(function(item) {\n                                                        return item.lovedBookId === id;\n                                                    })[0].displayName,\n                                                    \" and other \",\n                                                    likers.filter(function(item) {\n                                                        return item.lovedBookId === id;\n                                                    }).length - 1,\n                                                    \" loves it\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                                lineNumber: 413,\n                                                columnNumber: 30\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                        lineNumber: 409,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                                    lineNumber: 408,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                            lineNumber: 406,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                    lineNumber: 400,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false),\n            document && readers && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}, void 0, false),\n            bookReaderForm && document && user && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}, void 0, false),\n            updateReaderStatus && document && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}, void 0, false),\n            showLikers && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}, void 0, false),\n            isPending && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Loader__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n                lineNumber: 444,\n                columnNumber: 21\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Pulpit\\\\BookFreak\\\\bookfreak-project\\\\app\\\\book\\\\[bookId]\\\\page.tsx\",\n        lineNumber: 395,\n        columnNumber: 5\n    }, this);\n}\n_s(Book, \"lu0Zt1zFbuq2bWW56CTJBkUPcsI=\", false, function() {\n    return [\n        react_redux__WEBPACK_IMPORTED_MODULE_2__.useDispatch,\n        next_navigation__WEBPACK_IMPORTED_MODULE_15__.useRouter,\n        _hooks_useAuthContext__WEBPACK_IMPORTED_MODULE_8__.useAuthContext,\n        _hooks_useRealtimeDocument__WEBPACK_IMPORTED_MODULE_12__[\"default\"],\n        _hooks_useRealtimeDocuments__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n        react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector,\n        _hooks_useRealDatabase__WEBPACK_IMPORTED_MODULE_11__.useRealDatabase,\n        _hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n        _hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n        _hooks_useGetDocument__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n        _hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n        _hooks_useGetDocuments__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n        react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector,\n        use_clipboard_copy__WEBPACK_IMPORTED_MODULE_4__.useClipboard\n    ];\n});\n_c = Book;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Book);\nvar _c;\n$RefreshReg$(_c, \"Book\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9ib29rL1tib29rSWRdL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT2U7QUFPUztBQUtIO0FBTU87QUFDc0I7QUFFMEI7QUFPNUUsNEJBQTRCO0FBQzVCLG9FQUFvRTtBQUNwQjtBQUVtQjtBQUNKO0FBQ0o7QUFDRTtBQUNJO0FBQ0k7QUFDRTtBQUN2RSx1REFBdUQ7QUFDeEI7QUFDYTtBQUU1QyxTQUFTa0IsS0FBSyxLQUEwQztRQUExQyxlQUFFQzs7SUFDZCxJQUFRQyxLQUFlRCxPQUFmQztJQUNSLElBQU1FLFdBQVNuQix3REFBV0E7SUFDMUIsSUFBTW9CLFdBQVdOLDJEQUFTQTtJQUMxQixJQUFNLE9BQVdQLHFFQUFjQSxHQUF2QmM7SUFDUixJQUFrQ3ZCLFlBQUFBLGdFQUFBQSxDQUFBQSwrQ0FBUUEsQ0FBQyxZQUFwQ3dCLFlBQTJCeEIsY0FBaEJ5QixlQUFnQnpCO0lBQ2xDLElBQU0sY0FBa0JhLHVFQUFtQkEsR0FBbkNhO0lBQ1IsSUFBTSxlQUFtQlosd0VBQW9CQSxHQUFyQ2E7SUFDUixJQUFNQyxjQUFjekIsd0RBQVdBLENBQUMsU0FBQzBCO2VBQWNBLE1BQU1DLElBQUksQ0FBQ0MsVUFBVTs7SUFDcEUsSUFDRW5CLG1CQUFBQSx3RUFBZUEsSUFEVG9CLHFCQUNOcEIsaUJBRE1vQixvQkFBb0JDLGdCQUMxQnJCLGlCQUQwQnFCLGVBQWVDLGlCQUN6Q3RCLGlCQUR5Q3NCO0lBRTNDLElBQThCbEMsYUFBQUEsZ0VBQUFBLENBQUFBLCtDQUFRQSxDQUFDLFlBQWhDbUMsVUFBdUJuQyxlQUFkb0MsYUFBY3BDO0lBQzlCLElBQTRDQSxhQUFBQSxnRUFBQUEsQ0FBQUEsK0NBQVFBLENBQUMsWUFBOUNxQyxpQkFBcUNyQyxlQUFyQnNDLG9CQUFxQnRDO0lBQzVDLElBQW9EQSxhQUFBQSxnRUFBQUEsQ0FBQUEsK0NBQVFBLENBQUMsWUFBdER1QyxxQkFB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OENBQ2xELDhEQUFDTTtvQ0FBSUMsV0FBVTs4Q0FDYiw0RUFBQ0Q7d0NBQUlDLFdBQVU7OzBEQUNiLDhEQUFDTTtnREFBT0MsU0FBUzVEOzBEQUNmLDRFQUFDckgsbUZBQU9BO29EQUFDMEssV0FBVywrQkFBMkUsT0FBNUM1RyxjQUFjLGlCQUFpQjtvREFBZ0JvSCxNQUFNOzs7Ozs7Ozs7Ozs0Q0FFekcvSCx3QkFBVSw4REFBQzRIO2dEQUFFTCxXQUFVOztvREFBZXZILE9BQU91RCxNQUFNLENBQUMsU0FBQ3lFOytEQUFTQSxLQUFLN0QsV0FBVyxLQUFLbkc7c0RBQUcsQ0FBQyxFQUFFLENBQUMrRCxXQUFXO29EQUFFO29EQUFhL0IsT0FBT3VELE1BQU0sQ0FBQyxTQUFDeUU7K0RBQVNBLEtBQUs3RCxXQUFXLEtBQUtuRzt1REFBSXNELE1BQU0sR0FBRztvREFBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQVE3TFAsWUFBYUUseUJBQ1g7WUFLRmhDLGtCQUFrQjhCLFlBQVk1QyxzQkFDOUI7WUFLQWdCLHNCQUFzQjRCLDBCQUN4QjtZQUtFMUIsNEJBQ0M7WUFJRGpCLDJCQUFhLDhEQUFDakIsMERBQU1BOzs7Ozs7Ozs7OztBQUkzQjtHQTdZU1U7O1FBRVFmLG9EQUFXQTtRQUNUYyx1REFBU0E7UUFDVFAsaUVBQWNBO1FBRVBJLG1FQUFtQkE7UUFDbEJDLG9FQUFvQkE7UUFDekJYLG9EQUFXQTtRQUU3QlMsb0VBQWVBO1FBa0JNRCwrREFBZUE7UUFDSkEsK0RBQWVBO1FBMEJsQ0QsNkRBQWNBO1FBQ0lDLCtEQUFlQTtRQXlDZEEsK0RBQWVBO1FBU3hCUixvREFBV0E7UUF1Rm5CQSxvREFBV0E7UUFDVkUsNERBQVlBOzs7S0FsTXZCWTtBQStZVCwrREFBZUEsSUFBSUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9hcHAvYm9vay9bYm9va0lkXS9wYWdlLnRzeD8wODQzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcclxuXHJcblxyXG5pbXBvcnQge1xyXG4gIHVzZUVmZmVjdCxcclxuICB1c2VNZW1vLFxyXG4gIHVzZVN0YXRlLFxyXG59IGZyb20gJ3JlYWN0JztcclxuXHJcbmltcG9ydCB7XHJcbiAgRmFIZWFydCxcclxuICBGYVBlbmNpbEFsdCxcclxuICBGYVNoYXJlLFxyXG4gIEZhVHJhc2gsXHJcbn0gZnJvbSAncmVhY3QtaWNvbnMvZmEnO1xyXG5pbXBvcnQgeyBNZFJlY29tbWVuZCB9IGZyb20gJ3JlYWN0LWljb25zL21kJztcclxuaW1wb3J0IHtcclxuICB1c2VEaXNwYXRjaCxcclxuICB1c2VTZWxlY3RvcixcclxufSBmcm9tICdyZWFjdC1yZWR1eCc7XHJcbmltcG9ydCB7XHJcbiAgdXNlTmF2aWdhdGUsXHJcbiAgdXNlUGFyYW1zLFxyXG59IGZyb20gJ3JlYWN0LXJvdXRlcic7XHJcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcclxuaW1wb3J0IHVuaXFpZCBmcm9tICd1bmlxaWQnO1xyXG5pbXBvcnQgeyB1c2VDbGlwYm9hcmQgfSBmcm9tICd1c2UtY2xpcGJvYXJkLWNvcHknO1xyXG5cclxuaW1wb3J0IGFsZXJ0TWVzc2FnZXMgZnJvbSAnLi4vLi4vLi4vYXNzZXRzL3RyYW5zbGF0aW9ucy9BbGVydE1lc3NhZ2VzLmpzb24nO1xyXG5pbXBvcnQgdHJhbnNsYXRpb25zIGZyb20gJy4uLy4uLy4uL2Fzc2V0cy90cmFuc2xhdGlvbnMvQm9va1BhZ2VUcmFuc2xhdGlvbnMuanNvbic7XHJcbmltcG9ydCByZXVzZWFibGVUcmFuc2xhdGlvbnNcclxuICBmcm9tICcuLi8uLi8uLi9hc3NldHMvdHJhbnNsYXRpb25zL1JldXNhYmxlVHJhbnNsYXRpb25zLmpzb24nO1xyXG5pbXBvcnQgQm9va1JlYWRlckZvcm0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9ib29rL0Jvb2tSZWFkZXJGb3JtJztcclxuaW1wb3J0IExpa2Vyc0xpc3QgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9ib29rL0xpa2Vyc0xpc3QnO1xyXG5pbXBvcnQgUmVjZW5zaW9uc0ZvckJvb2sgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9ib29rL1JlY2Vuc2lvbnNGb3JCb29rJztcclxuLy8gaW1wb3J0IENvbXBldGl0aW9uTWVtYmVyc1xyXG4vLyAgIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQ29tbXVuaXR5Q29tcG9uZW50cy9Db21wZXRpdGlvbk1lbWJlcnMnO1xyXG5pbXBvcnQgTG9hZGVyIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvTG9hZGVyJztcclxuaW1wb3J0IHsgbW9kYWxBY3Rpb25zIH0gZnJvbSAnLi4vLi4vLi4vY29udGV4dC9Nb2RhbENvbnRleHQnO1xyXG5pbXBvcnQgeyBzbmFja2JhckFjdGlvbnMgfSBmcm9tICcuLi8uLi8uLi9jb250ZXh0L1NuYWNrQmFyQ29udGV4dCc7XHJcbmltcG9ydCB7IHVzZUF1dGhDb250ZXh0IH0gZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlQXV0aENvbnRleHQnO1xyXG5pbXBvcnQgdXNlR2V0RG9jdW1lbnQgZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlR2V0RG9jdW1lbnQnO1xyXG5pbXBvcnQgdXNlR2V0RG9jdW1lbnRzIGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZUdldERvY3VtZW50cyc7XHJcbmltcG9ydCB7IHVzZVJlYWxEYXRhYmFzZSB9IGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZVJlYWxEYXRhYmFzZSc7XHJcbmltcG9ydCB1c2VSZWFsdGltZURvY3VtZW50IGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZVJlYWx0aW1lRG9jdW1lbnQnO1xyXG5pbXBvcnQgdXNlUmVhbHRpbWVEb2N1bWVudHMgZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlUmVhbHRpbWVEb2N1bWVudHMnO1xyXG4vLyBpbXBvcnQgRWRpdEJvb2sgZnJvbSAnLi4vRm9ybXMmRm9ybXNQYWdlcy9FZGl0Qm9vayc7XHJcbmltcG9ydCBJbWFnZSBmcm9tICduZXh0L2ltYWdlJztcclxuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcclxuXHJcbmZ1bmN0aW9uIEJvb2soeyBwYXJhbXMgfTogeyBwYXJhbXM6IHsgYm9va0lkOiBzdHJpbmcgfSB9KSB7XHJcbiAgY29uc3QgeyBib29rSWQ6IGlkIH0gPSBwYXJhbXM7XHJcbiAgY29uc3QgZGlzcGF0Y2g9dXNlRGlzcGF0Y2goKTtcclxuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZVJvdXRlcigpO1xyXG4gIGNvbnN0IHsgdXNlciB9ID0gdXNlQXV0aENvbnRleHQoKTtcclxuICBjb25zdCBbaXNQZW5kaW5nLCBzZXRJc1BlbmRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IHsgZ2V0RG9jdW1lbnQgfSA9IHVzZVJlYWx0aW1lRG9jdW1lbnQoKTtcclxuICBjb25zdCB7IGdldERvY3VtZW50cyB9ID0gdXNlUmVhbHRpbWVEb2N1bWVudHMoKTtcclxuICBjb25zdCBpc0RhcmtNb2RlZCA9IHVzZVNlbGVjdG9yKChzdGF0ZTphbnkpID0+IHN0YXRlLm1vZGUuaXNEYXJrTW9kZSk7XHJcbiAgY29uc3QgeyByZW1vdmVGcm9tRGF0YUJhc2UsIGFkZFRvRGF0YUJhc2UsIHVwZGF0ZURhdGFiYXNlIH0gPVxyXG4gICAgdXNlUmVhbERhdGFiYXNlKCk7XHJcbiAgY29uc3QgW2lzTGlrZWQsIHNldElzTGlrZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtib29rUmVhZGVyRm9ybSwgc2V0Qm9va1JlYWRlckZvcm1dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFt1cGRhdGVSZWFkZXJTdGF0dXMsIHNldFVwZGF0ZVJlYWRlclN0YXR1c10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3Nob3dMaWtlcnMsIHNldFNob3dMaWtlcnNdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtleHBhbmRlZCwgc2V0RXhwYW5kZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICBjb25zdCBoYW5kbGVPcGVuQWNjb3JkID0gKHBhbmVsKSA9PiAoZXZlbnQsIGlzRXhwYW5kZWQpID0+IHtcclxuICAgIHNldEV4cGFuZGVkKGlzRXhwYW5kZWQgPyBwYW5lbCA6IGZhbHNlKTtcclxuICB9O1xyXG4gIGNvbnN0IHNob3dBbGxMaWtlcnMgPSAoKSA9PiB7XHJcbiAgICBzZXRTaG93TGlrZXJzKHRydWUpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhpZGVBbGxMaWtlcnMgPSAoKSA9PiB7XHJcbiAgICBzZXRTaG93TGlrZXJzKGZhbHNlKTtcclxuICB9O1xyXG5cclxuY29uc3Qge2RvY3VtZW50czpsaWtlcnN9PXVzZUdldERvY3VtZW50cyhcImxvdmVkQm9va3NcIik7XHJcbmNvbnN0IHtkb2N1bWVudHM6IHJlY2Vuc2lvbk9iamVjdHN9PXVzZUdldERvY3VtZW50cygnYm9va1JlY2Vuc2lvbnMnKTtcclxuXHJcbmNvbnN0IHJlY2Vuc2lvbnM9IHJlY2Vuc2lvbk9iamVjdHMubWFwKChib29rUmVhZGVyKSA9PiB7XHJcbiAgaWYgKGJvb2tSZWFkZXIucmVjZW5zaW9ucykge1xyXG4gICAgcmV0dXJuIGJvb2tSZWFkZXIucmVjZW5zaW9ucztcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxufSkubWFwKChvYmopID0+IHtcclxuICBpZiAob2JqICE9PSBudWxsICYmIG9iaiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICBjb25zdCBuZXN0ZWRPYmplY3QgPSBPYmplY3QudmFsdWVzKG9iaik7XHJcbiAgICByZXR1cm4gbmVzdGVkT2JqZWN0O1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG59KS5mbGF0KCk7XHJcblxyXG4gXHJcblxyXG4gIGNvbnN0IHNob3dJZkxpa2VkID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBpZiAodXNlcikgeyAgICAgIFxyXG4gICAgICByZXR1cm4gZ2V0RG9jdW1lbnQoXCJsb3ZlZEJvb2tzXCIsIGAke2lkfS0ke3VzZXIudWlkfWApLnRoZW4oKHZhbHVlKT0+IHZhbHVlKTtcclxuICBcclxuICAgIH1cclxuICB9LCBbZ2V0RG9jdW1lbnQsIGlkLCB1c2VyXSk7XHJcblxyXG5jb25zdCB7ZG9jdW1lbnR9PXVzZUdldERvY3VtZW50KCdib29rcycsIGlkKTtcclxuICBjb25zdCB7ZG9jdW1lbnRzOnJlYWRlcnNPYmplY3RzfT11c2VHZXREb2N1bWVudHMoXCJib29rUmVhZGVyc1wiKTtcclxuXHJcbiAgY29uc3QgcmVhZGVycz1yZWFkZXJzT2JqZWN0cy5tYXAoKGJvb2tSZWFkZXI6YW55KSA9PiB7XHJcbiAgICByZXR1cm4gYm9va1JlYWRlci5yZWFkZXJzO1xyXG4gIH0pLm1hcCgob2JqOmFueVtdKSA9PiB7XHJcbiAgICBjb25zdCBuZXN0ZWRPYmplY3QgPSBPYmplY3QudmFsdWVzKG9iaik7XHJcbiAgICByZXR1cm4gbmVzdGVkT2JqZWN0O1xyXG4gIH0pLmZsYXQoKTtcclxuXHJcbiBcclxuICBjb25zdCBwdWJsaXNoUmVjZW5zaW9uID0gKHJlY2Vuc2lvbiwgYm9va1JhdGUpID0+IHtcclxuICAgIGlmICh1c2VyKSB7XHJcbiAgICAgIGlmIChyZWNlbnNpb24udHJpbShcIlwiKS5sZW5ndGggPCAxMCkge1xyXG4gICAgICAgIGRpc3BhdGNoKHNuYWNrYmFyQWN0aW9ucy5zaG93TWVzc2FnZSh7bWVzc2FnZTpgJHthbGVydE1lc3NhZ2VzLm5vdGlmaWNhdGlvbnMud3JvbmcucmVjZW5zaW9uTG9uZ2VyW3NlbGVjdGVkTGFuZ3VhZ2VdfWAsIGFsZXJ0VHlwZTpcImVycm9yXCJ9KSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIGFkZFRvRGF0YUJhc2UoXCJib29rUmVjZW5zaW9uc1wiLCBgJHtpZH0vcmVjZW5zaW9ucy8ke3VzZXIudWlkfWAsIHtcclxuICAgICAgICByZWNlbnNpb25lZEJvb2s6IGlkLFxyXG4gICAgICAgIGJvb2tSYXRlOiBib29rUmF0ZSxcclxuICAgICAgICByZWNlbnNpb246IHJlY2Vuc2lvbixcclxuICAgICAgICBkaXNwbGF5TmFtZTogdXNlci5kaXNwbGF5TmFtZSxcclxuICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICBpZDogdXNlci51aWQsXHJcbiAgICAgICAgcGhvdG9VUkw6IHVzZXIucGhvdG9VUkwsXHJcbiAgICAgICAgZGF0ZU9mRmluaXNoOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcclxuICAgICAgfSk7XHJcbiAgXHJcbiAgICAgIGNvbnN0IHJlYWRlck9iamVjdCA9IHJlYWRlcnMuZmluZChcclxuICAgICAgICAocmVhZGVyOmFueSkgPT4gcmVhZGVyLmlkID09PSB1c2VyLnVpZCAmJiByZWFkZXIuYm9va1JlYWRpbmdJZCA9PT0gaWRcclxuICAgICAgKTtcclxuICBcclxuICAgICAgdXBkYXRlRGF0YWJhc2UoXHJcbiAgICAgICAgeyAuLi4ocmVhZGVyT2JqZWN0IGFzIGFueSksIHJlY2Vuc2lvbjogcmVjZW5zaW9uIH0sXHJcbiAgICAgICAgXCJib29rUmVhZGVyc1wiLFxyXG4gICAgICAgIGAke2lkfS9yZWFkZXJzLyR7dXNlci51aWR9YFxyXG4gICAgICApO1xyXG4gfVxyXG4gIH07XHJcblxyXG5cclxuICBjb25zdCB7ZG9jdW1lbnRzOiBtZW1iZXJzT2JqZWN0c309dXNlR2V0RG9jdW1lbnRzKCdjb21tdW5pdHlNZW1iZXJzJyk7XHJcbiAgY29uc3QgY29tcGV0aXRpb25zTWVtYmVycz0gbWVtYmVyc09iamVjdHMubWFwKChjb21tdW5pdHlNZW1iZXIpID0+IHtcclxuICAgIHJldHVybiBjb21tdW5pdHlNZW1iZXIudXNlcnM7XHJcbiAgfSkubWFwKChtZW1iZXIpID0+IHtcclxuICAgIHJldHVybiBPYmplY3QudmFsdWVzKG1lbWJlcik7XHJcbiAgfSkuZmxhdCgpO1xyXG5cclxuXHJcblxyXG4gIGNvbnN0IHNlbGVjdGVkTGFuZ3VhZ2UgPSB1c2VTZWxlY3RvcihcclxuICAgIChzdGF0ZTphbnkpID0+IHN0YXRlLmxhbmd1YWdlU2VsZWN0aW9uLnNlbGVjdGVkTGFuZ3VnYWdlXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgZ2V0Q29tcGV0aXRpb25NZW1iZXJzID0gKCkgPT4ge1xyXG4gICAgaWYgKHVzZXIpIHsgXHJcbiAgICAgICBjb25zdCB1c2VyQ29tcGV0aXRpb25zID0gY29tcGV0aXRpb25zTWVtYmVyc1xyXG4gICAgICAuZmlsdGVyKChkb2M6YW55KSA9PiBkb2MudmFsdWUuaWQgPT09IHVzZXIudWlkKVxyXG4gICAgICAubWFwKChjb21tdW5pdHlNZW1iZXI6YW55KSA9PiBjb21tdW5pdHlNZW1iZXIuYmVsb25nc1RvKTtcclxuXHJcbiAgICBsZXQgcmVzdWx0ID0gW107XHJcbiAgICBsZXQgdmlzaXRlZENvbXBldGl0aW9uczphbnlbXSA9IFtdO1xyXG5cclxuICAgIHdoaWxlICh1c2VyQ29tcGV0aXRpb25zLmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc3QgY3VycmVudENvbXBldGl0aW9uID0gdXNlckNvbXBldGl0aW9ucy5wb3AoKTtcclxuXHJcbiAgICAgIGlmICghdmlzaXRlZENvbXBldGl0aW9ucy5pbmNsdWRlcyhjdXJyZW50Q29tcGV0aXRpb24pKSB7XHJcbiAgICAgICAgY29uc3QgbWVtYmVyc0luQ3VycmVudENvbXBldGl0aW9uID0gY29tcGV0aXRpb25zTWVtYmVycy5maWx0ZXIoXHJcbiAgICAgICAgICAobWVtYmVyOmFueSkgPT4gbWVtYmVyLmJlbG9uZ3NUbyA9PT0gY3VycmVudENvbXBldGl0aW9uXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChtZW1iZXJzSW5DdXJyZW50Q29tcGV0aXRpb24gYXMgYW55KTtcclxuXHJcbiAgICAgICAgY29uc3QgbmV3TWVtYmVyc0NvbXBldGl0aW9ucyA9IG1lbWJlcnNJbkN1cnJlbnRDb21wZXRpdGlvblxyXG4gICAgICAgICAgLmZpbHRlcigobWVtYmVyOmFueSkgPT4gIXZpc2l0ZWRDb21wZXRpdGlvbnMuaW5jbHVkZXMobWVtYmVyLmJlbG9uZ3NUbykpXHJcbiAgICAgICAgICAubWFwKChtZW1iZXI6YW55KSA9PiBtZW1iZXIuYmVsb25nc1RvKTtcclxuXHJcbiAgICAgICAgdXNlckNvbXBldGl0aW9ucy5wdXNoKC4uLm5ld01lbWJlcnNDb21wZXRpdGlvbnMpO1xyXG4gICAgICAgIHZpc2l0ZWRDb21wZXRpdGlvbnMucHVzaChjdXJyZW50Q29tcGV0aXRpb24pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcihcclxuICAgICAgKHZhbHVlOmFueSwgaW5kZXgsIHNlbGYpID0+XHJcbiAgICAgICAgc2VsZi5maW5kSW5kZXgoKG06YW55KSA9PiBtLnZhbHVlLmlkID09PSB2YWx1ZS52YWx1ZS5pZCkgPT09IGluZGV4XHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiByZXN1bHQuZmlsdGVyKChtZW1iZXI6YW55KSA9PiBtZW1iZXIudmFsdWUuaWQgIT09IHVzZXIudWlkKTtcclxuICAgIH1cclxuICAgXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY2hhbmdlTG92ZVN0YXRlID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKHVzZXIpIHtcclxuXHJcbiAgICBpZiAoIXNob3dJZkxpa2VkKSB7XHJcbiAgICAgIGFkZFRvRGF0YUJhc2UoXCJsb3ZlZEJvb2tzXCIsIGAke2lkfS0ke3VzZXIudWlkfWAsIHtcclxuICAgICAgICBkaXNwbGF5TmFtZTogdXNlci5kaXNwbGF5TmFtZSxcclxuICAgICAgICBsb3ZlZEJvb2tJZDogaWQsXHJcbiAgICAgICAgbG92ZWRCeTogdXNlci51aWQsXHJcbiAgICAgICAgcGhvdG9VUkw6IHVzZXIucGhvdG9VUkwsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZ2V0RG9jdW1lbnQoXCJsaWtlc0RhdGFcIiwgaWQpLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICB1cGRhdGVEYXRhYmFzZShcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgbGlrZXNBbW91bnQ6IGRhdGEubGlrZXNBbW91bnQgKyAxLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIFwibGlrZXNEYXRhXCIsXHJcbiAgICAgICAgICBpZFxyXG4gICAgICAgICk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVtb3ZlRnJvbURhdGFCYXNlKFwibG92ZWRCb29rc1wiLCBgJHtpZH0tJHt1c2VyLnVpZH1gKTtcclxuICAgICAgZ2V0RG9jdW1lbnQoXCJsaWtlc0RhdGFcIiwgaWQpLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICB1cGRhdGVEYXRhYmFzZShcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgbGlrZXNBbW91bnQ6IGRhdGEubGlrZXNBbW91bnQgLSAxLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIFwibGlrZXNEYXRhXCIsXHJcbiAgICAgICAgICBpZFxyXG4gICAgICAgICk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgfVxyXG4gICBcclxuICB9O1xyXG5cclxuICBjb25zdCBjbGlja0RlbGV0ZSA9ICgpID0+IHtcclxuICAgIHNldElzUGVuZGluZyh0cnVlKTtcclxuXHJcbiAgICByZW1vdmVGcm9tRGF0YUJhc2UoXCJib29rc1wiLCBpZCk7XHJcbmRpc3BhdGNoKHNuYWNrYmFyQWN0aW9ucy5zaG93TWVzc2FnZSh7bWVzc2FnZTpgJHsgIGFsZXJ0TWVzc2FnZXMubm90aWZpY2F0aW9ucy5zdWNjZXNzZnVsbC5yZW1vdmVbc2VsZWN0ZWRMYW5ndWFnZV19YCwgYWxlcnRUeXBlOlwic3VjY2Vzc1wifSkpO1xyXG4gICAgc2V0SXNQZW5kaW5nKGZhbHNlKTtcclxuICAgIG5hdmlnYXRlLnB1c2goXCIvXCIpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGlzT3BlbmVkID0gdXNlU2VsZWN0b3IoKHN0YXRlOmFueSkgPT4gc3RhdGUubW9kYWwuaXNPcGVuZWQpO1xyXG4gIGNvbnN0IGNsaXBib2FyZCA9IHVzZUNsaXBib2FyZCgpO1xyXG5cclxuICBjb25zdCBjb3B5UGF0aE5hbWUgPSAoKSA9PiB7XHJcbiAgICBjbGlwYm9hcmQuY29weSh3aW5kb3cubG9jYXRpb24uaHJlZik7XHJcbiAgICBkaXNwYXRjaChzbmFja2JhckFjdGlvbnMuc2hvd01lc3NhZ2Uoe21lc3NhZ2U6YCR7YWxlcnRNZXNzYWdlcy5ub3RpZmljYXRpb25zLnN1Y2Nlc3NmdWxsLmNvcGllZFtzZWxlY3RlZExhbmd1YWdlXX1gLCBhbGVydFR5cGU6XCJzdWNjZXNzXCJ9KSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgb3BlbkJvb2tSZWFkZXJGb3JtID0gKCkgPT4ge1xyXG4gICAgc2V0Qm9va1JlYWRlckZvcm0odHJ1ZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgb3BlblVwZGF0ZVJlYWRlckZvcm0gPSAoKSA9PiB7XHJcbiAgICBzZXRVcGRhdGVSZWFkZXJTdGF0dXModHJ1ZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY2xvc2VCb29rUmVhZGVyRm9ybSA9ICgpID0+IHtcclxuICAgIHNldEJvb2tSZWFkZXJGb3JtKGZhbHNlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBjbG9zZVVwZGF0ZVJlYWRlckZvcm0gPSAoKSA9PiB7XHJcbiAgICBzZXRVcGRhdGVSZWFkZXJTdGF0dXMoZmFsc2UpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlbW92ZUZyb21TaGVsZiA9ICgpID0+IHtcclxuICAgIGlmICh1c2VyKSB7XHJcbiAgICAgIGlmKHJlYWRlcnMuZmlsdGVyKChkb2M6YW55KT0+ZG9jLmJvb2tSZWFkaW5nSWQ9PT1pZCkubGVuZ3RoID09PSAxKXtcclxuICAgICAgICByZW1vdmVGcm9tRGF0YUJhc2UoYGJvb2tSZWFkZXJzYCwgYCR7aWR9YCk7XHJcbiAgICAgIH1lbHNle1xyXG4gICAgICAgIHJlbW92ZUZyb21EYXRhQmFzZShgYm9va1JlYWRlcnNgLCBgJHtpZH0vcmVhZGVycy8ke3VzZXIudWlkfWApO1xyXG4gICAgICAgIHJlbW92ZUZyb21EYXRhQmFzZShgYm9va1JlY2Vuc2lvbnNgLCBgJHtpZH0vcmVjZW5zaW9ucy8ke3VzZXIudWlkfWApO1xyXG4gICAgICBcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICB9O1xyXG5cclxuICBjb25zdCBhZGRUb1NoZWxmID0gKGhhc1N0YXJ0ZWQsIGhhc0ZpbmlzaGVkLCByZWFkUGFnZXMpID0+IHtcclxuICAgIGlmICh1c2VyKSB7IFxyXG4gICAgICAgICBhZGRUb0RhdGFCYXNlKFwiYm9va1JlYWRlcnNcIiwgYCR7aWR9L3JlYWRlcnMvJHt1c2VyLnVpZH1gLCB7XHJcbiAgICAgIGJvb2tSYXRlOiAwLFxyXG4gICAgICBib29rUmVhZGluZ0lkOiBpZCxcclxuICAgICAgZGlzcGxheU5hbWU6IHVzZXIuZGlzcGxheU5hbWUsXHJcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICBoYXNGaW5pc2hlZCxcclxuICAgICAgaWQ6IHVzZXIudWlkLFxyXG4gICAgICBwYWdlc1JlYWQ6IHJlYWRQYWdlcyxcclxuICAgICAgc3RhcnRlZFJlYWRpbmc6IGhhc1N0YXJ0ZWQsXHJcbiAgICAgIGRhdGVPZkZpbmlzaDogaGFzRmluaXNoZWQgPyBuZXcgRGF0ZSgpLmdldFRpbWUoKSA6IG51bGwsXHJcbiAgICAgIHJlY2Vuc2lvbjogXCJcIixcclxuICAgICAgcGhvdG9VUkw6IHVzZXIucGhvdG9VUkwsXHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAgIGNvbnN0IHVwZGF0ZVJlYWRlclN0YXRlID0gKGhhc1N0YXJ0ZWQsIGhhc0ZpbmlzaGVkLCByZWFkUGFnZXMpID0+IHtcclxuICAgICAgaWYgKHVzZXIpIHsgICBcclxuICAgICAgICBpZiAoZG9jdW1lbnQucGFnZXNOdW1iZXIgPiByZWFkUGFnZXMpIHtcclxuICAgICAgICAgIHJlbW92ZUZyb21EYXRhQmFzZShgYm9va1JlY2Vuc2lvbnNgLCBgJHtpZH0vcmVjZW5zaW9ucy8ke3VzZXIudWlkfWApO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGFkZFRvRGF0YUJhc2UoXCJib29rUmVhZGVyc1wiLCBgJHtpZH0vcmVhZGVycy8ke3VzZXIudWlkfWAsIHtcclxuICAgICAgICAgIGJvb2tSYXRlOiAwLFxyXG4gICAgICAgICAgYm9va1JlYWRpbmdJZDogaWQsXHJcbiAgICAgICAgICBkaXNwbGF5TmFtZTogdXNlci5kaXNwbGF5TmFtZSxcclxuICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgaGFzRmluaXNoZWQsXHJcbiAgICAgICAgICBpZDogdXNlci51aWQsXHJcbiAgICAgICAgICBwYWdlc1JlYWQ6IHJlYWRQYWdlcyxcclxuICAgICAgICAgIHN0YXJ0ZWRSZWFkaW5nOiBoYXNTdGFydGVkLFxyXG4gICAgICAgICAgZGF0ZU9mRmluaXNoOiBoYXNGaW5pc2hlZCA/IG5ldyBEYXRlKCkuZ2V0VGltZSgpIDogbnVsbCxcclxuICAgICAgICAgIHJlY2Vuc2lvbjogXCJcIixcclxuICAgICAgICAgIHBob3RvVVJMOiB1c2VyLnBob3RvVVJMLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IFtzaG93TGlzdCwgc2V0U2hvd0xpc3RdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IHNob3dMaXN0c09mVXNlcnMgPSAoKSA9PiB7XHJcbiAgICBzZXRTaG93TGlzdCh0cnVlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBjbG9zZUxpc3RzT2ZVc2VycyA9ICgpID0+IHtcclxuICAgIHNldFNob3dMaXN0KGZhbHNlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCByZWNvbW1lbmRUb1VzZXIgPSBhc3luYyAocmVjZWl2ZXJJZDogc3RyaW5nKSA9PiB7XHJcbiAgICBpZiAodXNlcikge1xyXG4gICAgICAgY29uc3QgZmlyc3RQb3NzaWJpbGl0eSA9IGAke3VzZXIudWlkfS0ke3JlY2VpdmVySWR9YDtcclxuICAgIGNvbnN0IHNlY29uZFBvc3NpYmlsaXR5ID0gYCR7cmVjZWl2ZXJJZH0tJHt1c2VyLnVpZH1gO1xyXG5cclxuICAgIGNvbnN0IGV4aXN0aW5nQ2hhdDEgPSBhd2FpdCBnZXREb2N1bWVudChcInVzZXJzQ2hhdHNcIiwgZmlyc3RQb3NzaWJpbGl0eSk7XHJcbiAgICBjb25zdCBleGlzdGluZ0NoYXQyID0gYXdhaXQgZ2V0RG9jdW1lbnQoXCJ1c2Vyc0NoYXRzXCIsIHNlY29uZFBvc3NpYmlsaXR5KTtcclxuXHJcbiAgICBsZXQgY2hhdElkO1xyXG5cclxuICAgIGlmIChleGlzdGluZ0NoYXQxIHx8IGV4aXN0aW5nQ2hhdDIpIHtcclxuICAgICAgY2hhdElkID0gZXhpc3RpbmdDaGF0MSA/IGZpcnN0UG9zc2liaWxpdHkgOiBzZWNvbmRQb3NzaWJpbGl0eTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNoYXRJZCA9IGZpcnN0UG9zc2liaWxpdHk7XHJcblxyXG4gICAgICBhZGRUb0RhdGFCYXNlKFwidXNlcnNDaGF0c1wiLCBmaXJzdFBvc3NpYmlsaXR5LCB7XHJcbiAgICAgICAgY2hhdElkOiBmaXJzdFBvc3NpYmlsaXR5LFxyXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS5nZXRUaW1lKCksXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgYWRkVG9EYXRhQmFzZShcImVudGl0bGVkVG9DaGF0XCIsIGAke2ZpcnN0UG9zc2liaWxpdHl9LyR7dXNlci51aWR9YCwge1xyXG4gICAgICAgIGVudGl0bGVkVXNlcklkOiB1c2VyLnVpZCxcclxuICAgICAgICBlbnRpdGxlZENoYXRJZDogZmlyc3RQb3NzaWJpbGl0eSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBhZGRUb0RhdGFCYXNlKFwiZW50aXRsZWRUb0NoYXRcIiwgYCR7Zmlyc3RQb3NzaWJpbGl0eX0vJHtyZWNlaXZlcklkfWAsIHtcclxuICAgICAgICBlbnRpdGxlZFVzZXJJZDogcmVjZWl2ZXJJZCxcclxuICAgICAgICBlbnRpdGxlZENoYXRJZDogZmlyc3RQb3NzaWJpbGl0eSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgIFxyXG4gICAgY29uc3QgbWVzc2FnZUlkID0gYCR7Y2hhdElkfS8ke25ldyBEYXRlKCkuZ2V0VGltZSgpfSR7dW5pcWlkKCl9YDtcclxuXHJcbiAgICBhZGRUb0RhdGFCYXNlKFwidXNlcnNDaGF0TWVzc2FnZXNcIiwgbWVzc2FnZUlkLCB7XHJcbiAgICAgIGNvbnRlbnQ6IGRvY3VtZW50LnBob3RvVVJMLFxyXG4gICAgICBtZXNzYWdlOiBgSGksIEkgd2FudCB0byByZWNvbW1lbmQgeW91IHRoZSBib29rICR7ZG9jdW1lbnQudGl0bGV9IHdyaXR0ZW4gYnkgJHtkb2N1bWVudC5hdXRob3J9LmAsXHJcbiAgICAgIGNoYXRJZDogY2hhdElkLFxyXG4gICAgICBzZW5kZXI6IHtcclxuICAgICAgICBpZDogdXNlci51aWQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHJlY2VpdmVyOiB7XHJcbiAgICAgICAgaWQ6IHJlY2VpdmVySWQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHNlbnRBdDogbmV3IERhdGUoKS5nZXRUaW1lKCksXHJcbiAgICB9KTtcclxuXHJcbiAgICBhZGRUb0RhdGFCYXNlKFwicmVjb21tZW5kYXRpb25zXCIsIG1lc3NhZ2VJZCwge1xyXG4gICAgICBjb250ZW50OiBkb2N1bWVudC5waG90b1VSTCxcclxuICAgICAgbWVzc2FnZTogYEhpLCBJIHdhbnQgdG8gcmVjb21tZW5kIHlvdSB0aGUgYm9vayAke2RvY3VtZW50LnRpdGxlfSB3cml0dGVuIGJ5ICR7ZG9jdW1lbnQuYXV0aG9yfS5gLFxyXG4gICAgICBjaGF0SWQ6IGNoYXRJZCxcclxuICAgICAgbWVzc2FnZUlkLFxyXG4gICAgICBzZW5kZXI6IHtcclxuICAgICAgICBpZDogdXNlci51aWQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHJlY2VpdmVyOiB7XHJcbiAgICAgICAgaWQ6IHJlY2VpdmVySWQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHNlbnRBdDogbmV3IERhdGUoKS5nZXRUaW1lKCksXHJcbiAgICB9KTtcclxuZGlzcGF0Y2goc25hY2tiYXJBY3Rpb25zLnNob3dNZXNzYWdlKHttZXNzYWdlOmAke2FsZXJ0TWVzc2FnZXMubm90aWZpY2F0aW9ucy5zdWNjZXNzZnVsbC5zZW5kW3NlbGVjdGVkTGFuZ3VhZ2VdfWAsIGFsZXJ0VHlwZTpcInN1Y2Nlc3NcIn0pKTtcclxuICAgIH1cclxuXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPXtgbWluLWgtc2NyZWVuIGgtZnVsbCBvdmVyZmxvdy14LWhpZGRlbmB9PlxyXG4gICAgICB7Lyoge2lzT3BlbmVkICYmIDxFZGl0Qm9vayBpZD17aWR9IC8+fSAqL31cclxuXHJcbiAgICAgIHtkb2N1bWVudCAmJiAoXHJcbiAgICAgICAgPD5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtYXgtdy03eGwganVzdGlmeS1hcm91bmQgZ2FwLTQgbXgtYXV0byBtLTAgdy1mdWxsIHhsOnAtNlwiPlxyXG5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTY0IHctNTJcIj5cclxuICAgICAgICAgICAgICA8SW1hZ2Ugc3JjPXtkb2N1bWVudC5waG90b1VSTH0gYWx0PScnIGNsYXNzTmFtZT0ndy1mdWxsIG9iamVjdC1jb3ZlciBoLWZ1bGwgcm91bmRlZC14bCcgd2lkdGg9ezgwfSBoZWlnaHQ9ezgwfS8+IFxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC0zeGxcIj57ZG9jdW1lbnQudGl0bGV9PC9wPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtNCBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtjaGFuZ2VMb3ZlU3RhdGV9PiBcclxuICAgICAgICAgICAgICAgICAgICA8RmFIZWFydCBjbGFzc05hbWU9e2B0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi00MDAgJHtzaG93SWZMaWtlZCA/ICd0ZXh0LXJlZC00MDAnIDogJ3RleHQtd2hpdGUnfWB9IHNpemU9ezI0fS8+XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICB7bGlrZXJzICYmIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGVcIj57KGxpa2Vycy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0ubG92ZWRCb29rSWQgPT09IGlkKVswXS5kaXNwbGF5TmFtZSl9IGFuZCBvdGhlciB7KGxpa2Vycy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0ubG92ZWRCb29rSWQgPT09IGlkKS5sZW5ndGggLSAxKX0gbG92ZXMgaXQ8L3A+fVxyXG48L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvPlxyXG4gICAgICApfVxyXG4gICAgICB7ZG9jdW1lbnQgJiYgIHJlYWRlcnMgJiYgKFxyXG4gICAgICAgICA8PlxyXG4gICAgIFxyXG4gICAgICAgICAgICA8Lz5cclxuICAgICAgKX1cclxuXHJcbiAgICAgIHtib29rUmVhZGVyRm9ybSAmJiBkb2N1bWVudCAmJiB1c2VyICYmIChcclxuICAgICAgIDw+XHJcbiAgICAgXHJcbiAgICAgICAgICAgIDwvPlxyXG4gICAgICApfVxyXG5cclxuICAgICAge3VwZGF0ZVJlYWRlclN0YXR1cyAmJiBkb2N1bWVudCAmJiAoXHJcbiAgICAgPD5cclxuICAgICBcclxuICAgICAgICAgICAgPC8+XHJcbiAgICAgICl9XHJcblxyXG4gICAgICB7c2hvd0xpa2VycyAmJiAoXHJcbiAgICAgICAgPD5cclxuICAgICBcclxuICAgICAgICAgICAgPC8+XHJcbiAgICAgICl9XHJcbiAgICAgIHtpc1BlbmRpbmcgJiYgPExvYWRlciAvPn1cclxuXHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCb29rO1xyXG4iXSwibmFtZXMiOlsidXNlTWVtbyIsInVzZVN0YXRlIiwiRmFIZWFydCIsInVzZURpc3BhdGNoIiwidXNlU2VsZWN0b3IiLCJ1bmlxaWQiLCJ1c2VDbGlwYm9hcmQiLCJhbGVydE1lc3NhZ2VzIiwiTG9hZGVyIiwic25hY2tiYXJBY3Rpb25zIiwidXNlQXV0aENvbnRleHQiLCJ1c2VHZXREb2N1bWVudCIsInVzZUdldERvY3VtZW50cyIsInVzZVJlYWxEYXRhYmFzZSIsInVzZVJlYWx0aW1lRG9jdW1lbnQiLCJ1c2VSZWFsdGltZURvY3VtZW50cyIsIkltYWdlIiwidXNlUm91dGVyIiwiQm9vayIsInBhcmFtcyIsImJvb2tJZCIsImlkIiwiZGlzcGF0Y2giLCJuYXZpZ2F0ZSIsInVzZXIiLCJpc1BlbmRpbmciLCJzZXRJc1BlbmRpbmciLCJnZXREb2N1bWVudCIsImdldERvY3VtZW50cyIsImlzRGFya01vZGVkIiwic3RhdGUiLCJtb2RlIiwiaXNEYXJrTW9kZSIsInJlbW92ZUZyb21EYXRhQmFzZSIsImFkZFRvRGF0YUJhc2UiLCJ1cGRhdGVEYXRhYmFzZSIsImlzTGlrZWQiLCJzZXRJc0xpa2VkIiwiYm9va1JlYWRlckZvcm0iLCJzZXRCb29rUmVhZGVyRm9ybSIsInVwZGF0ZVJlYWRlclN0YXR1cyIsInNldFVwZGF0ZVJlYWRlclN0YXR1cyIsInNob3dMaWtlcnMiLCJzZXRTaG93TGlrZXJzIiwiZXhwYW5kZWQiLCJzZXRFeHBhbmRlZCIsImhhbmRsZU9wZW5BY2NvcmQiLCJwYW5lbCIsImV2ZW50IiwiaXNFeHBhbmRlZCIsInNob3dBbGxMaWtlcnMiLCJoaWRlQWxsTGlrZXJzIiwiZG9jdW1lbnRzIiwibGlrZXJzIiwicmVjZW5zaW9uT2JqZWN0cyIsInJlY2Vuc2lvbnMiLCJtYXAiLCJib29rUmVhZGVyIiwib2JqIiwidW5kZWZpbmVkIiwibmVzdGVkT2JqZWN0IiwiT2JqZWN0IiwidmFsdWVzIiwiZmxhdCIsInNob3dJZkxpa2VkIiwidWlkIiwidGhlbiIsInZhbHVlIiwiZG9jdW1lbnQiLCJyZWFkZXJzT2JqZWN0cyIsInJlYWRlcnMiLCJwdWJsaXNoUmVjZW5zaW9uIiwicmVjZW5zaW9uIiwiYm9va1JhdGUiLCJ0cmltIiwibGVuZ3RoIiwic2hvd01lc3NhZ2UiLCJtZXNzYWdlIiwibm90aWZpY2F0aW9ucyIsIndyb25nIiwicmVjZW5zaW9uTG9uZ2VyIiwic2VsZWN0ZWRMYW5ndWFnZSIsImFsZXJ0VHlwZSIsInJlY2Vuc2lvbmVkQm9vayIsImRpc3BsYXlOYW1lIiwiZW1haWwiLCJwaG90b1VSTCIsImRhdGVPZkZpbmlzaCIsIkRhdGUiLCJnZXRUaW1lIiwicmVhZGVyT2JqZWN0IiwiZmluZCIsInJlYWRlciIsImJvb2tSZWFkaW5nSWQiLCJtZW1iZXJzT2JqZWN0cyIsImNvbXBldGl0aW9uc01lbWJlcnMiLCJjb21tdW5pdHlNZW1iZXIiLCJ1c2VycyIsIm1lbWJlciIsImxhbmd1YWdlU2VsZWN0aW9uIiwic2VsZWN0ZWRMYW5ndWdhZ2UiLCJnZXRDb21wZXRpdGlvbk1lbWJlcnMiLCJjdXJyZW50Q29tcGV0aXRpb24iLCJ1c2VyQ29tcGV0aXRpb25zIiwicG9wIiwidmlzaXRlZENvbXBldGl0aW9ucyIsImluY2x1ZGVzIiwibWVtYmVyc0luQ3VycmVudENvbXBldGl0aW9uIiwiZmlsdGVyIiwiYmVsb25nc1RvIiwicmVzdWx0IiwiY29uY2F0IiwibmV3TWVtYmVyc0NvbXBldGl0aW9ucyIsInB1c2giLCJkb2MiLCJpbmRleCIsInNlbGYiLCJmaW5kSW5kZXgiLCJtIiwiY2hhbmdlTG92ZVN0YXRlIiwibG92ZWRCb29rSWQiLCJsb3ZlZEJ5IiwiZGF0YSIsImxpa2VzQW1vdW50IiwiY2xpY2tEZWxldGUiLCJzdWNjZXNzZnVsbCIsInJlbW92ZSIsImlzT3BlbmVkIiwibW9kYWwiLCJjbGlwYm9hcmQiLCJjb3B5UGF0aE5hbWUiLCJjb3B5Iiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiY29waWVkIiwib3BlbkJvb2tSZWFkZXJGb3JtIiwib3BlblVwZGF0ZVJlYWRlckZvcm0iLCJjbG9zZUJvb2tSZWFkZXJGb3JtIiwiY2xvc2VVcGRhdGVSZWFkZXJGb3JtIiwicmVtb3ZlRnJvbVNoZWxmIiwiYWRkVG9TaGVsZiIsImhhc1N0YXJ0ZWQiLCJoYXNGaW5pc2hlZCIsInJlYWRQYWdlcyIsInBhZ2VzUmVhZCIsInN0YXJ0ZWRSZWFkaW5nIiwidXBkYXRlUmVhZGVyU3RhdGUiLCJwYWdlc051bWJlciIsInNob3dMaXN0Iiwic2V0U2hvd0xpc3QiLCJzaG93TGlzdHNPZlVzZXJzIiwiY2xvc2VMaXN0c09mVXNlcnMiLCJyZWNvbW1lbmRUb1VzZXIiLCJyZWNlaXZlcklkIiwiZmlyc3RQb3NzaWJpbGl0eSIsInNlY29uZFBvc3NpYmlsaXR5IiwiZXhpc3RpbmdDaGF0MSIsImV4aXN0aW5nQ2hhdDIiLCJjaGF0SWQiLCJtZXNzYWdlSWQiLCJjcmVhdGVkQXQiLCJlbnRpdGxlZFVzZXJJZCIsImVudGl0bGVkQ2hhdElkIiwiY29udGVudCIsInRpdGxlIiwiYXV0aG9yIiwic2VuZGVyIiwicmVjZWl2ZXIiLCJzZW50QXQiLCJzZW5kIiwiZGl2IiwiY2xhc3NOYW1lIiwic3JjIiwiYWx0Iiwid2lkdGgiLCJoZWlnaHQiLCJwIiwiYnV0dG9uIiwib25DbGljayIsInNpemUiLCJpdGVtIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/book/[bookId]/page.tsx\n"));

/***/ })

});